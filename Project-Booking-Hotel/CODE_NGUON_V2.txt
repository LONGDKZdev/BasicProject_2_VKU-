=== SOURCE CODE FROM V2 (Project-Booking-Hotel) ===
Path: Project_Demo/Project-Booking-Hotel



=================================================================
FILE PATH (V2): package.json
=================================================================
{
  "name": "hotelbooking",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "@emailjs/browser": "^4.4.1",
    "html2canvas": "^1.4.1",
    "jspdf": "^3.0.3",
    "qrcode.react": "^4.2.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@headlessui/react": "^1.7.10",
    "@types/react": "^18.0.27",
    "@types/react-dom": "^18.0.10",
    "@vitejs/plugin-react": "^3.1.0",
    "autoprefixer": "^10.4.13",
    "postcss": "^8.4.21",
    "react-datepicker": "^4.10.0",
    "react-icons": "^4.7.1",
    "react-router-dom": "^6.8.1",
    "spinners-react": "^1.0.7",
    "swiper": "^9.0.4",
    "tailwindcss": "^3.2.6",
    "vite": "^4.1.0",
    "vite-plugin-svgr": "^2.4.0"
  }
}


=================================================================
FILE PATH (V2): src\App.jsx
=================================================================
import { BrowserRouter, Route, Routes, useLocation } from "react-router-dom";
import { Footer, Header, PageNotFound, ProtectedRoute } from "./components";
import ChatBox from "./components/chatBox";
import {
  Home,
  RoomDetails,
  Admin,
  Login,
  Register,
  ForgotPassword,
  ResetPassword,
  RoomsPage,
  Contact,
  UserDashboard,
  RestaurantPage,
  SpaPage,
  CleanupPage,
} from "./pages";
import "./style/chatbox.css";

const AppContent = () => {
  const location = useLocation();
  const isAdminPage = location.pathname.startsWith("/admin");
  const isLoginPage =
    location.pathname === "/login" || location.pathname === "/admin/login";
  const isRegisterPage = location.pathname === "/register";
  const isForgotPasswordPage = location.pathname === "/forgot-password";
  const isResetPasswordPage = location.pathname === "/reset-password";
  const isUserDashboardPage = location.pathname === "/account";
  const shouldHideHeaderFooter =
    isAdminPage ||
    isLoginPage ||
    isRegisterPage ||
    isForgotPasswordPage ||
    isResetPasswordPage ||
    isUserDashboardPage;

  return (
    <>
      {!shouldHideHeaderFooter && <Header />}

      <Routes>
        <Route path={"/"} element={<Home />} />
        <Route path={"/room/:id"} element={<RoomDetails />} />
        <Route path={"/rooms"} element={<RoomsPage />} />
        <Route path={"/restaurant"} element={<RestaurantPage />} />
        <Route path={"/spa"} element={<SpaPage />} />
        <Route path={"/contact"} element={<Contact />} />
        <Route
          path={"/account"}
          element={
            <ProtectedRoute redirectTo="/login" disallowAdmin={true}>
              <UserDashboard />
            </ProtectedRoute>
          }
        />
        <Route path={"/login"} element={<Login />} />
        <Route path={"/register"} element={<Register />} />
        <Route path={"/forgot-password"} element={<ForgotPassword />} />
        <Route path={"/reset-password"} element={<ResetPassword />} />
        <Route path={"/admin/login"} element={<Login />} />
        <Route
          path={"/admin"}
          element={
            <ProtectedRoute requireAdmin={true} redirectTo="/admin/login">
              <Admin />
            </ProtectedRoute>
          }
        />
        <Route path={"/cleanup"} element={<CleanupPage />} />
        <Route path={"*"} element={<PageNotFound />} />
      </Routes>

      {!shouldHideHeaderFooter && <Footer />}
      {!shouldHideHeaderFooter && <ChatBox />}
    </>
  );
};

const App = () => {
  return (
    <main className="">
      <BrowserRouter>
        <AppContent />
      </BrowserRouter>
    </main>
  );
};

export default App;


=================================================================
FILE PATH (V2): src\assets\index.js
=================================================================
import Room1Img from './img/rooms/1.png';
import Room2Img from './img/rooms/2.png';
import Room3Img from './img/rooms/3.png';
import Room4Img from './img/rooms/4.png';
import Room5Img from './img/rooms/5.png';
import Room6Img from './img/rooms/6.png';
import Room7Img from './img/rooms/7.png';
import Room8Img from './img/rooms/8.png';
import Room1ImgLg from './img/rooms/1-lg.png';
import Room2ImgLg from './img/rooms/2-lg.png';
import Room3ImgLg from './img/rooms/3-lg.png';
import Room4ImgLg from './img/rooms/4-lg.png';
import Room5ImgLg from './img/rooms/5-lg.png';
import Room6ImgLg from './img/rooms/6-lg.png';
import Room7ImgLg from './img/rooms/7-lg.png';
import Room8ImgLg from './img/rooms/8-lg.png';

import Slider1 from './img/heroSlider/1.jpg';
import Slider2 from './img/heroSlider/2.jpg';
import Slider3 from './img/heroSlider/3.jpg';

export { ReactComponent as LogoDark } from './img/logo-dark.svg';
export { ReactComponent as LogoWhite } from './img/logo-white.svg';

const images = {
    Slider1,
    Slider2,
    Slider3,
    Room1Img,
    Room2Img,
    Room3Img,
    Room4Img,
    Room5Img,
    Room6Img,
    Room7Img,
    Room8Img,
    Room1ImgLg,
    Room2ImgLg,
    Room3ImgLg,
    Room4ImgLg,
    Room5ImgLg,
    Room6ImgLg,
    Room7ImgLg,
    Room8ImgLg,
}

export default images;

=================================================================
FILE PATH (V2): src\components\admin\AuditLogsManagement.jsx
=================================================================
import { useState } from 'react';
import { FaHistory, FaUser, FaTable, FaEdit, FaTrash, FaPlus } from 'react-icons/fa';

const AuditLogsManagement = () => {
  const [logs, setLogs] = useState([]);
  const [filter, setFilter] = useState({
    actor: '',
    action: '',
    targetTable: ''
  });

  const actionIcons = {
    create: FaPlus,
    update: FaEdit,
    delete: FaTrash,
  };

  const getActionIcon = (action) => {
    const Icon = actionIcons[action.toLowerCase()] || FaHistory;
    return <Icon className="text-lg" />;
  };

  const actionColors = {
    create: 'text-green-600 bg-green-50',
    update: 'text-blue-600 bg-blue-50',
    delete: 'text-red-600 bg-red-50',
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Audit Logs</h1>
        <p className="text-gray-600">Admin action history - Record CRUD operations</p>
      </div>

      {/* Filters */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-6">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <label className="block text-sm font-semibold mb-2 text-primary">Actor</label>
            <input
              type="text"
              value={filter.actor}
              onChange={(e) => setFilter({ ...filter, actor: e.target.value })}
              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
              placeholder="Search by name..."
            />
          </div>

          <div>
            <label className="block text-sm font-semibold mb-2 text-primary">Action</label>
            <select
              value={filter.action}
              onChange={(e) => setFilter({ ...filter, action: e.target.value })}
              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
            >
              <option value="">All</option>
              <option value="create">Create</option>
              <option value="update">Update</option>
              <option value="delete">Delete</option>
            </select>
          </div>

          <div>
            <label className="block text-sm font-semibold mb-2 text-primary">Table</label>
            <select
              value={filter.targetTable}
              onChange={(e) => setFilter({ ...filter, targetTable: e.target.value })}
              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
            >
              <option value="">All</option>
              <option value="room_types">Room Types</option>
              <option value="rooms">Rooms</option>
              <option value="price_rules">Price Rules</option>
              <option value="promotions">Promotions</option>
              <option value="bookings">Bookings</option>
            </select>
          </div>
        </div>
      </div>

      {/* Logs Table */}
      <div className="bg-white rounded-lg shadow-md overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-accent text-white">
              <tr>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Time</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Actor</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Action</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Table</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Details</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {logs.length === 0 ? (
                <tr>
                  <td colSpan="5" className="px-6 py-12 text-center text-gray-500">
                    No audit logs yet.
                  </td>
                </tr>
              ) : (
                logs.map((log) => (
                  <tr key={log.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4">
                      <div className="text-sm">
                        <div className="font-semibold">{new Date(log.created_at).toLocaleDateString('en-US')}</div>
                        <div className="text-gray-500">{new Date(log.created_at).toLocaleTimeString('en-US')}</div>
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div className="flex items-center gap-2">
                        <FaUser className="text-gray-400" />
                        <span>{log.actor || 'System'}</span>
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div className={`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-semibold ${
                        actionColors[log.action?.toLowerCase()] || 'text-gray-600 bg-gray-50'
                      }`}>
                        {getActionIcon(log.action)}
                        <span className="uppercase">{log.action}</span>
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div className="flex items-center gap-2">
                        <FaTable className="text-gray-400" />
                        <span className="font-mono text-sm">{log.target_table}</span>
                      </div>
                    </td>
                    <td className="px-6 py-4">
                      <div className="text-sm text-gray-600">
                        {log.meta ? (
                          <details className="cursor-pointer">
                            <summary className="text-accent hover:underline">View Details</summary>
                            <pre className="mt-2 p-2 bg-gray-50 rounded text-xs overflow-x-auto">
                              {JSON.stringify(log.meta, null, 2)}
                            </pre>
                          </details>
                        ) : (
                          <span className="text-gray-400">-</span>
                        )}
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  );
};

export default AuditLogsManagement;


=================================================================
FILE PATH (V2): src\components\admin\BookingsManagement.jsx
=================================================================
import { useState } from 'react';
import { FaCheck, FaTimes, FaBan, FaEdit, FaPhone, FaUser } from 'react-icons/fa';

const BookingsManagement = () => {
  const [bookings, setBookings] = useState([]);
  const [selectedBooking, setSelectedBooking] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  const statusOptions = [
    { value: 'pending', label: 'Pending', color: 'bg-yellow-100 text-yellow-800' },
    { value: 'approved', label: 'Approved', color: 'bg-green-100 text-green-800' },
    { value: 'rejected', label: 'Rejected', color: 'bg-red-100 text-red-800' },
    { value: 'cancelled', label: 'Cancelled', color: 'bg-gray-100 text-gray-800' },
  ];

  const handleStatusChange = (bookingId, newStatus) => {
    // TODO: Implement with Supabase
    console.log('Status change:', bookingId, newStatus);
  };

  const getStatusBadge = (status) => {
    const option = statusOptions.find(opt => opt.value === status);
    return (
      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${option?.color || 'bg-gray-100 text-gray-800'}`}>
        {option?.label || status}
      </span>
    );
  };

  const handleViewDetails = (booking) => {
    setSelectedBooking(booking);
    setIsModalOpen(true);
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Bookings Management</h1>
        <p className="text-gray-600">Approve, reject, cancel orders and manage guest information</p>
      </div>

      <div className="bg-white rounded-lg shadow-md overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-accent text-white">
              <tr>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Booking ID</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Guest</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Phone</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Room</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Check-in</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Check-out</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Status</th>
                <th className="px-6 py-4 text-center font-tertiary tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {bookings.length === 0 ? (
                <tr>
                  <td colSpan="8" className="px-6 py-12 text-center text-gray-500">
                    No bookings yet.
                  </td>
                </tr>
              ) : (
                bookings.map((booking) => (
                  <tr key={booking.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4 font-semibold">#{booking.id}</td>
                    <td className="px-6 py-4">{booking.guestName || '-'}</td>
                    <td className="px-6 py-4">{booking.guestPhone || '-'}</td>
                    <td className="px-6 py-4">{booking.roomNo || '-'}</td>
                    <td className="px-6 py-4">{booking.checkIn || '-'}</td>
                    <td className="px-6 py-4">{booking.checkOut || '-'}</td>
                    <td className="px-6 py-4">{getStatusBadge(booking.status)}</td>
                    <td className="px-6 py-4">
                      <div className="flex items-center justify-center gap-2">
                        <button
                          onClick={() => handleViewDetails(booking)}
                          className="p-2 text-accent hover:bg-accent/10 rounded transition-colors"
                          title="View Details"
                        >
                          <FaEdit />
                        </button>
                        {booking.status === 'pending' && (
                          <>
                            <button
                              onClick={() => handleStatusChange(booking.id, 'approved')}
                              className="p-2 text-green-500 hover:bg-green-50 rounded transition-colors"
                              title="Approve"
                            >
                              <FaCheck />
                            </button>
                            <button
                              onClick={() => handleStatusChange(booking.id, 'rejected')}
                              className="p-2 text-red-500 hover:bg-red-50 rounded transition-colors"
                              title="Reject"
                            >
                              <FaTimes />
                            </button>
                          </>
                        )}
                        {booking.status !== 'cancelled' && (
                          <button
                            onClick={() => handleStatusChange(booking.id, 'cancelled')}
                            className="p-2 text-orange-500 hover:bg-orange-50 rounded transition-colors"
                            title="Cancel"
                          >
                            <FaBan />
                          </button>
                        )}
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </div>

      {isModalOpen && selectedBooking && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div className="p-6 border-b border-gray-200">
              <h2 className="h3 text-primary">Booking Details #{selectedBooking.id}</h2>
            </div>
            
            <div className="p-6 space-y-6">
              <div className="grid grid-cols-2 gap-4">
                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">Guest Name</label>
                  <div className="flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg">
                    <FaUser className="text-accent" />
                    <span>{selectedBooking.guestName || '-'}</span>
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">Phone Number</label>
                  <div className="flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg">
                    <FaPhone className="text-accent" />
                    <span>{selectedBooking.guestPhone || '-'}</span>
                  </div>
                </div>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Notes</label>
                <textarea
                  rows="4"
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder="Add notes about the booking..."
                  defaultValue={selectedBooking.notes || ''}
                />
              </div>

              <div className="flex gap-4 pt-4 border-t border-gray-200">
                <button
                  onClick={() => setIsModalOpen(false)}
                  className="btn btn-primary btn-sm flex-1"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default BookingsManagement;


=================================================================
FILE PATH (V2): src\components\admin\index.js
=================================================================
export { default as RoomTypesManagement } from './RoomTypesManagement';
export { default as RoomsManagement } from './RoomsManagement';
export { default as PriceRulesManagement } from './PriceRulesManagement';
export { default as PromotionsManagement } from './PromotionsManagement';
export { default as BookingsManagement } from './BookingsManagement';
export { default as UsersManagement } from './UsersManagement';
export { default as AuditLogsManagement } from './AuditLogsManagement';
export { default as ReportsManagement } from './ReportsManagement';



=================================================================
FILE PATH (V2): src\components\admin\PriceRulesManagement.jsx
=================================================================
import { useState } from 'react';
import { FaPlus, FaEdit, FaTrash, FaCalendarAlt } from 'react-icons/fa';

const PriceRulesManagement = () => {
  const [priceRules, setPriceRules] = useState([]);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [formData, setFormData] = useState({
    ruleType: 'weekend',
    price: '',
    startDate: '',
    endDate: '',
    description: ''
  });

  const ruleTypes = [
    { value: 'weekend', label: 'Weekend' },
    { value: 'season', label: 'Season' },
    { value: 'holiday', label: 'Holiday' },
  ];

  const handleSubmit = (e) => {
    e.preventDefault();
    // TODO: Implement with Supabase
    console.log('Form submitted:', formData);
    setIsModalOpen(false);
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Price Rules Management</h1>
        <p className="text-gray-600">Set weekend, season and holiday prices - automatically apply by schedule</p>
      </div>

      <div className="bg-white rounded-lg shadow-md p-6 mb-6">
        <button
          onClick={() => {
            setFormData({ ruleType: 'weekend', price: '', startDate: '', endDate: '', description: '' });
            setIsModalOpen(true);
          }}
          className="btn btn-primary btn-sm flex items-center gap-2 w-auto"
        >
          <FaPlus /> Add New Price Rule
        </button>
      </div>

      <div className="bg-white rounded-lg shadow-md overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-accent text-white">
              <tr>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Rule Type</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Description</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Price</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Start Date</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">End Date</th>
                <th className="px-6 py-4 text-center font-tertiary tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {priceRules.length === 0 ? (
                <tr>
                  <td colSpan="6" className="px-6 py-12 text-center text-gray-500">
                    No price rules yet. Add your first rule!
                  </td>
                </tr>
              ) : (
                priceRules.map((rule) => (
                  <tr key={rule.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4">
                      <span className="px-3 py-1 bg-accent/20 text-accent rounded-full text-sm font-semibold">
                        {ruleTypes.find(t => t.value === rule.ruleType)?.label || rule.ruleType}
                      </span>
                    </td>
                    <td className="px-6 py-4">{rule.description || '-'}</td>
                    <td className="px-6 py-4 font-semibold text-accent">${rule.price}</td>
                    <td className="px-6 py-4">{rule.startDate || '-'}</td>
                    <td className="px-6 py-4">{rule.endDate || '-'}</td>
                    <td className="px-6 py-4">
                      <div className="flex items-center justify-center gap-2">
                        <button
                          onClick={() => {
                            setFormData(rule);
                            setIsModalOpen(true);
                          }}
                          className="p-2 text-accent hover:bg-accent/10 rounded transition-colors"
                          title="Edit"
                        >
                          <FaEdit />
                        </button>
                        <button
                          onClick={() => {
                            if (window.confirm('Are you sure you want to delete this rule?')) {
                              // TODO: Delete
                            }
                          }}
                          className="p-2 text-red-500 hover:bg-red-50 rounded transition-colors"
                          title="Delete"
                        >
                          <FaTrash />
                        </button>
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </div>

      {isModalOpen && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg shadow-xl max-w-lg w-full">
            <div className="p-6 border-b border-gray-200">
              <h2 className="h3 text-primary">Add New Price Rule</h2>
            </div>
            
            <form onSubmit={handleSubmit} className="p-6 space-y-4">
              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Rule Type *</label>
                <select
                  required
                  value={formData.ruleType}
                  onChange={(e) => setFormData({ ...formData, ruleType: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                >
                  {ruleTypes.map(type => (
                    <option key={type.value} value={type.value}>{type.label}</option>
                  ))}
                </select>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Price (USD) *</label>
                <input
                  type="number"
                  required
                  min="0"
                  step="0.01"
                  value={formData.price}
                  onChange={(e) => setFormData({ ...formData, price: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder="0.00"
                />
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Description</label>
                <input
                  type="text"
                  value={formData.description}
                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder="e.g., New Year 2025"
                />
              </div>

              <div className="grid grid-cols-2 gap-4">
                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">Start Date *</label>
                  <input
                    type="date"
                    required
                    value={formData.startDate}
                    onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}
                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  />
                </div>

                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">End Date *</label>
                  <input
                    type="date"
                    required
                    value={formData.endDate}
                    onChange={(e) => setFormData({ ...formData, endDate: e.target.value })}
                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  />
                </div>
              </div>

              <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <div className="flex items-start gap-3">
                  <FaCalendarAlt className="text-blue-500 mt-1" />
                  <div>
                    <p className="text-sm font-semibold text-blue-900">Auto Apply</p>
                    <p className="text-xs text-blue-700 mt-1">
                      Rule will automatically apply during the selected time period
                    </p>
                  </div>
                </div>
              </div>

              <div className="flex gap-4 pt-4 border-t border-gray-200">
                <button type="submit" className="btn btn-primary btn-sm flex-1">
                  Save
                </button>
                <button
                  type="button"
                  onClick={() => setIsModalOpen(false)}
                  className="btn btn-secondary btn-sm flex-1"
                >
                  Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default PriceRulesManagement;


=================================================================
FILE PATH (V2): src\components\admin\PromotionsManagement.jsx
=================================================================
import { useState } from 'react';
import { FaPlus, FaEdit, FaTrash, FaTag } from 'react-icons/fa';

const PromotionsManagement = () => {
  const [promotions, setPromotions] = useState([]);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [formData, setFormData] = useState({
    code: '',
    discountType: 'percentage',
    discountValue: '',
    startDate: '',
    endDate: '',
    description: ''
  });

  const handleSubmit = (e) => {
    e.preventDefault();
    // TODO: Implement with Supabase
    console.log('Form submitted:', formData);
    setIsModalOpen(false);
  };

  const formatDiscount = (promo) => {
    if (promo.discountType === 'percentage') {
      return `${promo.discountValue}%`;
    }
    return `$${promo.discountValue}`;
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Promotions Management</h1>
        <p className="text-gray-600">Create and manage discount codes (code, %, or fixed)</p>
      </div>

      <div className="bg-white rounded-lg shadow-md p-6 mb-6">
        <button
          onClick={() => {
            setFormData({ code: '', discountType: 'percentage', discountValue: '', startDate: '', endDate: '', description: '' });
            setIsModalOpen(true);
          }}
          className="btn btn-primary btn-sm flex items-center gap-2 w-auto"
        >
          <FaPlus /> Add New Promotion
        </button>
      </div>

      <div className="bg-white rounded-lg shadow-md overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-accent text-white">
              <tr>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Code</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Discount Type</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Value</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Start Date</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">End Date</th>
                <th className="px-6 py-4 text-center font-tertiary tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {promotions.length === 0 ? (
                <tr>
                  <td colSpan="6" className="px-6 py-12 text-center text-gray-500">
                    No promotions yet. Add your first promotion!
                  </td>
                </tr>
              ) : (
                promotions.map((promo) => (
                  <tr key={promo.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4">
                      <span className="inline-flex items-center gap-2 px-3 py-1 bg-accent/20 text-accent rounded-full text-sm font-semibold">
                        <FaTag /> {promo.code}
                      </span>
                    </td>
                    <td className="px-6 py-4">
                      <span className="text-sm">
                        {promo.discountType === 'percentage' ? 'Percentage (%)' : 'Fixed Amount ($)'}
                      </span>
                    </td>
                    <td className="px-6 py-4 font-semibold text-accent">{formatDiscount(promo)}</td>
                    <td className="px-6 py-4">{promo.startDate || '-'}</td>
                    <td className="px-6 py-4">{promo.endDate || '-'}</td>
                    <td className="px-6 py-4">
                      <div className="flex items-center justify-center gap-2">
                        <button
                          onClick={() => {
                            setFormData(promo);
                            setIsModalOpen(true);
                          }}
                          className="p-2 text-accent hover:bg-accent/10 rounded transition-colors"
                          title="Edit"
                        >
                          <FaEdit />
                        </button>
                        <button
                          onClick={() => {
                            if (window.confirm('Are you sure you want to delete this promotion?')) {
                              // TODO: Delete
                            }
                          }}
                          className="p-2 text-red-500 hover:bg-red-50 rounded transition-colors"
                          title="Delete"
                        >
                          <FaTrash />
                        </button>
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </div>

      {isModalOpen && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg shadow-xl max-w-lg w-full">
            <div className="p-6 border-b border-gray-200">
              <h2 className="h3 text-primary">Add New Promotion</h2>
            </div>
            
            <form onSubmit={handleSubmit} className="p-6 space-y-4">
              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Code *</label>
                <input
                  type="text"
                  required
                  value={formData.code}
                  onChange={(e) => setFormData({ ...formData, code: e.target.value.toUpperCase() })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent uppercase"
                  placeholder="e.g., SUMMER2025"
                />
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Discount Type *</label>
                <select
                  required
                  value={formData.discountType}
                  onChange={(e) => setFormData({ ...formData, discountType: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                >
                  <option value="percentage">Percentage (%)</option>
                  <option value="fixed">Fixed Amount ($)</option>
                </select>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">
                  Discount Value * {formData.discountType === 'percentage' ? '(%)' : '($)'}
                </label>
                <input
                  type="number"
                  required
                  min="0"
                  step={formData.discountType === 'percentage' ? '1' : '0.01'}
                  max={formData.discountType === 'percentage' ? '100' : undefined}
                  value={formData.discountValue}
                  onChange={(e) => setFormData({ ...formData, discountValue: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder={formData.discountType === 'percentage' ? '0-100' : '0.00'}
                />
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Description</label>
                <input
                  type="text"
                  value={formData.description}
                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder="Description about the promotion..."
                />
              </div>

              <div className="grid grid-cols-2 gap-4">
                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">Start Date *</label>
                  <input
                    type="date"
                    required
                    value={formData.startDate}
                    onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}
                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  />
                </div>

                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">End Date *</label>
                  <input
                    type="date"
                    required
                    value={formData.endDate}
                    onChange={(e) => setFormData({ ...formData, endDate: e.target.value })}
                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  />
                </div>
              </div>

              <div className="flex gap-4 pt-4 border-t border-gray-200">
                <button type="submit" className="btn btn-primary btn-sm flex-1">
                  Save
                </button>
                <button
                  type="button"
                  onClick={() => setIsModalOpen(false)}
                  className="btn btn-secondary btn-sm flex-1"
                >
                  Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default PromotionsManagement;


=================================================================
FILE PATH (V2): src\components\admin\ReportsManagement.jsx
=================================================================
import { useState } from 'react';
import { FaChartLine, FaChartBar, FaDollarSign, FaBed } from 'react-icons/fa';

const ReportsManagement = () => {
  const [dateRange, setDateRange] = useState({
    startDate: '',
    endDate: ''
  });
  const [reportType, setReportType] = useState('revenue');

  // Mock data - will be replaced with real data from Supabase
  const revenueData = {
    daily: [],
    monthly: [],
    total: 0
  };

  const occupancyData = {
    rate: 0,
    occupied: 0,
    total: 0
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Reports & Statistics</h1>
        <p className="text-gray-600">Revenue, occupancy rate and statistics charts</p>
      </div>

      {/* Filters */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-6">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <label className="block text-sm font-semibold mb-2 text-primary">Report Type</label>
            <select
              value={reportType}
              onChange={(e) => setReportType(e.target.value)}
              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
            >
              <option value="revenue">Revenue</option>
              <option value="occupancy">Occupancy Rate</option>
            </select>
          </div>

          <div>
            <label className="block text-sm font-semibold mb-2 text-primary">From Date</label>
            <input
              type="date"
              value={dateRange.startDate}
              onChange={(e) => setDateRange({ ...dateRange, startDate: e.target.value })}
              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
            />
          </div>

          <div>
            <label className="block text-sm font-semibold mb-2 text-primary">To Date</label>
            <input
              type="date"
              value={dateRange.endDate}
              onChange={(e) => setDateRange({ ...dateRange, endDate: e.target.value })}
              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
            />
          </div>
        </div>
      </div>

      {/* Stats Cards */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div className="bg-white rounded-lg shadow-md p-6">
          <div className="flex items-center justify-between mb-4">
            <h3 className="text-lg font-semibold text-primary">Total Revenue</h3>
            <FaDollarSign className="text-3xl text-accent" />
          </div>
          <p className="text-3xl font-bold text-accent">${revenueData.total.toLocaleString()}</p>
          <p className="text-sm text-gray-500 mt-2">In selected time period</p>
        </div>

        <div className="bg-white rounded-lg shadow-md p-6">
          <div className="flex items-center justify-between mb-4">
            <h3 className="text-lg font-semibold text-primary">Occupancy Rate</h3>
            <FaBed className="text-3xl text-accent" />
          </div>
          <p className="text-3xl font-bold text-accent">{occupancyData.rate.toFixed(1)}%</p>
          <p className="text-sm text-gray-500 mt-2">
            {occupancyData.occupied} / {occupancyData.total} rooms
          </p>
        </div>

        <div className="bg-white rounded-lg shadow-md p-6">
          <div className="flex items-center justify-between mb-4">
            <h3 className="text-lg font-semibold text-primary">Total Bookings</h3>
            <FaChartBar className="text-3xl text-accent" />
          </div>
          <p className="text-3xl font-bold text-accent">0</p>
          <p className="text-sm text-gray-500 mt-2">Number of bookings</p>
        </div>
      </div>

      {/* Charts */}
      <div className="bg-white rounded-lg shadow-md p-6">
        <div className="mb-6">
          <h2 className="h3 text-primary">
            {reportType === 'revenue' ? 'Revenue Chart' : 'Occupancy Rate Chart'}
          </h2>
        </div>

        <div className="h-64 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg">
          <div className="text-center">
            <FaChartLine className="text-5xl text-gray-400 mx-auto mb-4" />
            <p className="text-gray-500 mb-2">Chart will be displayed here</p>
            <p className="text-sm text-gray-400">
              Use Recharts or Chart.js to integrate charts
            </p>
          </div>
        </div>
      </div>

      {/* Revenue Table */}
      {reportType === 'revenue' && (
        <div className="bg-white rounded-lg shadow-md overflow-hidden mt-6">
          <div className="p-6 border-b border-gray-200">
            <h3 className="h3 text-primary">Revenue Details</h3>
          </div>
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead className="bg-accent text-white">
                <tr>
                  <th className="px-6 py-4 text-left font-tertiary tracking-wider">Date</th>
                  <th className="px-6 py-4 text-left font-tertiary tracking-wider">Revenue</th>
                  <th className="px-6 py-4 text-left font-tertiary tracking-wider">Bookings</th>
                </tr>
              </thead>
              <tbody className="divide-y divide-gray-200">
                <tr>
                  <td colSpan="3" className="px-6 py-12 text-center text-gray-500">
                    No data available. Please select a time period and load report.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      )}
    </div>
  );
};

export default ReportsManagement;


=================================================================
FILE PATH (V2): src\components\admin\RoomsManagement.jsx
=================================================================
import { useState } from 'react';
import { FaPlus, FaEdit, FaTrash } from 'react-icons/fa';

const RoomsManagement = () => {
  const [rooms, setRooms] = useState([]);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [formData, setFormData] = useState({
    roomNo: '',
    floor: '',
    roomTypeId: '',
    status: 'available'
  });

  const statusOptions = [
    { value: 'available', label: 'Available', color: 'bg-green-100 text-green-800' },
    { value: 'occupied', label: 'Occupied', color: 'bg-blue-100 text-blue-800' },
    { value: 'maintenance', label: 'Maintenance', color: 'bg-yellow-100 text-yellow-800' },
    { value: 'cleaning', label: 'Cleaning', color: 'bg-orange-100 text-orange-800' },
  ];

  const handleSubmit = (e) => {
    e.preventDefault();
    // TODO: Implement with Supabase
    console.log('Form submitted:', formData);
    setIsModalOpen(false);
  };

  const getStatusBadge = (status) => {
    const option = statusOptions.find(opt => opt.value === status);
    return (
      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${option?.color || 'bg-gray-100 text-gray-800'}`}>
        {option?.label || status}
      </span>
    );
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Rooms Management</h1>
        <p className="text-gray-600">Add rooms and update room status</p>
      </div>

      <div className="bg-white rounded-lg shadow-md p-6 mb-6">
        <button
          onClick={() => {
            setFormData({ roomNo: '', floor: '', roomTypeId: '', status: 'available' });
            setIsModalOpen(true);
          }}
          className="btn btn-primary btn-sm flex items-center gap-2 w-auto"
        >
          <FaPlus /> Add New Room
        </button>
      </div>

      <div className="bg-white rounded-lg shadow-md overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-accent text-white">
              <tr>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Room Number</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Floor</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Room Type</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Status</th>
                <th className="px-6 py-4 text-center font-tertiary tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {rooms.length === 0 ? (
                <tr>
                  <td colSpan="5" className="px-6 py-12 text-center text-gray-500">
                    No rooms yet. Add your first room!
                  </td>
                </tr>
              ) : (
                rooms.map((room) => (
                  <tr key={room.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4 font-semibold">{room.roomNo}</td>
                    <td className="px-6 py-4">Floor {room.floor}</td>
                    <td className="px-6 py-4">{room.roomTypeName || 'N/A'}</td>
                    <td className="px-6 py-4">{getStatusBadge(room.status)}</td>
                    <td className="px-6 py-4">
                      <div className="flex items-center justify-center gap-2">
                        <button
                          onClick={() => {
                            setFormData(room);
                            setIsModalOpen(true);
                          }}
                          className="p-2 text-accent hover:bg-accent/10 rounded transition-colors"
                          title="Edit"
                        >
                          <FaEdit />
                        </button>
                        <button
                          onClick={() => {
                            if (window.confirm('Are you sure you want to delete this room?')) {
                              // TODO: Delete
                            }
                          }}
                          className="p-2 text-red-500 hover:bg-red-50 rounded transition-colors"
                          title="Delete"
                        >
                          <FaTrash />
                        </button>
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </div>

      {isModalOpen && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg shadow-xl max-w-md w-full">
            <div className="p-6 border-b border-gray-200">
              <h2 className="h3 text-primary">Add New Room</h2>
            </div>
            
            <form onSubmit={handleSubmit} className="p-6 space-y-4">
              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Room Number *</label>
                <input
                  type="text"
                  required
                  value={formData.roomNo}
                  onChange={(e) => setFormData({ ...formData, roomNo: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder="e.g., 101, 201"
                />
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Floor *</label>
                <input
                  type="number"
                  required
                  min="1"
                  value={formData.floor}
                  onChange={(e) => setFormData({ ...formData, floor: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                />
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Room Type *</label>
                <select
                  required
                  value={formData.roomTypeId}
                  onChange={(e) => setFormData({ ...formData, roomTypeId: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                >
                  <option value="">Select room type</option>
                  {/* TODO: Load from room_types table */}
                </select>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Status *</label>
                <select
                  required
                  value={formData.status}
                  onChange={(e) => setFormData({ ...formData, status: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                >
                  {statusOptions.map(option => (
                    <option key={option.value} value={option.value}>{option.label}</option>
                  ))}
                </select>
              </div>

              <div className="flex gap-4 pt-4 border-t border-gray-200">
                <button type="submit" className="btn btn-primary btn-sm flex-1">
                  Save
                </button>
                <button
                  type="button"
                  onClick={() => setIsModalOpen(false)}
                  className="btn btn-secondary btn-sm flex-1"
                >
                  Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default RoomsManagement;


=================================================================
FILE PATH (V2): src\components\admin\RoomTypesManagement.jsx
=================================================================
import { useState } from 'react';
import { FaPlus, FaEdit, FaTrash, FaUpload, FaCheck } from 'react-icons/fa';

const RoomTypesManagement = () => {
  const [roomTypes, setRoomTypes] = useState([]);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [editingRoomType, setEditingRoomType] = useState(null);
  const [formData, setFormData] = useState({
    name: '',
    description: '',
    maxGuests: '',
    price: '',
    images: []
  });

  const handleSubmit = (e) => {
    e.preventDefault();
    // TODO: Implement CRUD operations with Supabase
    console.log('Form submitted:', formData);
    setIsModalOpen(false);
    setFormData({ name: '', description: '', maxGuests: '', price: '', images: [] });
  };

  const handleEdit = (roomType) => {
    setEditingRoomType(roomType);
    setFormData(roomType);
    setIsModalOpen(true);
  };

  const handleDelete = (id) => {
    if (window.confirm('Are you sure you want to delete this room type?')) {
      // TODO: Implement delete
      console.log('Delete:', id);
    }
  };

  return (
    <div>
      {/* Header */}
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Room Types Management</h1>
        <p className="text-gray-600">Add, edit, delete and manage room types</p>
      </div>

      {/* Action Bar */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-6">
        <button
          onClick={() => {
            setEditingRoomType(null);
            setFormData({ name: '', description: '', maxGuests: '', price: '', images: [] });
            setIsModalOpen(true);
          }}
          className="btn btn-primary btn-sm flex items-center gap-2 w-auto"
        >
          <FaPlus /> Add New Room Type
        </button>
      </div>

      {/* Table */}
      <div className="bg-white rounded-lg shadow-md overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-accent text-white">
              <tr>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">ID</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Room Type Name</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Description</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Max Guests</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Price</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Amenities</th>
                <th className="px-6 py-4 text-center font-tertiary tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {roomTypes.length === 0 ? (
                <tr>
                  <td colSpan="7" className="px-6 py-12 text-center text-gray-500">
                    No room types yet. Add your first room type!
                  </td>
                </tr>
              ) : (
                roomTypes.map((roomType) => (
                  <tr key={roomType.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4">{roomType.id}</td>
                    <td className="px-6 py-4 font-semibold">{roomType.name}</td>
                    <td className="px-6 py-4">{roomType.description}</td>
                    <td className="px-6 py-4">{roomType.maxGuests}</td>
                    <td className="px-6 py-4">${roomType.price}</td>
                    <td className="px-6 py-4">
                      <span className="text-sm text-gray-600">{roomType.amenities?.length || 0} amenities</span>
                    </td>
                    <td className="px-6 py-4">
                      <div className="flex items-center justify-center gap-2">
                        <button
                          onClick={() => handleEdit(roomType)}
                          className="p-2 text-accent hover:bg-accent/10 rounded transition-colors"
                          title="Edit"
                        >
                          <FaEdit />
                        </button>
                        <button
                          onClick={() => handleDelete(roomType.id)}
                          className="p-2 text-red-500 hover:bg-red-50 rounded transition-colors"
                          title="Delete"
                        >
                          <FaTrash />
                        </button>
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </div>

      {/* Modal */}
      {isModalOpen && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div className="p-6 border-b border-gray-200">
              <h2 className="h3 text-primary">
                {editingRoomType ? 'Edit Room Type' : 'Add New Room Type'}
              </h2>
            </div>
            
            <form onSubmit={handleSubmit} className="p-6 space-y-4">
              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Room Type Name *</label>
                <input
                  type="text"
                  required
                  value={formData.name}
                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder="e.g., Deluxe Room"
                />
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Description</label>
                <textarea
                  value={formData.description}
                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                  rows="4"
                  className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  placeholder="Description about the room type..."
                />
              </div>

              <div className="grid grid-cols-2 gap-4">
                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">Max Guests *</label>
                  <input
                    type="number"
                    required
                    min="1"
                    value={formData.maxGuests}
                    onChange={(e) => setFormData({ ...formData, maxGuests: e.target.value })}
                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  />
                </div>

                <div>
                  <label className="block text-sm font-semibold mb-2 text-primary">Price (USD) *</label>
                  <input
                    type="number"
                    required
                    min="0"
                    step="0.01"
                    value={formData.price}
                    onChange={(e) => setFormData({ ...formData, price: e.target.value })}
                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                  />
                </div>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Manage Amenities</label>
                <div className="border border-gray-300 rounded-lg p-4 bg-gray-50">
                  <p className="text-sm text-gray-600 mb-2">Select standard amenities for this room type</p>
                  <button
                    type="button"
                    className="text-sm text-accent hover:underline"
                  >
                    + Add Amenity
                  </button>
                </div>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Upload Images</label>
                <div className="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                  <FaUpload className="mx-auto text-3xl text-gray-400 mb-2" />
                  <p className="text-sm text-gray-600 mb-2">Drag and drop images here or click to select</p>
                  <input
                    type="file"
                    multiple
                    accept="image/*"
                    className="hidden"
                    id="image-upload"
                  />
                  <label
                    htmlFor="image-upload"
                    className="inline-block px-4 py-2 bg-accent text-white rounded-lg cursor-pointer hover:bg-accent-hover transition-colors"
                  >
                    Select Images
                  </label>
                </div>
              </div>

              <div className="flex gap-4 pt-4 border-t border-gray-200">
                <button
                  type="submit"
                  className="btn btn-primary btn-sm flex-1 flex items-center justify-center gap-2"
                >
                  <FaCheck /> {editingRoomType ? 'Update' : 'Add New'}
                </button>
                <button
                  type="button"
                  onClick={() => setIsModalOpen(false)}
                  className="btn btn-secondary btn-sm flex-1"
                >
                  Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default RoomTypesManagement;


=================================================================
FILE PATH (V2): src\components\admin\UsersManagement.jsx
=================================================================
import { useState, useEffect } from 'react';
import { FaEdit, FaTrash, FaUser, FaEnvelope, FaLock, FaCheck, FaTimes } from 'react-icons/fa';

const UsersManagement = () => {
  const [users, setUsers] = useState([]);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [editingUser, setEditingUser] = useState(null);
  const [formData, setFormData] = useState({
    name: '',
    email: ''
  });

  // Load users from localStorage
  useEffect(() => {
    loadUsers();
  }, []);

  const loadUsers = () => {
    const storedUsers = JSON.parse(localStorage.getItem('hotel_users') || '[]');
    setUsers(storedUsers);
  };

  const handleEdit = (user) => {
    setEditingUser(user);
    setFormData({
      name: user.name || '',
      email: user.email || ''
    });
    setIsModalOpen(true);
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    
    const storedUsers = JSON.parse(localStorage.getItem('hotel_users') || '[]');
    const updatedUsers = storedUsers.map(u => {
      if (u.id === editingUser.id) {
        return {
          ...u,
          name: formData.name,
          email: formData.email
          // Password is not changed - it remains encrypted/hashed
        };
      }
      return u;
    });

    localStorage.setItem('hotel_users', JSON.stringify(updatedUsers));
    loadUsers();
    setIsModalOpen(false);
    setEditingUser(null);
    setFormData({ name: '', email: '' });
  };

  const handleDelete = (userId) => {
    if (window.confirm('Are you sure you want to delete this user account? This action cannot be undone.')) {
      const storedUsers = JSON.parse(localStorage.getItem('hotel_users') || '[]');
      const filteredUsers = storedUsers.filter(u => u.id !== userId);
      localStorage.setItem('hotel_users', JSON.stringify(filteredUsers));
      loadUsers();
    }
  };

  const maskPassword = () => {
    return '';
  };

  const getProviderBadge = (provider) => {
    if (!provider) return null;
    return (
      <span className="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold">
        {provider.charAt(0).toUpperCase() + provider.slice(1)}
      </span>
    );
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="h2 text-primary mb-2">Users Management</h1>
        <p className="text-gray-600">Manage user accounts - View and edit user information</p>
      </div>

      {/* Stats Cards */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div className="bg-white rounded-lg shadow-md p-6">
          <div className="flex items-center justify-between mb-4">
            <h3 className="text-lg font-semibold text-primary">Total Users</h3>
            <FaUser className="text-3xl text-accent" />
          </div>
          <p className="text-3xl font-bold text-accent">{users.length}</p>
          <p className="text-sm text-gray-500 mt-2">Registered users</p>
        </div>

        <div className="bg-white rounded-lg shadow-md p-6">
          <div className="flex items-center justify-between mb-4">
            <h3 className="text-lg font-semibold text-primary">Email/Password</h3>
            <FaEnvelope className="text-3xl text-accent" />
          </div>
          <p className="text-3xl font-bold text-accent">
            {users.filter(u => !u.provider).length}
          </p>
          <p className="text-sm text-gray-500 mt-2">Traditional accounts</p>
        </div>

        <div className="bg-white rounded-lg shadow-md p-6">
          <div className="flex items-center justify-between mb-4">
            <h3 className="text-lg font-semibold text-primary">OAuth Users</h3>
            <FaUser className="text-3xl text-accent" />
          </div>
          <p className="text-3xl font-bold text-accent">
            {users.filter(u => u.provider).length}
          </p>
          <p className="text-sm text-gray-500 mt-2">Social login users</p>
        </div>
      </div>

      {/* Users Table */}
      <div className="bg-white rounded-lg shadow-md overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-accent text-white">
              <tr>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">ID</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Name</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Email</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Password</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Login Method</th>
                <th className="px-6 py-4 text-left font-tertiary tracking-wider">Created At</th>
                <th className="px-6 py-4 text-center font-tertiary tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {users.length === 0 ? (
                <tr>
                  <td colSpan="7" className="px-6 py-12 text-center text-gray-500">
                    No users registered yet.
                  </td>
                </tr>
              ) : (
                users.map((user) => (
                  <tr key={user.id} className="hover:bg-gray-50">
                    <td className="px-6 py-4 font-mono text-sm">{user.id}</td>
                    <td className="px-6 py-4 font-semibold">{user.name || '-'}</td>
                    <td className="px-6 py-4">{user.email}</td>
                    <td className="px-6 py-4">
                      {user.provider ? (
                        <span className="text-gray-400 italic">N/A (OAuth)</span>
                      ) : (
                        <div className="flex items-center gap-2">
                          <FaLock className="text-gray-400" />
                          <span className="font-mono text-sm text-gray-600">{maskPassword()}</span>
                          <span className="text-xs text-gray-400">(Encrypted)</span>
                        </div>
                      )}
                    </td>
                    <td className="px-6 py-4">
                      {getProviderBadge(user.provider) || (
                        <span className="px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-semibold">
                          Email
                        </span>
                      )}
                    </td>
                    <td className="px-6 py-4 text-sm text-gray-600">
                      {user.createdAt 
                        ? new Date(user.createdAt).toLocaleDateString('en-US', {
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric'
                          })
                        : '-'
                      }
                    </td>
                    <td className="px-6 py-4">
                      <div className="flex items-center justify-center gap-2">
                        <button
                          onClick={() => handleEdit(user)}
                          className="p-2 text-accent hover:bg-accent/10 rounded transition-colors"
                          title="Edit"
                        >
                          <FaEdit />
                        </button>
                        <button
                          onClick={() => handleDelete(user.id)}
                          className="p-2 text-red-500 hover:bg-red-50 rounded transition-colors"
                          title="Delete"
                        >
                          <FaTrash />
                        </button>
                      </div>
                    </td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </div>

      {/* Edit Modal */}
      {isModalOpen && editingUser && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-lg shadow-xl max-w-md w-full">
            <div className="p-6 border-b border-gray-200">
              <h2 className="h3 text-primary">Edit User Account</h2>
            </div>
            
            <form onSubmit={handleSubmit} className="p-6 space-y-4">
              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Name *</label>
                <div className="relative">
                  <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <FaUser className="text-gray-400" />
                  </div>
                  <input
                    type="text"
                    required
                    value={formData.name}
                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                    className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                    placeholder="User name"
                  />
                </div>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Email *</label>
                <div className="relative">
                  <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <FaEnvelope className="text-gray-400" />
                  </div>
                  <input
                    type="email"
                    required
                    value={formData.email}
                    onChange={(e) => setFormData({ ...formData, email: e.target.value })}
                    className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"
                    placeholder="user@example.com"
                  />
                </div>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2 text-primary">Password</label>
                <div className="relative">
                  <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <FaLock className="text-gray-400" />
                  </div>
                  <input
                    type="text"
                    value={maskPassword()}
                    disabled
                    className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed"
                  />
                </div>
                <p className="text-xs text-gray-500 mt-1">
                  Password is encrypted and cannot be viewed or edited for security reasons.
                </p>
              </div>

              {editingUser.provider && (
                <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                  <div className="flex items-start gap-3">
                    <FaUser className="text-blue-500 mt-1" />
                    <div>
                      <p className="text-sm font-semibold text-blue-900">OAuth User</p>
                      <p className="text-xs text-blue-700 mt-1">
                        This user registered via {editingUser.provider}. Password management is not available.
                      </p>
                    </div>
                  </div>
                </div>
              )}

              <div className="flex gap-4 pt-4 border-t border-gray-200">
                <button
                  type="submit"
                  className="btn btn-primary btn-sm flex-1 flex items-center justify-center gap-2"
                >
                  <FaCheck /> Save Changes
                </button>
                <button
                  type="button"
                  onClick={() => {
                    setIsModalOpen(false);
                    setEditingUser(null);
                    setFormData({ name: '', email: '' });
                  }}
                  className="btn btn-secondary btn-sm flex-1 flex items-center justify-center gap-2"
                >
                  <FaTimes /> Cancel
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default UsersManagement;



=================================================================
FILE PATH (V2): src\components\AdminSidebar.jsx
=================================================================
import { Link, useNavigate } from 'react-router-dom';
import { 
  FaHome, 
  FaBed, 
  FaDoorOpen, 
  FaDollarSign, 
  FaTag, 
  FaCalendarCheck, 
  FaHistory, 
  FaChartBar,
  FaSignOutAlt,
  FaUser,
  FaUsers
} from 'react-icons/fa';
import { LogoDark } from '../assets';
import { useAuth } from '../context/AuthContext';
import { useMemo } from 'react';

const AdminSidebar = ({ activeSection, setActiveSection }) => {
  const { user, logout, updateUserProfile } = useAuth();
  const navigate = useNavigate();

  const avatarLetter = useMemo(() => {
    if (!user?.name && !user?.email) return '';
    return (user.name || user.email).charAt(0).toUpperCase();
  }, [user]);

  const handleLogout = () => {
    logout();
    navigate('/');
  };

  const handleAvatarChange = (event) => {
    const file = event.target.files?.[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onloadend = () => {
      updateUserProfile({ avatar: reader.result });
    };
    reader.readAsDataURL(file);
  };
  const menuItems = [
    { id: 'room-types', label: 'Room Types', icon: FaBed },
    { id: 'rooms', label: 'Rooms', icon: FaDoorOpen },
    { id: 'price-rules', label: 'Price Rules', icon: FaDollarSign },
    { id: 'promotions', label: 'Promotions', icon: FaTag },
    { id: 'bookings', label: 'Bookings', icon: FaCalendarCheck },
    { id: 'users', label: 'Users', icon: FaUsers },
    { id: 'audit-logs', label: 'Audit Logs', icon: FaHistory },
    { id: 'reports', label: 'Reports', icon: FaChartBar },
  ];

  return (
    <aside className="fixed left-0 top-0 h-full w-64 bg-primary text-white shadow-2xl z-40 hidden lg:block">
      {/* Logo */}
      <div className="p-6 border-b border-accent/20">
        <Link to="/" className="flex items-center">
          <LogoDark className="w-[140px] brightness-0 invert" />
        </Link>
        <p className="text-sm text-gray-400 mt-2 uppercase tracking-wider">Admin Panel</p>
      </div>

      {/* Navigation */}
      <nav className="p-4">
        <div className="mb-4">
          <Link 
            to="/" 
            className="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-accent/20 transition-colors text-gray-300 hover:text-white"
          >
            <FaHome className="text-lg" />
            <span className="font-tertiary tracking-wider">Home</span>
          </Link>
        </div>

        <div className="space-y-2">
          {menuItems.map((item) => {
            const Icon = item.icon;
            const isActive = activeSection === item.id;
            
            return (
              <button
                key={item.id}
                onClick={() => setActiveSection(item.id)}
                className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${
                  isActive
                    ? 'bg-accent text-white shadow-lg'
                    : 'text-gray-300 hover:bg-accent/10 hover:text-white'
                }`}
              >
                <Icon className="text-lg" />
                <span className="font-tertiary tracking-wider text-sm">{item.label}</span>
              </button>
            );
          })}
        </div>
      </nav>

      {/* User Info & Logout */}
      <div className="absolute bottom-0 left-0 right-0 border-t border-accent/20">
        {user && (
          <div className="p-4 border-b border-accent/20">
            <div className="flex items-center gap-3 mb-3">
              <div className="relative">
                <div className="w-12 h-12 rounded-full bg-accent/20 flex items-center justify-center uppercase text-accent font-semibold border border-accent/40 overflow-hidden">
                  {user?.avatar ? (
                    <img src={user.avatar} alt={user.name} className="w-full h-full object-cover" />
                  ) : (
                    avatarLetter || <FaUser className="text-accent" />
                  )}
                </div>
                <label className="absolute -bottom-1 -right-1 bg-accent text-white p-1 rounded-full text-[10px] cursor-pointer">
                  
                  <input type="file" accept="image/*" className="hidden" onChange={handleAvatarChange} />
                </label>
              </div>
              <div className="flex-1 min-w-0">
                <p className="text-sm font-semibold text-white truncate">{user.name || user.email}</p>
                <p className="text-xs text-gray-400 truncate">{user.email}</p>
              </div>
            </div>
          </div>
        )}
        
        <div className="p-4">
          <button
            onClick={handleLogout}
            className="w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:bg-accent/20 hover:text-white transition-colors"
          >
            <FaSignOutAlt />
            <span className="font-tertiary tracking-wider text-sm">Sign Out</span>
          </button>
          
          <p className="text-xs text-gray-500 text-center mt-4">
             {new Date().getFullYear()} Hotel Booking
          </p>
        </div>
      </div>
    </aside>
  );
};

export default AdminSidebar;



=================================================================
FILE PATH (V2): src\components\AdultsDropdown.jsx
=================================================================
import { useRoomContext } from '../context/RoomContext';
import { BsChevronDown } from 'react-icons/bs';
import { adultsList } from '../constants/data';
import { Menu } from '@headlessui/react';


const AdultsDropdown = () => {

  const { adults, setAdults, } = useRoomContext();


  return (
    <Menu as='div' className='w-full h-full bg-white relative'>


      <Menu.Button className='w-full h-full flex items-center justify-between px-8'>
        {adults}
        <BsChevronDown className='text-base text-accent-hover' />
      </Menu.Button>


      <Menu.Items as='ul' className='bg-white absolute w-full flex flex-col z-40'>
        {
          adultsList.map(({ name }, idx) =>
            <Menu.Item
              as='li'
              key={idx}
              onClick={() => setAdults(name)}
              className='border-b last-of-type:border-b-0 h-10 hover:bg-accent hover:text-white w-full flex items-center justify-center cursor-pointer'
            >
              {name}
            </Menu.Item>
          )
        }
      </Menu.Items>


    </Menu>
  );
};

export default AdultsDropdown;


=================================================================
FILE PATH (V2): src\components\BookForm.jsx
=================================================================
import {
  AdultsDropdown,
  CheckIn,
  CheckOut,
  KidsDropdown,
  RoomTypeSelector,
} from ".";
import { useRoomContext } from "../context/RoomContext";

const BookForm = () => {
  const { handleCheck } = useRoomContext();

  const handleSubmit = (e) => {
    handleCheck(e);
    // Scroll to rooms section after a short delay to allow filtering
    setTimeout(() => {
      const roomsSection = document.getElementById("rooms-section");
      if (roomsSection) {
        roomsSection.scrollIntoView({ behavior: "smooth", block: "start" });
      }
    }, 900);
  };

  return (
    <form className="w-full" onSubmit={handleSubmit}>
      <div className="flex flex-col lg:flex-row lg:items-stretch w-full divide-y lg:divide-y-0 lg:divide-x divide-gray-200">
        <div className="flex-1 min-h-[60px] lg:min-h-auto">
          <CheckIn />
        </div>

        <div className="flex-1 min-h-[60px] lg:min-h-auto">
          <CheckOut />
        </div>

        <div className="flex-1 min-h-[60px] lg:min-h-auto">
          <RoomTypeSelector />
        </div>

        <div className="flex-1 min-h-[60px] lg:min-h-auto">
          <AdultsDropdown />
        </div>

        <div className="flex-1 min-h-[60px] lg:min-h-auto">
          <KidsDropdown />
        </div>

        <div className="flex items-center justify-center min-h-[60px] lg:min-h-auto lg:px-6 bg-white">
          <button type="submit" className="btn btn-primary w-full lg:w-auto">
            Check Now
          </button>
        </div>
      </div>
    </form>
  );
};

export default BookForm;


=================================================================
FILE PATH (V2): src\components\CategoryFilter.jsx
=================================================================
import React, { useState } from "react";
import { roomCategories } from "../db/data";
import { useRoomContext } from "../context/RoomContext";

const CategoryFilter = () => {
  const { selectedCategory, setSelectedCategory } = useRoomContext();

  return (
    <div className="mb-8 p-6 bg-white rounded-lg shadow-md">
      <h3 className="text-lg font-bold text-gray-800 mb-4">
        Filter by Room Type
      </h3>
      <div className="flex flex-wrap gap-3">
        {/* All Categories Button */}
        <button
          onClick={() => setSelectedCategory(null)}
          className={`px-6 py-2 rounded-full font-medium transition-all duration-300 ${
            selectedCategory === null
              ? "bg-teal-600 text-white shadow-lg"
              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
          }`}
        >
          All Rooms
        </button>

        {/* Individual Category Buttons */}
        {roomCategories.map((category) => (
          <button
            key={category.id}
            onClick={() => setSelectedCategory(category.id)}
            className={`px-6 py-2 rounded-full font-medium transition-all duration-300 ${
              selectedCategory === category.id
                ? "bg-teal-600 text-white shadow-lg"
                : "bg-gray-100 text-gray-700 hover:bg-gray-200"
            }`}
            title={category.description}
          >
            {category.name}
          </button>
        ))}
      </div>
    </div>
  );
};

export default CategoryFilter;


=================================================================
FILE PATH (V2): src\components\chatBox\ChatBox.jsx
=================================================================
import { useState, useMemo, useEffect, useRef } from "react";
import { useNavigate } from "react-router-dom";
import { useRoomContext } from "../../context/RoomContext";
import { useAuth } from "../../context/AuthContext";
import { FiMessageCircle, FiX, FiSend } from "react-icons/fi";
import QRPaymentModal from "../QRPaymentModal";

// AI Response templates for hotel consultation
const AI_RESPONSES = {
  greetings: [
    "Hello!  I'm your booking assistant. I'll help you find the perfect room. What do you need?",
    "Welcome!  I'm here to provide you with an amazing booking experience.",
  ],
  room_suggestions: [
    "Based on your requirements, I recommend these rooms:",
    "I found rooms that match your needs:",
  ],
  price_inquiry: [
    "Room prices vary by season. Choose dates to see exact pricing!",
    "Best rates on weekdays. Weekend rates are different!",
  ],
  amenities: [
    " Swimming Pool,  Gym,  Restaurant,  Spa",
    " Casino,  Tennis Court,  Bike Rental",
  ],
  special_requests: [
    "I've noted your special request. Our team will contact you soon!",
    "A staff member will reach out to confirm this request.",
  ],
};

const QuickReply = ({ label, onClick, icon = "" }) => (
  <button
    onClick={onClick}
    className="px-4 py-2 text-sm rounded-full bg-blue-50 hover:bg-blue-100 text-blue-700 border border-blue-200 transition transform hover:scale-105 active:scale-95 duration-200 font-medium flex items-center gap-2 whitespace-nowrap"
  >
    <span>{icon}</span>
    {label}
  </button>
);

const ChatMessage = ({ role = "ai", children, timestamp = null }) => {
  const isUser = role === "user";
  return (
    <div
      className={`w-full flex ${
        isUser ? "justify-end" : "justify-start"
      } my-3 animate-fade-in`}
    >
      <div
        className={`max-w-[85%] px-4 py-3 rounded-2xl text-sm leading-relaxed shadow-sm transition-all hover:shadow-md ${
          isUser
            ? "bg-blue-600 text-white rounded-br-sm"
            : "bg-gray-100 text-gray-900 border border-gray-200 rounded-bl-sm"
        }`}
      >
        {children}
        {timestamp && (
          <div
            className={`text-xs mt-1 ${
              isUser ? "text-blue-100" : "text-gray-500"
            }`}
          >
            {timestamp}
          </div>
        )}
      </div>
    </div>
  );
};

const TypingDots = () => (
  <div className="w-full flex justify-start my-3">
    <div className="px-4 py-3 rounded-2xl text-sm bg-gray-100 border border-gray-200 text-gray-500">
      <span className="inline-flex gap-1">
        <span
          className="w-2 h-2 rounded-full bg-gray-400 animate-bounce"
          style={{ animationDelay: "0ms" }}
        ></span>
        <span
          className="w-2 h-2 rounded-full bg-gray-400 animate-bounce"
          style={{ animationDelay: "150ms" }}
        ></span>
        <span
          className="w-2 h-2 rounded-full bg-gray-400 animate-bounce"
          style={{ animationDelay: "300ms" }}
        ></span>
      </span>
    </div>
  </div>
);

const RoomCard = ({ room, onSelect, showPrice = true }) => (
  <div
    onClick={() => onSelect(room)}
    className="flex gap-3 p-3 border border-gray-200 rounded-xl bg-white hover:bg-blue-50 transition transform hover:scale-[1.02] hover:shadow-lg duration-200 cursor-pointer"
  >
    <img
      src={room.image}
      alt={room.name}
      className="w-20 h-20 rounded-lg object-cover shadow-sm"
    />
    <div className="flex-1">
      <div className="font-semibold text-gray-900 text-sm">{room.name}</div>
      <div className="text-xs text-gray-600 mt-1">{room.description}</div>
      {showPrice && (
        <div className="text-blue-600 font-bold text-sm mt-2">
          ${room.price}/night
        </div>
      )}
    </div>
  </div>
);

const ChatBox = () => {
  const navigate = useNavigate();
  const { bookRoom, confirmBookingPayment, rooms: allRooms } = useRoomContext();
  const { isAuthenticated, user } = useAuth();

  const [open, setOpen] = useState(false);
  const [messages, setMessages] = useState([]);
  const [input, setInput] = useState("");
  const [isTyping, setIsTyping] = useState(false);
  const [stage, setStage] = useState("idle"); // idle | filter | book | payment | chat_after_booking
  const [bookingConfirmed, setBookingConfirmed] = useState(null);
  const [showQRPayment, setShowQRPayment] = useState(false);

  const messagesEndRef = useRef(null);

  const [filterForm, setFilterForm] = useState({
    checkIn: new Date().toISOString().split("T")[0],
    checkOut: new Date(Date.now() + 86400000).toISOString().split("T")[0],
    adults: 1,
    kids: 0,
  });

  const [bookingForm, setBookingForm] = useState({
    roomName: "",
    checkIn: new Date().toISOString().split("T")[0],
    checkOut: new Date(Date.now() + 86400000).toISOString().split("T")[0],
    adults: 1,
    kids: 0,
    name: "",
    email: "",
    phone: "",
    specialRequests: "",
  });

  const [adults, setAdults] = useState("1 Adult");
  const [kids, setKids] = useState("0 Kid");
  const [checkInDate, setCheckInDate] = useState(
    new Date().toISOString().split("T")[0]
  );
  const [checkOutDate, setCheckOutDate] = useState(
    new Date(Date.now() + 86400000).toISOString().split("T")[0]
  );
  const handleCheck = () => {};

  const candidateRooms = useMemo(() => {
    if (!bookingForm.roomName.trim()) return [];
    const keyword = bookingForm.roomName.toLowerCase();
    return allRooms.filter((r) => r.name.toLowerCase().includes(keyword));
  }, [bookingForm.roomName, allRooms]);

  const getRandomResponse = (type) => {
    const responses = AI_RESPONSES[type] || [];
    return responses[Math.floor(Math.random() * responses.length)] || "";
  };

  const getTimestamp = () => {
    const now = new Date();
    return now.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
  };

  useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
  }, [messages, isTyping]);

  useEffect(() => {
    if (open && messages.length === 0) {
      setTimeout(() => {
        pushAI(getRandomResponse("greetings"));
      }, 500);
    }
  }, [open]);

  const pushAI = (text, delay = 800) => {
    setIsTyping(true);
    setTimeout(() => {
      setMessages((prev) => [
        ...prev,
        {
          role: "ai",
          text,
          timestamp: getTimestamp(),
        },
      ]);
      setIsTyping(false);
    }, delay);
  };

  const pushUser = (text) => {
    setMessages((prev) => [
      ...prev,
      {
        role: "user",
        text,
        timestamp: getTimestamp(),
      },
    ]);
  };

  const onQuick = (type) => {
    if (type === "filter") {
      pushUser("Find suitable rooms");
      setStage("filter");
      pushAI(
        "Great!  Please select check-in date, check-out date, and number of guests. I'll find the best rooms for you."
      );
    } else if (type === "book") {
      pushUser("Book now");
      setStage("book");
      pushAI(
        "Ready!  Please enter a room type or keyword (e.g., Deluxe, Family, Sea View), then fill in your details."
      );
    } else if (type === "amenities") {
      pushUser("Ask about amenities");
      pushAI(
        `${getRandomResponse(
          "amenities"
        )} \n\nOther features:\n Karaoke,  Movie Room,  24h Food Court`
      );
    } else if (type === "contact") {
      pushUser("Contact support");
      pushAI(
        " Hotline: 1-800-HOTEL\n Email: support@hotel.com\n 24/7 Live chat support\n\nOr leave your phone number and we'll call back!"
      );
    } else if (type === "promo") {
      pushUser("Special offers");
      pushAI(
        " Today's Promotions:\n 15% off for 3+ nights\n Free room upgrade (available)\n Breakfast voucher for families\n\nBook now to not miss out!"
      );
    }
  };

  const handleSend = () => {
    const text = input.trim();
    if (!text) return;
    pushUser(text);
    setInput("");
    const t = text.toLowerCase();

    if (t.includes("book") || t.includes("booking")) {
      setStage("book");
      pushAI(
        "Perfect!  What type of room would you like to book? Enter the room name or keyword, then provide your details."
      );
    } else if (
      t.includes("find") ||
      t.includes("room") ||
      t.includes("recommend") ||
      t.includes("suggest")
    ) {
      setStage("filter");
      pushAI(
        "Sure!  Select your check-in and check-out dates, and number of guests. I'll recommend the best rooms for you."
      );
    } else if (
      t.includes("amenities") ||
      t.includes("facilities") ||
      t.includes("services")
    ) {
      pushAI(
        `${getRandomResponse(
          "amenities"
        )}\n\nWould you like to know more details about any specific amenity?`
      );
    } else if (t.includes("price") || t.includes("cost")) {
      pushAI(getRandomResponse("price_inquiry"));
    } else if (t.includes("contact") || t.includes("support")) {
      pushAI(
        " Hotline: 1-800-HOTEL\n Email: support@hotel.com\n\nHow can I help you?"
      );
    } else {
      pushAI(
        "Thank you!  You can use the buttons below or ask me about:\n Find suitable rooms\n Book a room\n Prices & promotions\n Amenities & services"
      );
    }
  };

  const applyFilter = () => {
    if (filterForm.checkIn >= filterForm.checkOut) {
      pushAI(
        " Check-out date must be after check-in date. Please try again!"
      );
      return;
    }
    setAdults(`${filterForm.adults} Adult`);
    setKids(`${filterForm.kids} Kid`);
    setCheckInDate(filterForm.checkIn);
    setCheckOutDate(filterForm.checkOut);
    try {
      handleCheck({ preventDefault: () => {} });
    } catch (_) {}
    pushAI(" Filter applied successfully. Redirecting to room list...");
    setTimeout(() => navigate("/"), 800);
    setTimeout(() => {
      const el = document.getElementById("rooms-section");
      if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
    }, 1000);
  };

  const selectRoomFromCard = (room) => {
    setBookingForm((f) => ({ ...f, roomName: room.name }));
    pushAI(
      ` You selected ${room.name}. Price: $${room.price}/night. Please confirm dates and enter your contact information.`
    );
    setStage("book");
  };

  const createBooking = () => {
    if (!bookingForm.roomName.trim()) {
      pushAI(" Please enter a room name or select a room from the list!");
      return;
    }
    if (bookingForm.checkIn >= bookingForm.checkOut) {
      pushAI(" Check-out date must be after check-in date!");
      return;
    }
    if (!bookingForm.name.trim()) {
      pushAI(" Please enter your name!");
      return;
    }
    if (!bookingForm.email.trim() || !bookingForm.email.includes("@")) {
      pushAI(" Please enter a valid email address!");
      return;
    }

    const room = candidateRooms[0];
    if (!room) {
      pushAI(" No matching room found. Please try a different keyword!");
      return;
    }

    const res = bookRoom({
      roomId: room.id,
      roomName: room.name,
      userId: user?.id || "guest",
      userName: bookingForm.name,
      userEmail: bookingForm.email,
      userPhone: bookingForm.phone,
      checkIn: bookingForm.checkIn,
      checkOut: bookingForm.checkOut,
      adults: bookingForm.adults,
      kids: bookingForm.kids,
      specialRequests: bookingForm.specialRequests,
      note: "Booked via AI ChatBox",
    });

    if (res?.success) {
      setBookingConfirmed(res.booking);
      pushAI(
        ` Booking Details Confirmed!\n\n` +
          ` Room: ${room.name}\n` +
          ` Check-in: ${bookingForm.checkIn}\n` +
          ` Check-out: ${bookingForm.checkOut}\n` +
          ` Guests: ${bookingForm.adults} adults, ${bookingForm.kids} children\n` +
          ` Total: $${res.booking.totalPrice}\n` +
          ` Confirmation Code: ${res.booking.confirmationCode}\n\n` +
          `Now proceeding to QR payment...`
      );
      setStage("payment");
      setTimeout(() => {
        setShowQRPayment(true);
      }, 1500);
    } else {
      pushAI(
        ` Unable to create booking: ${
          res?.error || "Please check your information and try again."
        }`
      );
    }
  };

  const handleQRPaymentConfirm = (booking) => {
    // Confirm payment in the system
    confirmBookingPayment(booking.id, {
      paymentMethod: "QR Code",
      paymentCode: `QR-${Date.now()}`,
    });

    setShowQRPayment(false);
    pushAI(
      ` Payment successful!\n\n` +
        `Your booking has been confirmed and saved to your account.\n` +
        `Confirmation details have been sent to ${bookingForm.email}.\n\n` +
        `Would you like to book another room or need anything else?`
    );
    setStage("idle");
    setBookingForm({
      roomName: "",
      checkIn: new Date().toISOString().split("T")[0],
      checkOut: new Date(Date.now() + 86400000).toISOString().split("T")[0],
      adults: 1,
      kids: 0,
      name: "",
      email: "",
      phone: "",
      specialRequests: "",
    });
    setBookingConfirmed(null);
  };

  return (
    <div className="fixed bottom-6 right-6 z-50">
      {!open && (
        <button
          aria-label="Open AI Chat"
          onClick={() => setOpen(true)}
          className="flex items-center gap-3 px-5 py-4 rounded-full shadow-2xl bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 transition transform hover:scale-110 active:scale-95 duration-200 animate-bounce font-semibold"
        >
          <FiMessageCircle size={20} />
          <span>Chat AI</span>
        </button>
      )}

      {open && (
        <div className="w-[360px] sm:w-[400px] h-[600px] bg-white rounded-3xl shadow-2xl border border-gray-200 flex flex-col animate-slide-up animate-fade-in overflow-hidden">
          {/* Header */}
          <div className="px-6 py-4 flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-3xl shadow-md">
            <div>
              <div className="font-bold text-lg">Booking Assistant</div>
              <div className="text-xs text-blue-100">
                24/7 Support  Fast & Friendly
              </div>
            </div>
            <button
              onClick={() => setOpen(false)}
              className="p-1 text-white/80 hover:text-white hover:bg-white/20 rounded-lg transition"
              aria-label="Close"
            >
              <FiX size={20} />
            </button>
          </div>

          {/* Body */}
          <div className="flex-1 overflow-y-auto px-4 py-4 bg-gradient-to-b from-blue-50 to-gray-50 space-y-1">
            {messages.map((m, idx) => (
              <ChatMessage key={idx} role={m.role} timestamp={m.timestamp}>
                {m.text}
              </ChatMessage>
            ))}
            {isTyping && <TypingDots />}
            <div ref={messagesEndRef} />

            {/* Suggestions when user types a room name */}
            {stage === "book" &&
              bookingForm.roomName &&
              candidateRooms.length > 0 && (
                <div className="mt-4 space-y-2 animate-fade-in">
                  <div className="text-xs font-semibold text-gray-600 px-2">
                     Recommended Rooms:
                  </div>
                  {candidateRooms.slice(0, 3).map((room) => (
                    <RoomCard
                      key={room.id}
                      room={room}
                      onSelect={selectRoomFromCard}
                    />
                  ))}
                </div>
              )}

            {/* Quick actions */}
            {stage === "idle" && messages.length <= 2 && (
              <div className="flex flex-wrap gap-2 p-2">
                <QuickReply
                  label=" Find Rooms"
                  onClick={() => onQuick("filter")}
                />
                <QuickReply
                  label=" Book Now"
                  onClick={() => onQuick("book")}
                />
                <QuickReply
                  label=" Amenities"
                  onClick={() => onQuick("amenities")}
                />
                <QuickReply
                  label=" Specials"
                  onClick={() => onQuick("promo")}
                />
                <QuickReply
                  label=" Contact"
                  onClick={() => onQuick("contact")}
                />
              </div>
            )}

            {/* Filter form */}
            {stage === "filter" && (
              <div className="p-4 bg-white border border-gray-200 rounded-2xl animate-fade-in space-y-4">
                <h3 className="font-semibold text-gray-900">Find Rooms</h3>
                <div className="grid grid-cols-2 gap-3">
                  <label className="text-xs text-gray-600 font-medium">
                    Check-in
                    <input
                      type="date"
                      value={filterForm.checkIn}
                      onChange={(e) =>
                        setFilterForm((f) => ({
                          ...f,
                          checkIn: e.target.value,
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium">
                    Check-out
                    <input
                      type="date"
                      value={filterForm.checkOut}
                      onChange={(e) =>
                        setFilterForm((f) => ({
                          ...f,
                          checkOut: e.target.value,
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium">
                     Adults
                    <input
                      type="number"
                      min={1}
                      max={10}
                      value={filterForm.adults}
                      onChange={(e) =>
                        setFilterForm((f) => ({
                          ...f,
                          adults: Number(e.target.value),
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium">
                     Children
                    <input
                      type="number"
                      min={0}
                      max={10}
                      value={filterForm.kids}
                      onChange={(e) =>
                        setFilterForm((f) => ({
                          ...f,
                          kids: Number(e.target.value),
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                </div>
                <button
                  onClick={applyFilter}
                  className="w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transition transform hover:scale-105 active:scale-95 duration-200"
                >
                   Find Rooms
                </button>

                {/* Featured rooms preview (top 3) */}
                <div className="space-y-2 border-t pt-4">
                  <div className="text-xs font-semibold text-gray-600">
                     Featured Rooms:
                  </div>
                  {allRooms.slice(0, 3).map((room) => (
                    <RoomCard
                      key={room.id}
                      room={room}
                      onSelect={selectRoomFromCard}
                    />
                  ))}
                </div>
              </div>
            )}

            {/* Booking form */}
            {stage === "book" && (
              <div className="p-4 bg-white border border-gray-200 rounded-2xl animate-fade-in space-y-4">
                <h3 className="font-semibold text-gray-900">
                   Booking Information
                </h3>
                <div className="grid grid-cols-2 gap-3">
                  <label className="text-xs text-gray-600 font-medium col-span-2">
                    Room Name / Search
                    <input
                      type="text"
                      value={bookingForm.roomName}
                      onChange={(e) =>
                        setBookingForm((f) => ({
                          ...f,
                          roomName: e.target.value,
                        }))
                      }
                      placeholder="e.g., Deluxe, Family, Sea View..."
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium">
                    Check-in
                    <input
                      type="date"
                      value={bookingForm.checkIn}
                      onChange={(e) =>
                        setBookingForm((f) => ({
                          ...f,
                          checkIn: e.target.value,
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium">
                    Check-out
                    <input
                      type="date"
                      value={bookingForm.checkOut}
                      onChange={(e) =>
                        setBookingForm((f) => ({
                          ...f,
                          checkOut: e.target.value,
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium">
                     Adults
                    <input
                      type="number"
                      min={1}
                      max={10}
                      value={bookingForm.adults}
                      onChange={(e) =>
                        setBookingForm((f) => ({
                          ...f,
                          adults: Number(e.target.value),
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium">
                     Children
                    <input
                      type="number"
                      min={0}
                      max={10}
                      value={bookingForm.kids}
                      onChange={(e) =>
                        setBookingForm((f) => ({
                          ...f,
                          kids: Number(e.target.value),
                        }))
                      }
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium col-span-2">
                    Full Name
                    <input
                      type="text"
                      value={bookingForm.name}
                      onChange={(e) =>
                        setBookingForm((f) => ({ ...f, name: e.target.value }))
                      }
                      placeholder="John Doe"
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium col-span-2">
                    Email
                    <input
                      type="email"
                      value={bookingForm.email}
                      onChange={(e) =>
                        setBookingForm((f) => ({ ...f, email: e.target.value }))
                      }
                      placeholder="email@example.com"
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium col-span-2">
                    Phone (Optional)
                    <input
                      type="tel"
                      value={bookingForm.phone}
                      onChange={(e) =>
                        setBookingForm((f) => ({ ...f, phone: e.target.value }))
                      }
                      placeholder="+1 (555) 123-4567"
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                  </label>
                  <label className="text-xs text-gray-600 font-medium col-span-2">
                    Special Requests (Optional)
                    <textarea
                      value={bookingForm.specialRequests}
                      onChange={(e) =>
                        setBookingForm((f) => ({
                          ...f,
                          specialRequests: e.target.value,
                        }))
                      }
                      placeholder="e.g., High floor, near elevator, quiet room..."
                      rows="2"
                      className="mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                    />
                  </label>
                </div>

                {bookingForm.roomName && candidateRooms.length > 0 && (
                  <div className="p-2 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900">
                     Suggestions:{" "}
                    {candidateRooms
                      .slice(0, 2)
                      .map((r) => r.name)
                      .join(", ")}
                  </div>
                )}

                <button
                  onClick={createBooking}
                  className="w-full py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold rounded-lg hover:from-green-700 hover:to-green-800 transition transform hover:scale-105 active:scale-95 duration-200 flex items-center justify-center gap-2"
                >
                  <FiSend size={18} />
                  Confirm Booking
                </button>
              </div>
            )}

            {/* Payment stage placeholder */}
            {stage === "payment" && (
              <div className="p-4 bg-white border border-gray-200 rounded-2xl animate-fade-in space-y-4">
                <h3 className="font-semibold text-gray-900"> Payment</h3>
                <div className="p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-900">
                  Payment gateway integration coming soon. Your booking details
                  have been saved.
                </div>
              </div>
            )}
          </div>

          {/* Input */}
          <div className="px-4 py-3 border-t bg-white rounded-b-3xl">
            <div className="flex gap-2">
              <input
                value={input}
                onChange={(e) => setInput(e.target.value)}
                onKeyDown={(e) => {
                  if (e.key === "Enter" && !e.shiftKey) {
                    e.preventDefault();
                    handleSend();
                  }
                }}
                placeholder="Ask me anything..."
                className="flex-1 border border-gray-300 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
              <button
                onClick={handleSend}
                className="px-4 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition transform hover:scale-105 active:scale-95 duration-200 flex items-center justify-center"
              >
                <FiSend size={18} />
              </button>
            </div>
          </div>
        </div>
      )}

      {/* QR Payment Modal */}
      {showQRPayment && bookingConfirmed && (
        <QRPaymentModal
          booking={bookingConfirmed}
          onConfirmPayment={handleQRPaymentConfirm}
          onClose={() => setShowQRPayment(false)}
        />
      )}
    </div>
  );
};

export default ChatBox;


=================================================================
FILE PATH (V2): src\components\chatBox\index.js
=================================================================
export { default } from './ChatBox';

=================================================================
FILE PATH (V2): src\components\CheckIn.jsx
=================================================================
import { BsCalendar } from 'react-icons/bs';
import DatePicker from 'react-datepicker';
import 'react-datepicker/dist/react-datepicker.css';
import '../style/datepicker.css';
import { useRoomContext } from '../context/RoomContext';

const CheckIn = () => {
  const { checkInDate, setCheckInDate, checkOutDate, setCheckOutDate } = useRoomContext();

  const handleChange = (date) => {
    setCheckInDate(date);
    if (checkOutDate && date && date >= checkOutDate) {
      setCheckOutDate(null);
    }
  };

  return (
    <div className='relative flex items-center justify-end h-full'>
      <div className='absolute z-10 pr-8'>
        <div><BsCalendar className='text-accent text-base' /></div>
      </div>

      <DatePicker
        className='w-full h-full'
        selected={checkInDate}
        placeholderText='Check in'
        minDate={new Date()}
        onChange={handleChange}
      />
    </div>
  );
};

export default CheckIn;


=================================================================
FILE PATH (V2): src\components\CheckOut.jsx
=================================================================
import { BsCalendar } from 'react-icons/bs';
import DatePicker from 'react-datepicker';
import 'react-datepicker/dist/react-datepicker.css';
import '../style/datepicker.css';
import { useRoomContext } from '../context/RoomContext';

const CheckOut = () => {
  const { checkInDate, checkOutDate, setCheckOutDate } = useRoomContext();

  const minDate = checkInDate ? new Date(checkInDate.getTime() + 24 * 60 * 60 * 1000) : new Date();

  return (
    <div className='relative flex items-center justify-end h-full'>
      <div className='absolute z-10 pr-8'>
        <div><BsCalendar className='text-accent text-base' /></div>
      </div>

      <DatePicker
        className='w-full h-full'
        selected={checkOutDate}
        placeholderText='Check out'
        minDate={minDate}
        onChange={(date) => setCheckOutDate(date)}
        disabled={!checkInDate}
      />

    </div>
  );
};

export default CheckOut;


=================================================================
FILE PATH (V2): src\components\Footer.jsx
=================================================================
import { LogoWhite } from "../assets";

const Footer = () => (
  <footer className='bg-primary py-12'>

    <div className='container mx-auto text-white flex items-center gap-5 sm:justify-between flex-col sm:flex-row'>
      <a href="/" >
        <LogoWhite />
      </a>
      <div className="flex flex-col items-center">
        <p>Copyright &copy; {new Date().getFullYear()}, All Right Reserved,</p>
      </div>
    </div>

  </footer>
);

export default Footer;

=================================================================
FILE PATH (V2): src\components\Header.jsx
=================================================================
import { useRoomContext } from "../context/RoomContext";
import { useAuth } from "../context/AuthContext";
import { useEffect, useMemo, useState } from "react";
import { Link, useNavigate, useLocation } from "react-router-dom";
import { LogoWhite } from "../assets";
import { LogoDark } from "../assets";
import { FaUser, FaSignOutAlt, FaSignInAlt } from "react-icons/fa";

const Header = () => {
  const { resetRoomFilterData } = useRoomContext();
  const { user, logout, isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  const [header, setHeader] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      if (location.pathname !== "/") {
        setHeader(true);
      } else {
        setHeader(window.scrollY > 50);
      }
    };

    handleScroll();
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, [location.pathname]);

  const navLinks = [
    { label: "Home", path: "/" },
    { label: "Rooms", path: "/rooms" },
    { label: "Restaurant", path: "/restaurant" },
    { label: "Spa", path: "/spa" },
    { label: "Contact", path: "/contact" },
  ];

  const handleLogout = () => {
    logout();
    navigate("/");
  };

  const avatarLetter = useMemo(() => {
    if (!user?.name && !user?.email) return "";
    const source = user.name || user.email;
    return source.charAt(0).toUpperCase();
  }, [user]);

  return (
    <header
      className={`fixed z-50 w-full transition-all duration-300 
      ${header ? "bg-white py-6 shadow-lg" : "bg-transparent py-8"}`}
    >
      <div className="container mx-auto flex flex-col lg:flex-row items-center lg:justify-between gap-y-6 lg:gap-y-0">
        {/* Logo */}
        <Link to="/" onClick={resetRoomFilterData}>
          {
            header ? (
              <LogoDark className="w-[160px]" /> //<img className='w-[160px]' src={LogoDark} />
            ) : (
              <LogoWhite className="w-[160px]" />
            ) //<img className='w-[160px]' src={LogoWhite} />
          }
        </Link>

        {/* Nav */}
        <nav
          className={`${header ? "text-primary" : "text-white"}
        flex gap-x-4 lg:gap-x-8 font-tertiary tracking-[3px] text-[15px] items-center uppercase`}
        >
          {navLinks.map(({ label, path }) => (
            <Link
              to={path}
              className="transition hover:text-accent"
              key={label}
            >
              {label}
            </Link>
          ))}

          {/* Auth Buttons */}
          <div className="flex items-center gap-3 ml-4 pl-4 border-l border-current/20">
            {isAuthenticated() ? (
              <>
                <div
                  className={`flex items-center gap-3 text-sm ${
                    header ? "text-primary" : "text-white"
                  }`}
                >
                  <div className="w-9 h-9 rounded-full bg-accent/20 flex items-center justify-center uppercase font-semibold text-accent border border-accent/40">
                    {user?.avatar ? (
                      <img
                        src={user.avatar}
                        alt={user.name}
                        className="w-full h-full rounded-full object-cover"
                      />
                    ) : (
                      avatarLetter || <FaUser />
                    )}
                  </div>
                  <span className="hidden sm:inline font-semibold">
                    {user?.name || user?.email?.split("@")[0]}
                  </span>
                </div>
                {user?.role !== "admin" && (
                  <Link
                    to="/account"
                    className={`transition hover:text-accent flex items-center gap-2 text-sm ${
                      header ? "text-primary" : "text-white"
                    }`}
                  >
                    <span className="hidden sm:inline">Dashboard</span>
                  </Link>
                )}
                {user?.role === "admin" && (
                  <Link
                    to="/admin"
                    className={`transition hover:text-accent flex items-center gap-2 text-sm ${
                      header ? "text-primary" : "text-white"
                    }`}
                  >
                    <span className="hidden sm:inline">Admin</span>
                  </Link>
                )}
                <button
                  onClick={handleLogout}
                  className={`transition hover:text-accent flex items-center gap-2 text-sm ${
                    header ? "text-primary" : "text-white"
                  }`}
                  title="Sign Out"
                >
                  <FaSignOutAlt />
                  <span className="hidden sm:inline">Sign Out</span>
                </button>
              </>
            ) : (
              <>
                <Link
                  to="/register"
                  className={`transition hover:text-accent flex items-center gap-2 text-sm ${
                    header ? "text-primary" : "text-white"
                  }`}
                >
                  <span className="hidden sm:inline">Sign Up</span>
                </Link>
                <Link
                  to="/login"
                  className={`transition hover:text-accent flex items-center gap-2 text-sm ${
                    header ? "text-primary" : "text-white"
                  }`}
                >
                  <FaSignInAlt />
                  <span className="hidden sm:inline">Sign In</span>
                </Link>
              </>
            )}
          </div>
        </nav>
      </div>
    </header>
  );
};

export default Header;


=================================================================
FILE PATH (V2): src\components\HeroSlider.jsx
=================================================================
import { Swiper, SwiperSlide } from 'swiper/react';
import { sliderData } from '../constants/data';
import { EffectFade, Autoplay } from 'swiper';
import 'swiper/css/effect-fade';
import 'swiper/css';


const HeroSlider = () => {

  return (
    <Swiper
      modules={[EffectFade, Autoplay]}
      effect={'fade'}
      loop={true}
      autoplay={{
        delay: 3000,
        disableOnInteraction: false,
      }}
      className='heroSlider h-[600px] lg:h-[860px]'
    >
      {
        sliderData.map(({ id, title, bg, btnNext }) =>
          <SwiperSlide className='h-full relative flex justify-center items-center' key={id}>

            <div className='z-20 text-white text-center'>
              <div className='uppercase font-tertiary tracking-[6px] mb-5'>Just Enjoy & Relax</div>
              <h1 className='font-primary text-[32px] uppercase tracking-[2px] max-w-[920px] lg:text-[68px] leading-tight mb-6'>
                {title}
              </h1>
              <button className='btn btn-lg btn-primary mx-auto'>{btnNext}</button>
            </div>

            <div className='absolute top-0 w-full h-full'>
              <img className='object-cover h-full w-full' src={bg} alt="logo" />
            </div>

            <div className='absolute w-full h-full bg-black/70' />
          </SwiperSlide>
        )
      }
    </Swiper>
  )
};

export default HeroSlider;


=================================================================
FILE PATH (V2): src\components\index.js
=================================================================
export { default as AdultsDropdown } from "./AdultsDropdown";
export { default as PageNotFound } from "./PageNotFound";
export { default as KidsDropdown } from "./KidsDropdown";
export { default as HeroSlider } from "./HeroSlider";
export { default as BookForm } from "./BookForm";
export { default as CheckOut } from "./CheckOut";
export { default as CheckIn } from "./CheckIn";
export { default as Footer } from "./Footer";
export { default as Header } from "./Header";
export { default as Rooms } from "./Rooms";
export { default as Room } from "./Room";
export { default as AdminSidebar } from "./AdminSidebar";
export { default as ProtectedRoute } from "./ProtectedRoute";
export { default as Toast } from "./Toast";
export { default as LanguageSwitcher } from "./LanguageSwitcher";
export { default as QRPaymentModal } from "./QRPaymentModal";
export { default as Invoice } from "./Invoice";
export { default as Pagination } from "./Pagination";
export { default as CategoryFilter } from "./CategoryFilter";
export { default as RoomTypeSelector } from "./RoomTypeSelector";

export { default as ScrollToTop } from "../utils/ScrollToTop";


=================================================================
FILE PATH (V2): src\components\Invoice.jsx
=================================================================
import { useRef } from "react";
import { FaFileInvoice, FaEnvelope, FaTimes } from "react-icons/fa";
import { LogoDark } from "../assets";

const Invoice = ({ booking, onClose, onDownload, onEmail }) => {
  const invoiceRef = useRef(null);
  const formatDate = (dateString) => {
    if (!dateString) return "N/A";
    const date = new Date(dateString);
    return date.toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric",
    });
  };

  const formatDateTime = (dateString) => {
    if (!dateString) return "N/A";
    const date = new Date(dateString);
    return date.toLocaleString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit",
    });
  };

  const getBookingType = () => {
    if (booking.type === "restaurant") return "Restaurant Reservation";
    if (booking.type === "spa") return "Spa Appointment";
    return "Room Booking";
  };

  return (
    <div
      className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto"
      onClick={(e) => {
        if (e.target === e.currentTarget && onClose) {
          onClose();
        }
      }}
    >
      <div
        ref={invoiceRef}
        className="bg-white rounded-lg shadow-xl max-w-3xl w-full my-8 max-h-[90vh] flex flex-col invoice-pdf"
      >
        {/* Header - Fixed */}
        <div className="bg-gradient-to-r from-accent/20 to-accent/10 p-8 border-b-2 border-accent/30 flex-shrink-0">
          <div className="flex items-center justify-between mb-6">
            <div className="flex items-center gap-4">
              <div className="bg-white p-3 rounded-lg shadow-sm">
                <LogoDark className="w-32" />
              </div>
              <div>
                <h2 className="text-3xl font-primary text-primary mb-1">
                  Invoice
                </h2>
                <p className="text-sm text-primary/60">Adina Hotel & Spa</p>
              </div>
            </div>
            {onClose && (
              <button
                onClick={onClose}
                className="text-primary/60 hover:text-primary transition p-2 hover:bg-white/50 rounded-full close-btn"
                title="Close"
              >
                <FaTimes className="text-2xl" />
              </button>
            )}
          </div>
          <div className="flex items-center gap-4 text-sm flex-wrap action-buttons">
            <div className="flex items-center gap-2 px-5 py-2.5 bg-green-50 border-2 border-green-200 text-green-700 rounded-lg email-badge">
              <FaEnvelope />
              <span>Invoice sent to email</span>
            </div>
          </div>
        </div>

        {/* Invoice Content - Scrollable */}
        <div className="p-8 overflow-y-auto flex-1">
          {/* Invoice Details */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <div className="bg-[#f7f4ef] p-6 rounded-lg border border-[#eadfcf]">
              <h3 className="font-semibold text-primary mb-4 text-lg flex items-center gap-2">
                <span className="w-1 h-6 bg-accent block"></span>
                Bill To:
              </h3>
              <div className="space-y-2">
                <p className="text-primary font-semibold text-lg">
                  {booking.userName || booking.name}
                </p>
                <p className="text-primary/70">
                  {booking.userEmail || booking.email}
                </p>
                {booking.phone && (
                  <p className="text-primary/70">{booking.phone}</p>
                )}
              </div>
            </div>
            <div className="bg-[#f7f4ef] p-6 rounded-lg border border-[#eadfcf] text-right md:text-left">
              <h3 className="font-semibold text-primary mb-4 text-lg flex items-center gap-2 md:justify-end">
                <span className="w-1 h-6 bg-accent block"></span>
                Invoice Details:
              </h3>
              <div className="space-y-2">
                <p className="text-primary/70">
                  <span className="font-semibold">Invoice #:</span>{" "}
                  <span className="font-mono">
                    {booking.invoiceNumber || booking.confirmationCode}
                  </span>
                </p>
                {booking.paymentCode && (
                  <p className="text-primary/70">
                    <span className="font-semibold">Payment Code:</span>{" "}
                    <span className="font-mono">{booking.paymentCode}</span>
                  </p>
                )}
                <p className="text-primary/70">
                  <span className="font-semibold">Date:</span>{" "}
                  {formatDate(booking.paidAt || booking.createdAt)}
                </p>
                <p className="text-primary/70">
                  <span className="font-semibold">Payment:</span>{" "}
                  {booking.paymentMethod || "QR Code"}
                </p>
                {booking.status && (
                  <p className="text-primary/70">
                    <span className="font-semibold">Status:</span>{" "}
                    <span className="capitalize">{booking.status}</span>
                  </p>
                )}
                {booking.roomId && (
                  <p className="text-primary/70">
                    <span className="font-semibold">Room ID:</span>{" "}
                    {booking.roomId}
                  </p>
                )}
              </div>
            </div>
          </div>

          {/* Booking Type */}
          <div className="mb-8">
            <h3 className="font-primary text-2xl mb-6 text-primary border-b-2 border-accent/30 pb-3">
              {getBookingType()}
            </h3>
            <div className="bg-gradient-to-r from-accent/10 to-accent/5 p-6 rounded-lg border-2 border-accent/20">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <p className="text-sm text-primary/60 mb-1">
                    Confirmation Code
                  </p>
                  <p className="font-mono font-semibold text-lg text-primary">
                    {booking.confirmationCode}
                  </p>
                </div>
                {booking.paymentCode && (
                  <div>
                    <p className="text-sm text-primary/60 mb-1">Payment Code</p>
                    <p className="font-mono font-semibold text-lg text-primary">
                      {booking.paymentCode}
                    </p>
                  </div>
                )}
              </div>
            </div>
          </div>

          {/* Booking Details */}
          <div className="mb-8">
            {booking.type === "room" && (
              <>
                <div className="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6">
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Room
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {booking.roomName}
                    </p>
                  </div>
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Check-in
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {formatDate(booking.checkIn)}
                    </p>
                  </div>
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Check-out
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {formatDate(booking.checkOut)}
                    </p>
                  </div>
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Nights
                    </p>
                    <p className="font-semibold text-lg text-accent">
                      {booking.totalNights || 1}
                    </p>
                  </div>
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf] col-span-2">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Guests
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {booking.adults || 1} Adult(s)
                      {booking.kids ? `, ${booking.kids} Kid(s)` : ""}
                    </p>
                  </div>
                </div>
                {booking.pricingBreakdown &&
                  booking.pricingBreakdown.length > 0 && (
                    <div className="mt-6">
                      <h4 className="font-semibold text-lg mb-4 text-primary border-b border-[#eadfcf] pb-2">
                        Pricing Breakdown:
                      </h4>
                      <div className="space-y-2 text-sm max-h-60 overflow-y-auto border-2 border-[#eadfcf] rounded-lg p-4 bg-white">
                        {booking.pricingBreakdown.map((day, idx) => (
                          <div
                            key={idx}
                            className="flex justify-between items-center text-primary/70 py-2 border-b border-[#eadfcf]/50 last:border-0"
                          >
                            <div className="flex-1">
                              <span className="font-medium">
                                {formatDate(day.date)}
                              </span>
                              {day.label && (
                                <span className="text-primary/50 text-xs ml-2">
                                  ({day.label})
                                </span>
                              )}
                            </div>
                            <span className="font-semibold text-accent text-base">
                              ${day.price || day.rate || 0}
                            </span>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                {(booking.note || booking.specialRequests) && (
                  <div className="mt-6">
                    <h4 className="font-semibold text-lg mb-4 text-primary border-b border-[#eadfcf] pb-2">
                      Special Requests / Notes:
                    </h4>
                    <div className="bg-[#f7f4ef] p-4 rounded-lg border border-[#eadfcf]">
                      <p className="text-primary/80 whitespace-pre-wrap">
                        {booking.note || booking.specialRequests}
                      </p>
                    </div>
                  </div>
                )}
              </>
            )}

            {booking.type === "restaurant" && (
              <>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Date & Time
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {formatDateTime(booking.date)}
                    </p>
                  </div>
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Number of Guests
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {booking.guests || 1} Guest(s)
                    </p>
                  </div>
                  {booking.serviceName && (
                    <div className="bg-white p-4 rounded-lg border border-[#eadfcf] md:col-span-2">
                      <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                        Service
                      </p>
                      <p className="font-semibold text-lg text-primary">
                        {booking.serviceName}
                      </p>
                    </div>
                  )}
                </div>
                {booking.specialRequests && (
                  <div className="mt-4">
                    <h4 className="font-semibold text-lg mb-4 text-primary border-b border-[#eadfcf] pb-2">
                      Special Requests:
                    </h4>
                    <div className="bg-[#f7f4ef] p-4 rounded-lg border border-[#eadfcf]">
                      <p className="text-primary/80 whitespace-pre-wrap">
                        {booking.specialRequests}
                      </p>
                    </div>
                  </div>
                )}
              </>
            )}

            {booking.type === "spa" && (
              <>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Date & Time
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {formatDateTime(booking.date)}
                    </p>
                  </div>
                  <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                    <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                      Service
                    </p>
                    <p className="font-semibold text-lg text-primary">
                      {booking.serviceName || booking.service}
                    </p>
                  </div>
                  {booking.duration && (
                    <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                      <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                        Duration
                      </p>
                      <p className="font-semibold text-lg text-primary">
                        {booking.duration}
                      </p>
                    </div>
                  )}
                  {booking.therapist && (
                    <div className="bg-white p-4 rounded-lg border border-[#eadfcf]">
                      <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                        Therapist
                      </p>
                      <p className="font-semibold text-lg text-primary">
                        {booking.therapist}
                      </p>
                    </div>
                  )}
                </div>
                {booking.specialRequests && (
                  <div className="mt-4">
                    <h4 className="font-semibold text-lg mb-4 text-primary border-b border-[#eadfcf] pb-2">
                      Special Requests:
                    </h4>
                    <div className="bg-[#f7f4ef] p-4 rounded-lg border border-[#eadfcf]">
                      <p className="text-primary/80 whitespace-pre-wrap">
                        {booking.specialRequests}
                      </p>
                    </div>
                  </div>
                )}
              </>
            )}
          </div>

          {/* Total */}
          <div className="bg-gradient-to-r from-accent/10 to-accent/5 border-2 border-accent/20 rounded-lg p-6 mt-8">
            <div className="space-y-3">
              <div className="flex justify-between items-center">
                <span className="text-primary/70 text-base">Subtotal:</span>
                <span className="font-semibold text-lg text-primary">
                  ${booking.totalPrice || booking.price}
                </span>
              </div>
              <div className="flex justify-between items-center">
                <span className="text-primary/70 text-base">Tax (10%):</span>
                <span className="font-semibold text-lg text-primary">
                  ${((booking.totalPrice || booking.price) * 0.1).toFixed(2)}
                </span>
              </div>
              <div className="border-t-2 border-accent/30 pt-3 mt-3">
                <div className="flex justify-between items-center">
                  <span className="text-2xl font-primary text-primary">
                    Total:
                  </span>
                  <span className="text-3xl font-primary text-accent font-bold">
                    ${((booking.totalPrice || booking.price) * 1.1).toFixed(2)}
                  </span>
                </div>
              </div>
            </div>
          </div>

          {/* Footer */}
          <div className="mt-8 pt-6 border-t-2 border-[#eadfcf] text-center">
            <p className="text-lg font-semibold text-primary mb-4">
              Thank you for your booking!
            </p>
            <div className="bg-[#f7f4ef] p-4 rounded-lg border border-[#eadfcf]">
              <p className="text-sm text-primary/70 font-medium mb-1">
                12 Tran Hung Dao, Hoan Kiem, Ha Noi
              </p>
              <p className="text-sm text-primary/60">
                Email: booking@adinahotel.com | Phone: +84 24 1234 5678
              </p>
            </div>
          </div>
        </div>

        {/* Close Button at Bottom */}
        {onClose && (
          <div className="p-4 border-t border-[#eadfcf] flex-shrink-0 bg-white">
            <button
              onClick={onClose}
              className="w-full btn btn-primary uppercase tracking-[2px]"
            >
              Close Invoice
            </button>
          </div>
        )}
      </div>
    </div>
  );
};

export default Invoice;


=================================================================
FILE PATH (V2): src\components\KidsDropdown.jsx
=================================================================
import { useRoomContext } from '../context/RoomContext';
import { BsChevronDown } from 'react-icons/bs';
import { kidsList } from '../constants/data';
import { Menu } from '@headlessui/react';


const KidsDropdown = () => {

  const { kids, setKids } = useRoomContext();


  return (
    <Menu as='div' className='w-full h-full bg-white relative'>


      <Menu.Button className='w-full h-full flex items-center justify-between px-8 hover:bg-accent/5 transition'>
        {kids === '0 Kid' ? 'No Kid' : kids}
        <BsChevronDown className='text-base text-accent-hover' />
      </Menu.Button>


      <Menu.Items as='ul' className='bg-white absolute w-full flex flex-col z-50 mt-1 shadow-lg border border-[#eadfcf] max-h-60 overflow-y-auto'>
        {
          kidsList.map(({ name }, idx) =>
            <Menu.Item
              as='li'
              key={idx}
              onClick={() => setKids(name)}
              className='border-b last-of-type:border-b-0 h-12 hover:bg-accent hover:text-white w-full flex items-center justify-center cursor-pointer transition px-4'
            >
              {name === '0 Kid' ? 'No Kid' : name}
            </Menu.Item>
          )
        }
      </Menu.Items>


    </Menu>
  );
};

export default KidsDropdown;


=================================================================
FILE PATH (V2): src\components\LanguageSwitcher.jsx
=================================================================
import { useLanguage } from '../context/LanguageContext';

const LanguageSwitcher = () => {
  const { language, setLanguage, t } = useLanguage();
  const options = [
    { code: 'en', label: t('languageSwitcher.english') },
    { code: 'vi', label: t('languageSwitcher.vietnamese') },
  ];

  return (
    <div className='flex items-center border border-current/20 rounded-full overflow-hidden text-xs uppercase tracking-[2px]'>
      {options.map((option) => (
        <button
          key={option.code}
          onClick={() => setLanguage(option.code)}
          className={`px-2 py-1 transition ${
            language === option.code ? 'bg-accent text-white' : 'bg-transparent'
          }`}
        >
          {option.label}
        </button>
      ))}
    </div>
  );
};

export default LanguageSwitcher;



=================================================================
FILE PATH (V2): src\components\PageNotFound.jsx
=================================================================
import React from 'react'

const PageNotFound = () => {
  return (
    <div>404 Page Not Found</div>
  )
}

export default PageNotFound

=================================================================
FILE PATH (V2): src\components\Pagination.jsx
=================================================================
import { FaChevronLeft, FaChevronRight } from "react-icons/fa";

const Pagination = ({
  currentPage,
  totalPages,
  onPageChange,
  itemsPerPage,
  totalItems,
}) => {
  if (totalPages <= 1) return null;

  // Generate page numbers to display
  const getPageNumbers = () => {
    const pages = [];
    const maxPagesToShow = 7;
    const halfRange = Math.floor(maxPagesToShow / 2);

    let startPage = Math.max(1, currentPage - halfRange);
    let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);

    if (endPage - startPage < maxPagesToShow - 1) {
      startPage = Math.max(1, endPage - maxPagesToShow + 1);
    }

    if (startPage > 1) {
      pages.push(1);
      if (startPage > 2) {
        pages.push("...");
      }
    }

    for (let i = startPage; i <= endPage; i++) {
      pages.push(i);
    }

    if (endPage < totalPages) {
      if (endPage < totalPages - 1) {
        pages.push("...");
      }
      pages.push(totalPages);
    }

    return pages;
  };

  const pageNumbers = getPageNumbers();
  const startItem = (currentPage - 1) * itemsPerPage + 1;
  const endItem = Math.min(currentPage * itemsPerPage, totalItems);

  return (
    <div className="py-12 px-6 lg:px-0">
      <div className="flex flex-col items-center gap-8">
        {/* Info */}
        <div className="text-center">
          <p className="text-sm text-primary/70">
            Showing{" "}
            <span className="font-semibold text-primary">{startItem}</span> to{" "}
            <span className="font-semibold text-primary">{endItem}</span> of{" "}
            <span className="font-semibold text-primary">{totalItems}</span>{" "}
            rooms
          </p>
        </div>

        {/* Pagination Controls */}
        <div className="flex items-center justify-center gap-2 flex-wrap">
          {/* Previous Button */}
          <button
            onClick={() => onPageChange(Math.max(1, currentPage - 1))}
            disabled={currentPage === 1}
            className="p-2.5 rounded-full border border-[#eadfcf] text-primary transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed hover:bg-accent hover:text-white hover:border-accent disabled:hover:bg-white disabled:hover:border-[#eadfcf] disabled:hover:text-primary"
            aria-label="Previous page"
          >
            <FaChevronLeft size={16} />
          </button>

          {/* Page Numbers */}
          <div className="flex items-center gap-1 flex-wrap justify-center">
            {pageNumbers.map((page, index) =>
              page === "..." ? (
                <span
                  key={`ellipsis-${index}`}
                  className="px-2 text-primary/50 font-tertiary"
                >
                  ...
                </span>
              ) : (
                <button
                  key={page}
                  onClick={() => onPageChange(page)}
                  className={`min-w-[40px] h-[40px] rounded-full font-tertiary font-semibold text-sm transition-all duration-300 ${
                    currentPage === page
                      ? "bg-accent text-white border border-accent shadow-lg scale-105"
                      : "border border-[#eadfcf] text-primary hover:bg-accent/10 hover:border-accent"
                  }`}
                  aria-label={`Go to page ${page}`}
                  aria-current={currentPage === page ? "page" : undefined}
                >
                  {page}
                </button>
              )
            )}
          </div>

          {/* Next Button */}
          <button
            onClick={() => onPageChange(Math.min(totalPages, currentPage + 1))}
            disabled={currentPage === totalPages}
            className="p-2.5 rounded-full border border-[#eadfcf] text-primary transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed hover:bg-accent hover:text-white hover:border-accent disabled:hover:bg-white disabled:hover:border-[#eadfcf] disabled:hover:text-primary"
            aria-label="Next page"
          >
            <FaChevronRight size={16} />
          </button>
        </div>

        {/* Page Info */}
        <div className="text-center text-xs text-primary/60 uppercase tracking-[2px]">
          Page <span className="font-semibold">{currentPage}</span> of{" "}
          <span className="font-semibold">{totalPages}</span>
        </div>
      </div>
    </div>
  );
};

export default Pagination;


=================================================================
FILE PATH (V2): src\components\ProtectedRoute.jsx
=================================================================
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { FaSpinner } from 'react-icons/fa';

const ProtectedRoute = ({ children, requireAdmin = false, disallowAdmin = false, redirectTo }) => {
  const { isAuthenticated, isAdmin, loading } = useAuth();
  const location = useLocation();
  const fallbackLogin = redirectTo || (requireAdmin ? '/admin/login' : '/login');

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="text-center">
          <FaSpinner className="animate-spin text-4xl text-accent mx-auto mb-4" />
          <p className="text-gray-600">Checking...</p>
        </div>
      </div>
    );
  }

  if (!isAuthenticated()) {
    // Redirect to login page with return url
    return <Navigate to={fallbackLogin} state={{ from: location }} replace />;
  }

  if (disallowAdmin && isAdmin()) {
    return <Navigate to="/admin" replace />;
  }

  if (requireAdmin && !isAdmin()) {
    // User is logged in but not admin
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="text-center max-w-md p-8">
          <h1 className="h2 text-primary mb-4">Access Denied</h1>
          <p className="text-gray-600 mb-6">
            You need administrator privileges to access this page.
          </p>
          <a href="/" className="btn btn-primary btn-sm">
            Go to Home
          </a>
        </div>
      </div>
    );
  }

  return children;
};

export default ProtectedRoute;



=================================================================
FILE PATH (V2): src\components\QRPayment.jsx
=================================================================
import { useState, useEffect } from 'react';
import { QRCodeSVG } from 'qrcode.react';
import { FaQrcode, FaClock, FaCheckCircle, FaTimes } from 'react-icons/fa';

const QRPayment = ({ 
  bookingData, 
  onPaymentSuccess, 
  onClose,
  type = 'room' // 'room', 'restaurant', 'spa'
}) => {
  const [timeLeft, setTimeLeft] = useState(15 * 60); // 15 minutes in seconds
  const [isPaid, setIsPaid] = useState(false);
  const [paymentCode] = useState(() => {
    // Generate a unique payment code
    return `PAY-${Date.now()}-${Math.random().toString(36).substring(2, 8).toUpperCase()}`;
  });

  useEffect(() => {
    if (isPaid || timeLeft <= 0) return;

    const timer = setInterval(() => {
      setTimeLeft((prev) => {
        if (prev <= 1) {
          clearInterval(timer);
          return 0;
        }
        return prev - 1;
      });
    }, 1000);

    return () => clearInterval(timer);
  }, [isPaid, timeLeft]);

  const formatTime = (seconds) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  };

  const handleSimulatePayment = () => {
    setIsPaid(true);
    setTimeout(() => {
      onPaymentSuccess({
        ...bookingData,
        paymentCode,
        paidAt: new Date().toISOString(),
        paymentMethod: 'QR Code',
      });
    }, 1500);
  };

  const qrData = JSON.stringify({
    paymentCode,
    amount: bookingData.totalPrice || bookingData.price,
    type,
    bookingId: bookingData.id || bookingData.confirmationCode,
    timestamp: new Date().toISOString(),
  });

  if (isPaid) {
    return (
      <div className='fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4'>
        <div className='bg-white rounded-lg shadow-xl max-w-md w-full p-8 text-center'>
          <div className='mb-6'>
            <FaCheckCircle className='text-6xl text-green-500 mx-auto mb-4' />
            <h2 className='text-2xl font-primary mb-2'>Payment Successful!</h2>
            <p className='text-primary/70'>Your booking has been confirmed.</p>
          </div>
          <button
            onClick={onClose}
            className='btn btn-primary w-full'
          >
            Close
          </button>
        </div>
      </div>
    );
  }

  if (timeLeft <= 0) {
    return (
      <div className='fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4'>
        <div className='bg-white rounded-lg shadow-xl max-w-md w-full p-8 text-center'>
          <div className='mb-6'>
            <FaTimes className='text-6xl text-red-500 mx-auto mb-4' />
            <h2 className='text-2xl font-primary mb-2'>Payment Expired</h2>
            <p className='text-primary/70'>The payment code has expired. Please try again.</p>
          </div>
          <button
            onClick={onClose}
            className='btn btn-primary w-full'
          >
            Close
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className='fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4'>
      <div className='bg-white rounded-lg shadow-xl max-w-md w-full p-8'>
        <div className='flex items-center justify-between mb-6'>
          <h2 className='text-2xl font-primary'>Payment via QR Code</h2>
          <button
            onClick={onClose}
            className='text-primary/60 hover:text-primary transition'
          >
            <FaTimes className='text-xl' />
          </button>
        </div>

        <div className='text-center mb-6'>
          <div className='bg-white p-6 rounded-lg border-2 border-dashed border-accent/30 inline-block mb-4'>
            <QRCodeSVG
              value={qrData}
              size={200}
              level='H'
              includeMargin={true}
            />
          </div>
          <p className='text-sm text-primary/60 mb-2'>Scan this QR code to pay</p>
          <div className='flex items-center justify-center gap-2 text-accent font-semibold mb-4'>
            <FaClock />
            <span>Time remaining: {formatTime(timeLeft)}</span>
          </div>
        </div>

        <div className='bg-accent/10 p-4 rounded-lg mb-6'>
          <div className='flex justify-between items-center mb-2'>
            <span className='text-primary/70'>Payment Code:</span>
            <span className='font-mono font-semibold'>{paymentCode}</span>
          </div>
          <div className='flex justify-between items-center mb-2'>
            <span className='text-primary/70'>Amount:</span>
            <span className='font-primary text-xl text-accent'>
              ${bookingData.totalPrice || bookingData.price}
            </span>
          </div>
          {bookingData.confirmationCode && (
            <div className='flex justify-between items-center'>
              <span className='text-primary/70'>Booking Code:</span>
              <span className='font-mono font-semibold'>{bookingData.confirmationCode}</span>
            </div>
          )}
        </div>

        <div className='space-y-3'>
          <button
            onClick={handleSimulatePayment}
            className='btn btn-primary w-full'
          >
            Simulate Payment (Demo)
          </button>
          <button
            onClick={onClose}
            className='btn btn-outline w-full'
          >
            Cancel
          </button>
        </div>

        <p className='text-xs text-primary/50 text-center mt-4'>
          This is a demo payment. In production, users would scan the QR code with their payment app.
        </p>
      </div>
    </div>
  );
};

export default QRPayment;



=================================================================
FILE PATH (V2): src\components\QRPaymentModal.jsx
=================================================================
import { useState } from "react";
import { FaTimes, FaCheck, FaCopy } from "react-icons/fa";

const QRPaymentModal = ({ booking, onConfirmPayment, onClose }) => {
  const [paymentConfirmed, setPaymentConfirmed] = useState(false);
  const [copied, setCopied] = useState(false);

  const handleCopyCode = () => {
    navigator.clipboard.writeText(booking.confirmationCode);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  if (!booking) return null;

  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
      <div className="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 space-y-6">
        {!paymentConfirmed ? (
          <>
            {/* Header */}
            <div className="flex items-center justify-between">
              <h3 className="text-2xl font-primary text-primary">QR Payment</h3>
              <button
                onClick={onClose}
                className="text-primary/60 hover:text-primary p-1 hover:bg-gray-100 rounded-full transition"
              >
                <FaTimes size={20} />
              </button>
            </div>

            {/* Booking Summary */}
            <div className="bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg space-y-2 text-sm">
              <p className="text-primary/70">
                <span className="font-semibold">Room:</span> {booking.roomName}
              </p>
              <p className="text-primary/70">
                <span className="font-semibold">Check-in:</span>{" "}
                {booking.checkIn}
              </p>
              <p className="text-primary/70">
                <span className="font-semibold">Check-out:</span>{" "}
                {booking.checkOut}
              </p>
              <p className="text-primary/70">
                <span className="font-semibold">Guests:</span> {booking.adults}{" "}
                adult(s){booking.kids ? `, ${booking.kids} kid(s)` : ""}
              </p>
              <div className="pt-2 border-t border-blue-200 mt-2 flex justify-between">
                <span className="font-semibold">Total Amount:</span>
                <span className="text-lg font-bold text-blue-600">
                  ${booking.totalPrice}
                </span>
              </div>
            </div>

            {/* QR Code Display */}
            <div className="space-y-4">
              <div className="bg-gray-100 p-6 rounded-lg text-center space-y-3">
                <div className="text-sm text-primary/70 mb-4">
                  Scan this QR code to complete payment:
                </div>
                {/* Placeholder for QR Code - in production, use a QR code library like qrcode.react */}
                <div className="w-48 h-48 mx-auto bg-white border-4 border-gray-300 rounded-lg flex items-center justify-center">
                  <div className="text-center">
                    <div className="text-5xl mb-2"></div>
                    <p className="text-xs text-gray-500">QR Code</p>
                    <p className="text-xs text-gray-400 mt-1">
                      Amount: ${booking.totalPrice}
                    </p>
                  </div>
                </div>
              </div>

              {/* Confirmation Code */}
              <div className="bg-gray-50 p-4 rounded-lg">
                <p className="text-xs text-primary/60 mb-2 uppercase tracking-wide">
                  Confirmation Code
                </p>
                <div className="flex items-center gap-2">
                  <input
                    type="text"
                    value={booking.confirmationCode}
                    readOnly
                    className="flex-1 px-3 py-2 bg-white border border-gray-200 rounded font-mono text-sm focus:outline-none"
                  />
                  <button
                    onClick={handleCopyCode}
                    className="px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition flex items-center gap-1"
                    title="Copy code"
                  >
                    <FaCopy size={14} />
                  </button>
                </div>
                {copied && (
                  <p className="text-xs text-green-600 mt-1">Copied!</p>
                )}
              </div>
            </div>

            {/* Instructions */}
            <div className="bg-yellow-50 border border-yellow-200 p-4 rounded-lg text-sm text-primary/70 space-y-2">
              <p className="font-semibold text-yellow-800">
                Payment Instructions:
              </p>
              <ol className="list-decimal list-inside space-y-1 text-xs">
                <li>Scan the QR code with your phone</li>
                <li>Complete the payment (${booking.totalPrice})</li>
                <li>Payment will be verified automatically</li>
                <li>
                  Booking confirmation will be sent to {booking.userEmail}
                </li>
              </ol>
            </div>

            {/* Payment Confirmed Button */}
            <button
              onClick={() => setPaymentConfirmed(true)}
              className="w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold"
            >
              I have paid via QR code
            </button>

            <button
              onClick={onClose}
              className="w-full py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-sm"
            >
              Cancel
            </button>
          </>
        ) : (
          <>
            {/* Payment Confirmation */}
            <div className="space-y-6">
              <div className="flex flex-col items-center gap-4">
                <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                  <FaCheck className="text-2xl text-green-600" />
                </div>
                <h3 className="text-2xl font-primary text-green-600">
                  Payment Confirmed!
                </h3>
              </div>

              <div className="bg-green-50 p-4 rounded-lg space-y-2 text-sm">
                <p className="text-primary/70">
                  <span className="font-semibold">Confirmation Code:</span>{" "}
                  {booking.confirmationCode}
                </p>
                <p className="text-primary/70">
                  <span className="font-semibold">Amount Paid:</span> $
                  {booking.totalPrice}
                </p>
                <p className="text-primary/70">
                  <span className="font-semibold">Status:</span>{" "}
                  <span className="text-green-600 font-semibold">
                    Confirmed
                  </span>
                </p>
              </div>

              <div className="bg-blue-50 border border-blue-200 p-4 rounded-lg text-sm text-primary/70 space-y-2">
                <p className="font-semibold">What's next?</p>
                <ul className="list-disc list-inside space-y-1 text-xs">
                  <li>Confirmation email sent to {booking.userEmail}</li>
                  <li>Booking will appear in your account</li>
                  <li>Check-in details will be sent 24 hours before arrival</li>
                </ul>
              </div>

              <button
                onClick={() => onConfirmPayment(booking)}
                className="w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold"
              >
                Complete Booking
              </button>
            </div>
          </>
        )}
      </div>
    </div>
  );
};

export default QRPaymentModal;


=================================================================
FILE PATH (V2): src\components\Room.jsx
=================================================================
import { BsArrowsFullscreen, BsPeople } from "react-icons/bs";
import { FaStar } from "react-icons/fa";
import { Link } from "react-router-dom";
import { roomCategories } from "../db/data";

const Room = ({ room }) => {
  const {
    id,
    name,
    image,
    size,
    maxPerson,
    description,
    price,
    reviews,
    category,
  } = room ?? {};
  const averageRating = reviews?.length
    ? (
        reviews.reduce((acc, review) => acc + review.rating, 0) / reviews.length
      ).toFixed(1)
    : null;

  const categoryData = roomCategories.find((cat) => cat.id === category);

  return (
    <div className="bg-white shadow-2xl min-h-[500px] group relative">
      <div className="overflow-hidden">
        <img
          src={image}
          alt="img"
          className="group-hover:scale-110 transition-all duration-300 w-full"
        />
        {categoryData && (
          <div className="absolute top-4 right-4 bg-teal-600 text-white px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-[1px]">
            {categoryData.name}
          </div>
        )}
      </div>

      <div className="bg-white shadow-lg max-w-[300px] mx-auto h-[60px] -translate-y-1/2 flex justify-center items-center uppercase font-tertiary tracking-[1px] font-semibold text-base">
        <div className="flex justify-between w-[80%]">
          <div className="flex items-center gap-x-2">
            <div className="text-accent">
              <BsArrowsFullscreen className="text-[15px]" />
            </div>
            <div className="flex gap-x-1">
              <div>Size</div>
              <div>{size}m2</div>
            </div>
          </div>

          <div className="flex items-center gap-x-2">
            <div className="text-accent">
              <BsPeople className="text-[18px]" />
            </div>
            <div className="flex gap-x-1">
              <div>Max people</div>
              <div>{maxPerson}</div>
            </div>
          </div>
        </div>
      </div>

      {/* name and description */}
      <div className="text-center px-6">
        <Link to={`/room/${id}`}>
          <h3 className="h3">{name}</h3>
        </Link>

        {room?.type && (
          <p className="text-xs uppercase tracking-[3px] text-primary/60 mb-2">
            {room.type}
          </p>
        )}
        <p className="max-w-[300px] mx-auto mb-3 lg:mb-6">
          {description.slice(0, 56)}..
        </p>
        <div className="flex justify-center items-center gap-2 mb-4 text-sm text-primary/80">
          <div className="flex items-center gap-1 text-accent">
            {[...Array(5)].map((_, index) => (
              <FaStar
                key={index}
                className={`${
                  averageRating && index < Math.round(averageRating)
                    ? "text-accent"
                    : "text-accent/30"
                }`}
              />
            ))}
          </div>
          <span>
            {averageRating
              ? `${averageRating}  ${reviews.length} reviews`
              : "Be the first to review"}
          </span>
        </div>
      </div>

      {/* button */}
      <Link
        to={`/room/${id}`}
        className="btn btn-secondary btn-sm max-w-[240px] mx-auto duration-300"
      >
        Book now from ${price}
      </Link>
    </div>
  );
};

export default Room;


=================================================================
FILE PATH (V2): src\components\Rooms.jsx
=================================================================
import { useRoomContext } from "../context/RoomContext";
import { SpinnerDotted } from "spinners-react";
import { Room, Pagination } from ".";
import { useState, useMemo } from "react";

const Rooms = () => {
  const { rooms, loading } = useRoomContext();
  const [currentPage, setCurrentPage] = useState(1);
  const itemsPerPage = 12;

  // Calculate pagination
  const { paginatedRooms, totalPages } = useMemo(() => {
    const total = Math.ceil(rooms.length / itemsPerPage);
    const start = (currentPage - 1) * itemsPerPage;
    const end = start + itemsPerPage;
    return {
      paginatedRooms: rooms.slice(start, end),
      totalPages: total,
    };
  }, [rooms, currentPage]);

  const handlePageChange = (page) => {
    setCurrentPage(page);
    // Scroll to rooms section smoothly
    const roomsSection = document.getElementById("rooms-section");
    if (roomsSection) {
      roomsSection.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  };

  return (
    <section id="rooms-section" className="py-24">
      {
        // overlay & spinner effect
        loading && (
          <div className="h-screen w-full fixed bottom-0 top-0 bg-black/80 z-50 grid place-items-center">
            <SpinnerDotted />
          </div>
        )
      }

      <div className="container mx-auto lg:px-0">
        <div className="text-center">
          <p className="font-tertiary uppercase text-[15px] tracking-[6px]">
            Hotel & Spa Adina
          </p>
          <h2 className="font-primary text-[45px] mb-6">Room & Suites</h2>
        </div>

        {rooms.length === 0 ? (
          <div className="text-center py-16 text-primary/70">
            No rooms match these preferences yet. Try adjusting your filters and
            search again.
          </div>
        ) : (
          <>
            <div className="grid grid-cols-1 max-w-sm mx-auto gap-[30px] lg:grid-cols-3 lg:max-w-none lg:mx-0">
              {paginatedRooms.map((room) => (
                <Room key={room.id} room={room} />
              ))}
            </div>

            {/* Pagination */}
            {totalPages > 1 && (
              <Pagination
                currentPage={currentPage}
                totalPages={totalPages}
                onPageChange={handlePageChange}
                itemsPerPage={itemsPerPage}
                totalItems={rooms.length}
              />
            )}
          </>
        )}
      </div>
    </section>
  );
};

export default Rooms;


=================================================================
FILE PATH (V2): src\components\RoomTypeSelector.jsx
=================================================================
import { roomCategories } from "../db/data";
import { useRoomContext } from "../context/RoomContext";

const RoomTypeSelector = () => {
  const { selectedCategory, setSelectedCategory } = useRoomContext();

  return (
    <div className="flex flex-col justify-center h-full px-4 lg:px-3 bg-white">
      <label className="text-xs uppercase tracking-[1px] text-primary/60 mb-2 lg:mb-1">
        Room Type
      </label>
      <select
        value={selectedCategory || ""}
        onChange={(e) => setSelectedCategory(e.target.value || null)}
        className="w-full border-0 outline-none bg-white text-sm text-primary font-medium cursor-pointer"
      >
        <option value="">All Rooms</option>
        {roomCategories.map((category) => (
          <option key={category.id} value={category.id}>
            {category.name}
          </option>
        ))}
      </select>
    </div>
  );
};

export default RoomTypeSelector;


=================================================================
FILE PATH (V2): src\components\Toast.jsx
=================================================================
import { useEffect } from 'react';
import { FaCheckCircle, FaTimesCircle, FaInfoCircle, FaTimes } from 'react-icons/fa';

const Toast = ({ message, type = 'success', onClose, duration = 3000 }) => {
  useEffect(() => {
    if (duration > 0) {
      const timer = setTimeout(() => {
        onClose();
      }, duration);
      return () => clearTimeout(timer);
    }
  }, [duration, onClose]);

  const icons = {
    success: FaCheckCircle,
    error: FaTimesCircle,
    info: FaInfoCircle,
  };

  const colors = {
    success: 'bg-green-500',
    error: 'bg-red-500',
    info: 'bg-blue-500',
  };

  const Icon = icons[type] || FaInfoCircle;

  return (
    <div className={`fixed top-20 right-4 z-50 animate-slide-in-right ${colors[type]} text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] max-w-md`}>
      <Icon className="text-xl flex-shrink-0" />
      <p className="flex-1 font-medium">{message}</p>
      <button
        onClick={onClose}
        className="flex-shrink-0 hover:bg-white/20 rounded p-1 transition-colors"
      >
        <FaTimes />
      </button>
    </div>
  );
};

export default Toast;



=================================================================
FILE PATH (V2): src\constants\data.js
=================================================================
import { FaCheck } from "react-icons/fa";
import images from "../assets";


export const adultsList = [
    { name: '1 Adult' },
    { name: '2 Adults' },
    { name: '3 Adults' },
    { name: '4 Adults' },
]


export const kidsList = [
    { name: '0 Kid' },
    { name: '1 Kid' },
    { name: '2 Kids' },
    { name: '3 Kids' },
    { name: '4 Kids' },
]


export const sliderData = [
    {
        id: 1,
        title: 'Your Luxury Hotel For Vacation',
        bg: images.Slider1,
        btnNext: 'See our rooms',
    },
    {
        id: 2,
        title: 'Feel Relax & Enjoy Your Luxuriousness',
        bg: images.Slider2,
        btnNext: 'See our rooms',
    },
    {
        id: 3,
        title: 'Your Luxury Hotel For Vacation',
        bg: images.Slider3,
        btnNext: 'See our rooms',
    },
]


export const hotelRules = [
    {
        rules: 'Check-in : 3:00 PM - 9:00 PM',
    },
    {
        rules: 'Check-out : 10:30 AM',
    },
    {
        rules: 'No Smoking',
    },
    {
        rules: 'No Pet',
    },
]

=================================================================
FILE PATH (V2): src\constants\translations.js
=================================================================
const translations = {
  en: {
    header: {
      home: 'Home',
      rooms: 'Rooms',
      restaurant: 'Restaurant',
      spa: 'Spa',
      contact: 'Contact',
      dashboard: 'Dashboard',
      admin: 'Admin',
      signIn: 'Sign In',
      signOut: 'Sign Out',
      signUp: 'Sign Up',
      languageLabel: 'Language',
    },
    common: {
      bookRoom: 'Book a room',
      backHome: 'Back to homepage',
      manageBooking: 'Manage booking',
      confirmed: 'confirmed',
    },
    languageSwitcher: {
      english: 'EN',
      vietnamese: 'VI',
    },
    userDashboard: {
      tabs: {
        overview: 'Overview',
        bookings: 'Bookings',
        profile: 'Profile & Preferences',
      },
      filters: {
        upcoming: 'Upcoming',
        past: 'Past',
        cancelled: 'Cancelled',
      },
      welcomeTitle: 'Your private Maison awaits,',
      welcomeSubtitle: 'Track upcoming retreats, earn loyalty nights, and curate personal details for a seamless arrival. Our concierge is on standby 24/7.',
      loyaltyTier: 'Loyalty tier',
      loyaltyDetail: (nights) => `Next upgrade in ${nights} nights`,
      stats: {
        upcoming: 'Upcoming stays',
        completed: 'Completed stays',
        loyalty: 'Loyalty nights',
      },
      nextReservation: 'Next reservation',
      bookAnotherStay: 'Book another stay',
      noUpcoming: 'No upcoming stay yet. Start planning your next visit!',
      conciergePerks: 'Concierge perks',
      perks: {
        lateCheckout: {
          title: 'Late checkout',
          desc: 'Complimentary 1-hour grace period on availability',
        },
        spaCredit: {
          title: 'Spa credit',
          desc: '$25 spa credit for every 5 nights stayed',
        },
        conciergeChat: {
          title: 'Concierge chat',
          desc: 'Direct WhatsApp line for bespoke planning',
        },
      },
      nextButton: 'Manage booking',
      overviewGreeting: 'Welcome back',
    },
    adminSidebar: {
      panel: 'Admin Panel',
      home: 'Home',
      signOut: 'Sign Out',
    },
  },
  vi: {
    header: {
      home: 'Trang ch',
      rooms: 'Phng',
      restaurant: 'Nh hng',
      spa: 'Spa',
      contact: 'Lin h',
      dashboard: 'Ti khon',
      admin: 'Qun tr',
      signIn: 'ng nhp',
      signOut: 'ng xut',
      signUp: 'ng k',
      languageLabel: 'Ngn ng',
    },
    common: {
      bookRoom: 't phng',
      backHome: 'V trang ch',
      manageBooking: 'Qun l t phng',
      confirmed: ' xc nhn',
    },
    languageSwitcher: {
      english: 'EN',
      vietnamese: 'VI',
    },
    userDashboard: {
      tabs: {
        overview: 'Tng quan',
        bookings: 't phng',
        profile: 'H s & Tu chnh',
      },
      filters: {
        upcoming: 'Sp ti',
        past: 'Hon thnh',
        cancelled: ' hu',
      },
      welcomeTitle: 'Bit th ring ca bn  sn sng,',
      welcomeSubtitle: 'Theo di k ngh, tch lu m lu tr v cp nht thng tin c nhn  chuyn i tht mt m. Concierge phc v 24/7.',
      loyaltyTier: 'Hng hi vin',
      loyaltyDetail: (nights) => `Cn ${nights} m  ln hng`,
      stats: {
        upcoming: 'Chuyn i sp ti',
        completed: 'Chuyn i  xong',
        loyalty: 'm tch lu',
      },
      nextReservation: 't phng tip theo',
      bookAnotherStay: 't thm k ngh',
      noUpcoming: 'Bn cha c chuyn i no, hy ln k hoch ngay!',
      conciergePerks: 'c quyn concierge',
      perks: {
        lateCheckout: {
          title: 'Tr phng mun',
          desc: 'Min ph 1 gi nu cn phng trng',
        },
        spaCredit: {
          title: 'Voucher spa',
          desc: 'Tng $25 cho mi 5 m lu tr',
        },
        conciergeChat: {
          title: 'Tr chuyn concierge',
          desc: 'Nhn WhatsApp  c thit k tri nghim ring',
        },
      },
      nextButton: 'Qun l t phng',
      overviewGreeting: 'Cho mng tr li',
    },
    adminSidebar: {
      panel: 'Bng iu khin',
      home: 'Trang ch',
      signOut: 'ng xut',
    },
  },
};

export default translations;



=================================================================
FILE PATH (V2): src\context\AuthContext.jsx
=================================================================
import { createContext, useContext, useState, useEffect } from 'react';

const AuthInfo = createContext();

const enrichUser = (data) => ({
  avatar: '',
  phone: '',
  country: '',
  city: '',
  preferences: [],
  language: 'en',
  newsletter: true,
  bio: '',
  ...data,
});

const persistUserSession = (user) => {
  localStorage.setItem('hotel_user', JSON.stringify(user));
};

const updateStoredUsers = (updatedUser) => {
  const users = JSON.parse(localStorage.getItem('hotel_users') || '[]');
  const index = users.findIndex((u) => u.id === updatedUser.id);
  if (index !== -1) {
    users[index] = { ...users[index], ...updatedUser };
    localStorage.setItem('hotel_users', JSON.stringify(users));
  }
};

export const AuthContext = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  // Check if user is logged in on mount
  useEffect(() => {
    const storedUser = localStorage.getItem('hotel_user');
    if (storedUser) {
      try {
        setUser(JSON.parse(storedUser));
      } catch (error) {
        console.error('Error parsing user data:', error);
        localStorage.removeItem('hotel_user');
      }
    }
    setLoading(false);
  }, []);

  // Admin login (email/password only)
  const adminLogin = async (email, password) => {
    setLoading(true);
    
    // TODO: Replace with actual Supabase authentication
    // Mock admin credentials (remove in production)
    const mockAdmin = {
      email: 'admin@hotel.com',
      password: 'admin123'
    };

    if (email === mockAdmin.email && password === mockAdmin.password) {
      const userData = enrichUser({
        id: '1',
        email: email,
        name: 'Admin User',
        role: 'admin',
        createdAt: new Date().toISOString()
      });
      
      persistUserSession(userData);
      setUser(userData);
      setLoading(false);
      return { success: true, user: userData };
    } else {
      setLoading(false);
      return { success: false, error: 'Invalid email or password' };
    }
  };

  // User login (email/password)
  const login = async (email, password) => {
    setLoading(true);
    
    // TODO: Replace with actual Supabase authentication
    // For now, check if user exists in localStorage (mock)
    const users = JSON.parse(localStorage.getItem('hotel_users') || '[]');
    const foundUser = users.find(u => u.email === email && u.password === password);

    if (foundUser) {
      const userData = enrichUser({
        ...foundUser,
        password: undefined // Don't store password in user object
      });
      
      persistUserSession(userData);
      setUser(userData);
      setLoading(false);
      return { success: true, user: userData };
    } else {
      setLoading(false);
      return { success: false, error: 'Invalid email or password' };
    }
  };

  // User registration
  const register = async (name, email, password) => {
    setLoading(true);
    
    // TODO: Replace with actual Supabase authentication
    // Check if user already exists
    const users = JSON.parse(localStorage.getItem('hotel_users') || '[]');
    const existingUser = users.find(u => u.email === email);

    if (existingUser) {
      setLoading(false);
      return { success: false, error: 'Email already registered' };
    }

    // Create new user
    const newUser = enrichUser({
      id: Date.now().toString(),
      name,
      email,
      password, // In production, this should be hashed
      role: 'user',
      createdAt: new Date().toISOString()
    });

    users.push(newUser);
    localStorage.setItem('hotel_users', JSON.stringify(users));

    // Auto login after registration
    const userData = {
      ...newUser,
      password: undefined
    };
    
    persistUserSession(userData);
    setUser(userData);
    setLoading(false);
    return { success: true, user: userData };
  };

  // OAuth login (Google, Facebook, etc.)
  const loginWithOAuth = async (provider) => {
    setLoading(true);
    
    // TODO: Replace with actual Supabase OAuth
    // For now, simulate OAuth login
    // In production: await supabase.auth.signInWithOAuth({ provider })
    
    // Mock OAuth user
    const oauthUser = enrichUser({
      id: `oauth_${Date.now()}`,
      email: `${provider}@example.com`,
      name: `${provider.charAt(0).toUpperCase() + provider.slice(1)} User`,
      role: 'user',
      provider: provider,
      createdAt: new Date().toISOString()
    });

    persistUserSession(oauthUser);
    setUser(oauthUser);
    setLoading(false);
    
    return { success: true, user: oauthUser };
  };

  const updateUserProfile = (updates) => {
    setUser(prev => {
      if (!prev) return prev;
      const updatedUser = { ...prev, ...updates };
      persistUserSession(updatedUser);
      updateStoredUsers(updatedUser);
      return updatedUser;
    });
  };

  const logout = () => {
    localStorage.removeItem('hotel_user');
    setUser(null);
  };

  const isAuthenticated = () => {
    return user !== null;
  };

  const isAdmin = () => {
    return user?.role === 'admin';
  };

  const shareWithChildren = {
    user,
    loading,
    login,
    adminLogin,
    register,
    loginWithOAuth,
    logout,
    isAuthenticated,
    isAdmin,
    updateUserProfile,
  };

  return (
    <AuthInfo.Provider value={shareWithChildren}>
      {children}
    </AuthInfo.Provider>
  );
};

export const useAuth = () => useContext(AuthInfo);



=================================================================
FILE PATH (V2): src\context\BookingContext.jsx
=================================================================
import { createContext, useContext, useState, useEffect } from 'react';
import { isBookingEmailConfigured, sendBookingConfirmationEmail } from '../utils/emailService';

const BookingContext = createContext();

const getInitialBookings = (type) => {
  try {
    const key = `hotel_${type}_bookings`;
    return JSON.parse(localStorage.getItem(key)) || [];
  } catch (error) {
    console.error(`Failed to parse stored ${type} bookings`, error);
    return [];
  }
};

const persistBookings = (bookings, type) => {
  const key = `hotel_${type}_bookings`;
  localStorage.setItem(key, JSON.stringify(bookings));
};

const createId = () => {
  if (typeof crypto !== 'undefined' && crypto.randomUUID) {
    return crypto.randomUUID();
  }
  return Date.now().toString();
};

export const BookingProvider = ({ children }) => {
  const [restaurantBookings, setRestaurantBookings] = useState(() => getInitialBookings('restaurant'));
  const [spaBookings, setSpaBookings] = useState(() => getInitialBookings('spa'));

  useEffect(() => {
    persistBookings(restaurantBookings, 'restaurant');
  }, [restaurantBookings]);

  useEffect(() => {
    persistBookings(spaBookings, 'spa');
  }, [spaBookings]);

  const createRestaurantBooking = (bookingData) => {
    const confirmationCode = `RES-${Math.random().toString(36).substring(2, 7).toUpperCase()}`;
    const newBooking = {
      id: createId(),
      confirmationCode,
      type: 'restaurant',
      ...bookingData,
      status: 'pending_payment',
      createdAt: new Date().toISOString(),
    };
    setRestaurantBookings(prev => [newBooking, ...prev]);
    return { success: true, booking: newBooking };
  };

  const createSpaBooking = (bookingData) => {
    const confirmationCode = `SPA-${Math.random().toString(36).substring(2, 7).toUpperCase()}`;
    const newBooking = {
      id: createId(),
      confirmationCode,
      type: 'spa',
      ...bookingData,
      status: 'pending_payment',
      createdAt: new Date().toISOString(),
    };
    setSpaBookings(prev => [newBooking, ...prev]);
    return { success: true, booking: newBooking };
  };

  const confirmRestaurantBooking = (bookingId, paymentData) => {
    let confirmedBooking = null;
    setRestaurantBookings(prev => prev.map(booking => {
      if (booking.id !== bookingId) return booking;
      confirmedBooking = {
        ...booking,
        ...paymentData,
        status: 'confirmed',
        paidAt: paymentData.paidAt || new Date().toISOString(),
      };
      
      // Automatically send invoice email
      sendBookingConfirmationEmail({
        toEmail: booking.userEmail || booking.email,
        toName: booking.userName || booking.name,
        booking: confirmedBooking
      });
      
      return confirmedBooking;
    }));
    return confirmedBooking;
  };

  const confirmSpaBooking = (bookingId, paymentData) => {
    let confirmedBooking = null;
    setSpaBookings(prev => prev.map(booking => {
      if (booking.id !== bookingId) return booking;
      confirmedBooking = {
        ...booking,
        ...paymentData,
        status: 'confirmed',
        paidAt: paymentData.paidAt || new Date().toISOString(),
      };
      
      // Automatically send invoice email
      sendBookingConfirmationEmail({
        toEmail: booking.userEmail || booking.email,
        toName: booking.userName || booking.name,
        booking: confirmedBooking
      });
      
      return confirmedBooking;
    }));
    return confirmedBooking;
  };

  const getUserRestaurantBookings = (userId) => {
    return restaurantBookings.filter(booking => booking.userId === userId);
  };

  const getUserSpaBookings = (userId) => {
    return spaBookings.filter(booking => booking.userId === userId);
  };

  const getAllBookings = () => {
    return {
      restaurant: restaurantBookings,
      spa: spaBookings,
    };
  };

  const value = {
    restaurantBookings,
    spaBookings,
    createRestaurantBooking,
    createSpaBooking,
    confirmRestaurantBooking,
    confirmSpaBooking,
    getUserRestaurantBookings,
    getUserSpaBookings,
    getAllBookings,
  };

  return (
    <BookingContext.Provider value={value}>
      {children}
    </BookingContext.Provider>
  );
};

export const useBookingContext = () => {
  const context = useContext(BookingContext);
  if (!context) {
    throw new Error('useBookingContext must be used within BookingProvider');
  }
  return context;
};



=================================================================
FILE PATH (V2): src\context\LanguageContext.jsx
=================================================================
import { createContext, useContext, useEffect, useMemo, useState, useCallback } from 'react';
import translations from '../constants/translations';

const LanguageInfo = createContext();

const getNestedValue = (obj, path) => {
  return path.split('.').reduce((acc, segment) => (acc && acc[segment] !== undefined ? acc[segment] : null), obj);
};

export const LanguageProvider = ({ children }) => {
  const [language, setLanguage] = useState(() => {
    return localStorage.getItem('hotel_language') || 'en';
  });

  useEffect(() => {
    localStorage.setItem('hotel_language', language);
  }, [language]);

  const t = useCallback(
    (key, fallbackValue) => {
      const value = getNestedValue(translations[language], key);
      if (typeof value === 'function') {
        return value(fallbackValue);
      }
      if (value !== null && value !== undefined) return value;
      const fallback = getNestedValue(translations.en, key);
      return fallback ?? fallbackValue ?? key;
    },
    [language]
  );

  const value = useMemo(
    () => ({
      language,
      setLanguage,
      t,
    }),
    [language, t]
  );

  return <LanguageInfo.Provider value={value}>{children}</LanguageInfo.Provider>;
};

export const useLanguage = () => useContext(LanguageInfo);



=================================================================
FILE PATH (V2): src\context\RoomContext.jsx
=================================================================
import { createContext, useContext, useEffect, useMemo, useState } from "react";
import { roomData } from "../db/data";
import {
  isBookingEmailConfigured,
  sendBookingConfirmationEmail,
} from "../utils/emailService";

const RoomInfo = createContext();

const HOLIDAY_CALENDAR = [
  "2025-01-01",
  "2025-02-03",
  "2025-04-30",
  "2025-05-01",
  "2025-09-02",
  "2025-12-24",
  "2025-12-31",
];

const PRICING_DEFAULTS = {
  weekendMultiplier: 1.15,
  holidayMultiplier: 1.35,
  hourlyRateFactor: 0.25,
};

const getInitialReviews = () => {
  try {
    return JSON.parse(localStorage.getItem("hotel_room_reviews")) || {};
  } catch (error) {
    console.error("Failed to parse stored reviews", error);
    return {};
  }
};

const getInitialBookings = () => {
  try {
    return JSON.parse(localStorage.getItem("hotel_bookings")) || [];
  } catch (error) {
    console.error("Failed to parse stored bookings", error);
    return [];
  }
};

const persistBookings = (bookings) => {
  localStorage.setItem("hotel_bookings", JSON.stringify(bookings));
};

const enhanceRoomsWithReviews = () => {
  const persistedReviews = getInitialReviews();
  return roomData.map((room) => ({
    ...room,
    pricing: {
      weekendMultiplier: PRICING_DEFAULTS.weekendMultiplier,
      holidayMultiplier: PRICING_DEFAULTS.holidayMultiplier,
      hourlyRate: Math.round(room.price * PRICING_DEFAULTS.hourlyRateFactor),
    },
    reviews: persistedReviews[room.id] || room.reviews || [],
  }));
};

const getPriceBounds = () => {
  const prices = roomData.map((room) => room.price);
  return {
    min: Math.min(...prices),
    max: Math.max(...prices),
  };
};

const getAverageRating = (room) => {
  if (!room?.reviews?.length) return 0;
  const sum = room.reviews.reduce((acc, review) => acc + review.rating, 0);
  return sum / room.reviews.length;
};

const createId = () => {
  if (typeof crypto !== "undefined" && crypto.randomUUID) {
    return crypto.randomUUID();
  }
  return Date.now().toString();
};

const formatDateKey = (date) => {
  if (!date) return "";
  const d = new Date(date);
  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(
    2,
    "0"
  )}-${String(d.getDate()).padStart(2, "0")}`;
};

const normalizeDateInput = (value) => {
  if (!value) return null;
  return formatDateKey(value);
};

const addDays = (date, days) => {
  const result = new Date(date);
  result.setDate(result.getDate() + days);
  return result;
};

const iterateDates = (start, end, callback) => {
  let cursor = new Date(start);
  const limit = new Date(end);
  while (cursor < limit) {
    callback(new Date(cursor));
    cursor = addDays(cursor, 1);
  }
};

const isOverlap = (startA, endA, startB, endB) => {
  return new Date(startA) < new Date(endB) && new Date(startB) < new Date(endA);
};

export const RoomContext = ({ children }) => {
  const initialRooms = useMemo(() => enhanceRoomsWithReviews(), []);

  const [allRooms, setAllRooms] = useState(initialRooms);
  const [rooms, setRooms] = useState(initialRooms);
  const [loading, setLoading] = useState(false);

  const [adults, setAdults] = useState("1 Adult");
  const [kids, setKids] = useState("0 Kid");
  const [checkInDate, setCheckInDate] = useState(null);
  const [checkOutDate, setCheckOutDate] = useState(null);
  const [selectedRoomTypes, setSelectedRoomTypes] = useState([]);
  const [selectedAmenities, setSelectedAmenities] = useState([]);

  const [searchTerm, setSearchTerm] = useState("");
  const priceBounds = useMemo(() => getPriceBounds(), []);
  const [priceRange, setPriceRange] = useState([
    priceBounds.min,
    priceBounds.max,
  ]);
  const [sortOption, setSortOption] = useState("recommended");
  const [selectedCategory, setSelectedCategory] = useState(null);

  const [bookings, setBookings] = useState(getInitialBookings);

  useEffect(() => {
    setBookings((prev) => {
      let changed = false;
      const now = new Date();
      const updated = prev.map((booking) => {
        if (booking.status === "cancelled" || booking.status === "completed")
          return booking;
        if (new Date(booking.checkOut) < now) {
          changed = true;
          return { ...booking, status: "completed" };
        }
        return booking;
      });
      if (changed) {
        persistBookings(updated);
        return updated;
      }
      return prev;
    });
  }, []);

  const availableRoomTypes = useMemo(() => {
    const types = new Set();
    allRooms.forEach((room) => types.add(room.type));
    return Array.from(types);
  }, [allRooms]);

  const availableAmenities = useMemo(() => {
    const amenities = new Set();
    allRooms.forEach((room) =>
      room.facilities.forEach((f) => amenities.add(f.name))
    );
    return Array.from(amenities).sort();
  }, [allRooms]);

  const totalGuests = useMemo(() => {
    const adultNumber = parseInt(adults, 10) || 0;
    const kidNumber = parseInt(kids, 10) || 0;
    return adultNumber + kidNumber;
  }, [adults, kids]);

  const getRoomById = (roomId) => allRooms.find((room) => room.id === roomId);

  const calculatePricingForRoom = (room, start, end) => {
    if (!room || !start || !end) {
      return {
        total: room?.price || 0,
        breakdown: [],
        hourlyRate: room?.pricing?.hourlyRate || 0,
      };
    }

    const breakdown = [];
    let total = 0;
    const weekendMultiplier =
      room.pricing?.weekendMultiplier ?? PRICING_DEFAULTS.weekendMultiplier;
    const holidayMultiplier =
      room.pricing?.holidayMultiplier ?? PRICING_DEFAULTS.holidayMultiplier;

    iterateDates(start, end, (currentDate) => {
      const dayKey = formatDateKey(currentDate);
      const isHoliday = HOLIDAY_CALENDAR.includes(dayKey);
      const isWeekendDay = [0, 6].includes(currentDate.getDay());
      let label = "Weekday rate";
      let rate = room.price;

      if (isHoliday) {
        rate = Math.round(room.price * holidayMultiplier);
        label = "Holiday rate";
      } else if (isWeekendDay) {
        rate = Math.round(room.price * weekendMultiplier);
        label = "Weekend rate";
      }

      breakdown.push({
        date: dayKey,
        label,
        rate,
      });
      total += rate;
    });

    return {
      total,
      breakdown,
      hourlyRate:
        room.pricing?.hourlyRate ??
        Math.round(room.price * PRICING_DEFAULTS.hourlyRateFactor),
    };
  };

  const isRoomAvailable = (roomId, start, end, excludeBookingId = null) => {
    if (!start || !end) return true;
    return bookings
      .filter(
        (booking) =>
          booking.roomId === roomId &&
          booking.status !== "cancelled" &&
          booking.id !== excludeBookingId
      )
      .every(
        (booking) => !isOverlap(start, end, booking.checkIn, booking.checkOut)
      );
  };

  const sortRooms = (roomsList, sortValue = sortOption) => {
    if (sortValue === "price-low") {
      return [...roomsList].sort((a, b) => a.price - b.price);
    }
    if (sortValue === "price-high") {
      return [...roomsList].sort((a, b) => b.price - a.price);
    }
    if (sortValue === "rating-high") {
      return [...roomsList].sort(
        (a, b) => getAverageRating(b) - getAverageRating(a)
      );
    }
    return roomsList;
  };

  const filterRooms = (options = {}) => {
    const term = (options.searchTerm ?? searchTerm ?? "").toLowerCase().trim();
    const [minPrice, maxPrice] = options.priceRange ?? priceRange;
    const sortValue = options.sortOption ?? sortOption;
    const roomTypes = options.selectedRoomTypes ?? selectedRoomTypes;
    const amenities = options.selectedAmenities ?? selectedAmenities;
    const rangeCheckIn = options.checkIn ?? checkInDate;
    const rangeCheckOut = options.checkOut ?? checkOutDate;
    const category = options.selectedCategory ?? selectedCategory;

    const baseRooms = options.sourceRooms ?? allRooms;

    const filtered = baseRooms.filter((room) => {
      const matchesGuests =
        totalGuests === 0 ? true : totalGuests <= room.maxPerson;
      const matchesPrice = room.price >= minPrice && room.price <= maxPrice;
      const matchesTerm =
        !term ||
        room.name.toLowerCase().includes(term) ||
        room.description.toLowerCase().includes(term);
      const matchesType =
        roomTypes.length === 0 || roomTypes.includes(room.type);
      const matchesCategory = !category || room.category === category;
      const roomAmenities = room.facilities.map((f) => f.name);
      const matchesAmenities =
        amenities.length === 0 ||
        amenities.every((item) => roomAmenities.includes(item));
      const matchesAvailability =
        !rangeCheckIn || !rangeCheckOut
          ? true
          : isRoomAvailable(room.id, rangeCheckIn, rangeCheckOut);

      return (
        matchesGuests &&
        matchesPrice &&
        matchesTerm &&
        matchesType &&
        matchesCategory &&
        matchesAmenities &&
        matchesAvailability
      );
    });

    return sortRooms(filtered, sortValue);
  };

  const persistReviews = (roomsList) => {
    const payload = roomsList.reduce((acc, room) => {
      acc[room.id] = room.reviews || [];
      return acc;
    }, {});
    localStorage.setItem("hotel_room_reviews", JSON.stringify(payload));
  };

  const handleCheck = (e) => {
    e.preventDefault();
    setLoading(true);
    setTimeout(() => {
      setRooms(filterRooms());
      setLoading(false);
    }, 800);
  };

  const resetRoomFilterData = () => {
    setAdults("1 Adult");
    setKids("0 Kid");
    setSearchTerm("");
    setPriceRange([priceBounds.min, priceBounds.max]);
    setSortOption("recommended");
    setCheckInDate(null);
    setCheckOutDate(null);
    setSelectedRoomTypes([]);
    setSelectedAmenities([]);
    setRooms(allRooms);
  };

  const updateSearch = (value) => {
    setSearchTerm(value);
    setRooms(filterRooms({ searchTerm: value }));
  };

  const updatePriceRange = (min, max) => {
    const sanitizedMin = Math.max(priceBounds.min, Math.min(min, max));
    const sanitizedMax = Math.min(priceBounds.max, Math.max(max, sanitizedMin));
    const nextRange = [sanitizedMin, sanitizedMax];
    setPriceRange(nextRange);
    setRooms(filterRooms({ priceRange: nextRange }));
  };

  const updateSortOption = (value) => {
    setSortOption(value);
    setRooms(filterRooms({ sortOption: value }));
  };

  const toggleRoomType = (type) => {
    setSelectedRoomTypes((prev) => {
      const next = prev.includes(type)
        ? prev.filter((item) => item !== type)
        : [...prev, type];
      setRooms(filterRooms({ selectedRoomTypes: next }));
      return next;
    });
  };

  const toggleAmenity = (amenity) => {
    setSelectedAmenities((prev) => {
      const next = prev.includes(amenity)
        ? prev.filter((item) => item !== amenity)
        : [...prev, amenity];
      setRooms(filterRooms({ selectedAmenities: next }));
      return next;
    });
  };

  const clearAllFilters = () => {
    setSelectedRoomTypes([]);
    setSelectedAmenities([]);
    setCheckInDate(null);
    setCheckOutDate(null);
    setPriceRange([priceBounds.min, priceBounds.max]);
    setSortOption("recommended");
    setSearchTerm("");
    setSelectedCategory(null);
    setRooms(
      filterRooms({
        selectedRoomTypes: [],
        selectedAmenities: [],
        searchTerm: "",
        checkIn: null,
        checkOut: null,
        priceRange: [priceBounds.min, priceBounds.max],
        sortOption: "recommended",
        selectedCategory: null,
      })
    );
  };

  const saveBookings = (updater) => {
    setBookings((prev) => {
      const updated = typeof updater === "function" ? updater(prev) : updater;
      persistBookings(updated);
      return updated;
    });
  };

  const bookRoom = ({
    roomId,
    roomName,
    userId,
    userName,
    userEmail,
    checkIn,
    checkOut,
    adults: bookingAdults,
    kids: bookingKids,
    note,
  }) => {
    const room = getRoomById(roomId);
    if (!room) {
      return { success: false, error: "Room not found" };
    }
    if (!checkIn || !checkOut) {
      return {
        success: false,
        error: "Please select check-in and check-out dates",
      };
    }
    if (!isRoomAvailable(roomId, checkIn, checkOut)) {
      return {
        success: false,
        error: "Room is not available for the selected dates",
      };
    }

    const normalizedCheckIn = normalizeDateInput(checkIn);
    const normalizedCheckOut = normalizeDateInput(checkOut);

    const { total, breakdown } = calculatePricingForRoom(
      room,
      normalizedCheckIn,
      normalizedCheckOut
    );
    const confirmationCode = `AD-${Math.random()
      .toString(36)
      .substring(2, 7)
      .toUpperCase()}`;

    const newBooking = {
      id: createId(),
      confirmationCode,
      roomId,
      roomName,
      userId,
      userEmail,
      userName,
      checkIn: normalizedCheckIn,
      checkOut: normalizedCheckOut,
      adults: bookingAdults,
      kids: bookingKids,
      totalNights: breakdown.length,
      totalPrice: total,
      pricingBreakdown: breakdown,
      note,
      status: "pending_payment",
      type: "room",
      createdAt: new Date().toISOString(),
      history: [],
    };

    saveBookings((prev) => [newBooking, ...prev]);

    return { success: true, booking: newBooking };
  };

  const confirmBookingPayment = (bookingId, paymentData) => {
    let confirmedBooking = null;
    saveBookings((prev) =>
      prev.map((booking) => {
        if (booking.id !== bookingId) return booking;
        confirmedBooking = {
          ...booking,
          ...paymentData,
          status: "confirmed",
          paidAt: paymentData.paidAt || new Date().toISOString(),
        };

        // Send confirmation email
        if (isBookingEmailConfigured()) {
          sendBookingConfirmationEmail({
            toEmail: booking.userEmail,
            toName: booking.userName,
            booking: confirmedBooking,
          });
        }

        return confirmedBooking;
      })
    );
    return confirmedBooking;
  };

  const cancelBooking = (bookingId, reason = "Cancelled by guest") => {
    let cancelledBooking = null;
    saveBookings((prev) =>
      prev.map((booking) => {
        if (booking.id !== bookingId) return booking;
        cancelledBooking = {
          ...booking,
          status: "cancelled",
          cancelledAt: new Date().toISOString(),
          cancelReason: reason,
          history: [
            ...(booking.history || []),
            { type: "cancel", reason, at: new Date().toISOString() },
          ],
        };
        return cancelledBooking;
      })
    );
    return cancelledBooking;
  };

  const modifyBookingDates = (bookingId, { checkIn, checkOut }) => {
    let updatedBooking = null;
    saveBookings((prev) =>
      prev.map((booking) => {
        if (booking.id !== bookingId) return booking;
        const normalizedCheckIn = normalizeDateInput(checkIn);
        const normalizedCheckOut = normalizeDateInput(checkOut);

        if (
          !isRoomAvailable(
            booking.roomId,
            normalizedCheckIn,
            normalizedCheckOut,
            bookingId
          )
        ) {
          throw new Error("Room is not available for the new dates");
        }
        const room = getRoomById(booking.roomId);
        const { total, breakdown } = calculatePricingForRoom(
          room,
          normalizedCheckIn,
          normalizedCheckOut
        );
        updatedBooking = {
          ...booking,
          checkIn: normalizedCheckIn,
          checkOut: normalizedCheckOut,
          totalNights: breakdown.length,
          totalPrice: total,
          pricingBreakdown: breakdown,
          status: "modified",
          history: [
            ...(booking.history || []),
            {
              type: "modify",
              at: new Date().toISOString(),
              checkIn: normalizedCheckIn,
              checkOut: normalizedCheckOut,
            },
          ],
        };
        return updatedBooking;
      })
    );
    return updatedBooking;
  };

  const hasUserBookedRoom = (userId, roomId) => {
    if (!userId || !roomId) return false;
    return bookings.some(
      (booking) =>
        booking.userId === userId &&
        booking.roomId === roomId &&
        booking.status !== "cancelled"
    );
  };

  const addReview = (roomId, review) => {
    setAllRooms((prevRooms) => {
      const updatedRooms = prevRooms.map((room) =>
        room.id === roomId
          ? { ...room, reviews: [review, ...(room.reviews || [])] }
          : room
      );
      persistReviews(updatedRooms);
      setRooms(filterRooms({ sourceRooms: updatedRooms }));
      return updatedRooms;
    });
  };

  const getUserBookings = (userId) =>
    bookings.filter((booking) => booking.userId === userId);

  const shareWithChildren = {
    allRooms,
    rooms,
    loading,
    adults,
    setAdults,
    kids,
    setKids,
    checkInDate,
    setCheckInDate,
    checkOutDate,
    setCheckOutDate,
    selectedRoomTypes,
    toggleRoomType,
    availableRoomTypes,
    selectedAmenities,
    toggleAmenity,
    availableAmenities,
    selectedCategory,
    setSelectedCategory,
    clearAllFilters,
    handleCheck,
    resetRoomFilterData,
    searchTerm,
    updateSearch,
    priceRange,
    priceBounds,
    updatePriceRange,
    sortOption,
    updateSortOption,
    bookRoom,
    bookings,
    getUserBookings,
    confirmBookingPayment,
    cancelBooking,
    modifyBookingDates,
    hasUserBookedRoom,
    addReview,
    calculatePricingForRoom,
    getRoomPricingPreview: (roomId, start, end) =>
      calculatePricingForRoom(getRoomById(roomId), start, end),
  };

  return (
    <RoomInfo.Provider value={shareWithChildren}>{children}</RoomInfo.Provider>
  );
};

export const useRoomContext = () => useContext(RoomInfo);


=================================================================
FILE PATH (V2): src\db\data.js
=================================================================
import {
  FaWifi,
  FaCoffee,
  FaBath,
  FaParking,
  FaSwimmingPool,
  FaHotdog,
  FaStopwatch,
  FaCocktail,
} from "react-icons/fa";
import images from "../assets";

// ==================== ROOM DATA ====================
// 40 Total Rooms: 8 per category
// Distribution: 8 rooms per category (5 categories total)
// Room categories for better organization and management
export const roomCategories = [
  { id: "standard", name: "Standard", description: "Comfortable rooms with essential amenities" },
  { id: "deluxe", name: "Deluxe", description: "Premium experience with elegant design" },
  { id: "suite", name: "Suite", description: "Spacious suites for ultimate comfort" },
  { id: "penthouse", name: "Penthouse", description: "Exclusive top-floor residences" },
  { id: "combo", name: "Combo Package", description: "Value-packed packages with extras" },
];

// Facilities template
const facilitiesTemplate = [
  { name: "Wifi", icon: FaWifi },
  { name: "Coffee", icon: FaCoffee },
  { name: "Bath", icon: FaBath },
  { name: "Parking Space", icon: FaParking },
  { name: "Swimming Pool", icon: FaSwimmingPool },
  { name: "Breakfast", icon: FaHotdog },
  { name: "GYM", icon: FaStopwatch },
  { name: "Drinks", icon: FaCocktail },
];

// Room template
const createRoom = (id, name, type, category, size, maxPerson, price, image, imageLg, description, reviews) => ({
  id, name, type, category, description, facilities: facilitiesTemplate, size, maxPerson, price, image, imageLg, reviews,
});

const defaultReview = (id, userName, comment) => ({
  id: `seed-${id}-1`, userName, rating: [4, 5, 5, 4, 5][id % 5],
  stayDate: ["Oct 2024", "Nov 2024", "Sep 2024", "Aug 2024", "Jul 2024"][id % 5], comment,
});

// ==================== ROOM DATA ====================
export const roomData = [
  // STANDARD: Rooms 1-8 (8 rooms)
  createRoom(1, "Standard Room", "Standard", "standard", 30, 1, 115, images.Room1Img, images.Room1ImgLg, "Comfortable room with essential amenities.", [defaultReview(1, "Sophia Nguyen", "Room was spotless, pool view stunning."), defaultReview(1, "Daniel Park", "Bed was plush and breakfast tasty.")]),
  createRoom(2, "Cozy Studio Standard", "Standard", "standard", 28, 1, 145, images.Room1Img, images.Room1ImgLg, "Intimate studio with integrated work space.", [defaultReview(2, "David Chen", "Compact but well-designed studio.")]),
  createRoom(3, "Garden View Standard", "Standard", "standard", 35, 2, 195, images.Room2Img, images.Room2ImgLg, "Charming room with garden views.", [defaultReview(3, "Sophie Martin", "Beautiful garden views.")]),
  createRoom(4, "Courtyard Classic Standard", "Standard", "standard", 32, 2, 185, images.Room3Img, images.Room3ImgLg, "Peaceful room overlooking the courtyard.", [defaultReview(4, "Marco Rossi", "Serene courtyard setting.")]),
  createRoom(5, "Urban Escape Standard", "Standard", "standard", 38, 2, 205, images.Room4Img, images.Room4ImgLg, "Modern room in city center.", [defaultReview(5, "Nina Petrov", "Perfect city location.")]),
  createRoom(6, "Zen Retreat Standard", "Standard", "standard", 42, 2, 225, images.Room5Img, images.Room5ImgLg, "Tranquil room designed for relaxation.", [defaultReview(6, "Yuki Tanaka", "Perfect zen atmosphere.")]),
  createRoom(7, "Heritage Standard", "Standard", "standard", 55, 3, 275, images.Room6Img, images.Room6ImgLg, "Elegant room with cultural charm.", [defaultReview(7, "Elena Vasquez", "Stunning cultural design.")]),
  createRoom(8, "Skyline View Standard", "Standard", "standard", 45, 3, 255, images.Room7Img, images.Room7ImgLg, "Room with panoramic city views.", [defaultReview(8, "James Wilson", "Breathtaking skyline views.")]),

  // DELUXE: Rooms 9-16 (8 rooms)
  createRoom(9, "Deluxe Room", "Deluxe", "deluxe", 50, 3, 265, images.Room3Img, images.Room3ImgLg, "Premium experience with elegant design.", [defaultReview(9, "Lan Anh", "City-facing balcony is super chill."), defaultReview(9, "Oliver Smith", "Business trip felt like a vacation.")]),
  createRoom(10, "Deluxe Comfort", "Deluxe", "deluxe", 38, 2, 245, images.Room1Img, images.Room1ImgLg, "Comfortable deluxe room.", [defaultReview(10, "Chris Thompson", "Comfortable and well-appointed.")]),
  createRoom(11, "Deluxe Modern", "Deluxe", "deluxe", 42, 2, 265, images.Room2Img, images.Room2ImgLg, "Modern deluxe room.", [defaultReview(11, "Lisa Zhang", "Modern and stylish design.")]),
  createRoom(12, "Deluxe Sophisticated", "Deluxe", "deluxe", 46, 3, 295, images.Room3Img, images.Room3ImgLg, "Sophisticated deluxe suite.", [defaultReview(12, "Hassan Khan", "Sophisticated ambiance.")]),
  createRoom(13, "Deluxe Exquisite", "Deluxe", "deluxe", 50, 3, 315, images.Room4Img, images.Room4ImgLg, "Exquisite deluxe room.", [defaultReview(13, "Francesca Rossi", "Exquisite quality.")]),
  createRoom(14, "Deluxe Paramount", "Deluxe", "deluxe", 54, 3, 335, images.Room5Img, images.Room5ImgLg, "Paramount deluxe suite.", [defaultReview(14, "Rajesh Patel", "Paramount service.")]),
  createRoom(15, "Deluxe Prestigious", "Deluxe", "deluxe", 58, 4, 365, images.Room6Img, images.Room6ImgLg, "Prestigious deluxe suite.", [defaultReview(15, "Sofia Moretti", "Very prestigious stay.")]),
  createRoom(16, "Deluxe Elite", "Deluxe", "deluxe", 52, 3, 285, images.Room7Img, images.Room7ImgLg, "Elite deluxe experience.", [defaultReview(16, "Robert Chen", "Premium quality and service.")]),

  // SUITE: Rooms 17-24 (8 rooms)
  createRoom(17, "Luxury Suite Room", "Suite", "suite", 90, 5, 320, images.Room5Img, images.Room5ImgLg, "Spacious suite for ultimate comfort.", [defaultReview(17, "Emma Wilson", "Two-bedroom suite feels like an apartment."), defaultReview(17, "Minh Duc", "Airport transfer was seamless.")]),
  createRoom(18, "Suite Comfort", "Suite", "suite", 50, 3, 315, images.Room1Img, images.Room1ImgLg, "Comfortable suite.", [defaultReview(18, "Gregory Scott", "Very comfortable suite.")]),
  createRoom(19, "Suite Spacious", "Suite", "suite", 55, 3, 335, images.Room2Img, images.Room2ImgLg, "Spacious suite.", [defaultReview(19, "Michelle Jones", "Spacious and comfortable.")]),
  createRoom(20, "Suite Elegance", "Suite", "suite", 60, 4, 365, images.Room3Img, images.Room3ImgLg, "Elegant suite.", [defaultReview(20, "William Davis", "Elegant throughout.")]),
  createRoom(21, "Suite Grand", "Suite", "suite", 65, 4, 385, images.Room4Img, images.Room4ImgLg, "Grand suite.", [defaultReview(21, "Diana Edwards", "Grand and impressive.")]),
  createRoom(22, "Suite Magnificent", "Suite", "suite", 70, 5, 415, images.Room5Img, images.Room5ImgLg, "Magnificent suite.", [defaultReview(22, "Edward Holmes", "Magnificent experience.")]),
  createRoom(23, "Suite Premium", "Suite", "suite", 75, 5, 445, images.Room6Img, images.Room6ImgLg, "Premium suite.", [defaultReview(23, "Felicity Grant", "Premium luxury experience.")]),
  createRoom(24, "Suite Royal", "Suite", "suite", 80, 6, 475, images.Room7Img, images.Room7ImgLg, "Royal suite.", [defaultReview(24, "George Harris", "Royal treatment.")]),

  // PENTHOUSE: Rooms 25-32 (8 rooms)
  createRoom(25, "Penthouse", "Penthouse", "penthouse", 45, 6, 344, images.Room6Img, images.Room6ImgLg, "Exclusive top-floor residence.", [defaultReview(25, "Sakura Aoki", "Heated pool was relaxing."), defaultReview(25, "Phuong Linh", "Authentic Vietnamese dishes.")]),
  createRoom(26, "Penthouse View", "Penthouse", "penthouse", 50, 4, 375, images.Room1Img, images.Room1ImgLg, "Penthouse with stunning views.", [defaultReview(26, "Helen Irving", "Stunning panoramic views.")]),
  createRoom(27, "Penthouse Skyline", "Penthouse", "penthouse", 55, 4, 395, images.Room2Img, images.Room2ImgLg, "Penthouse overlooking the skyline.", [defaultReview(27, "Ivan Jackson", "Skyline views are breathtaking.")]),
  createRoom(28, "Penthouse Crown", "Penthouse", "penthouse", 60, 5, 425, images.Room3Img, images.Room3ImgLg, "Crown jewel penthouse.", [defaultReview(28, "Jennifer King", "Crown jewel property.")]),
  createRoom(29, "Penthouse Royal", "Penthouse", "penthouse", 65, 5, 455, images.Room4Img, images.Room4ImgLg, "Royal penthouse.", [defaultReview(29, "Kevin Lewis", "Royal treatment throughout.")]),
  createRoom(30, "Penthouse Ultra", "Penthouse", "penthouse", 70, 5, 485, images.Room5Img, images.Room5ImgLg, "Ultra-luxury penthouse.", [defaultReview(30, "Laura Moore", "Ultra-premium experience.")]),
  createRoom(31, "Penthouse Imperial", "Penthouse", "penthouse", 75, 6, 515, images.Room6Img, images.Room6ImgLg, "Imperial penthouse.", [defaultReview(31, "Michael Nelson", "Imperial luxury.")]),
  createRoom(32, "Penthouse Supreme", "Penthouse", "penthouse", 80, 6, 545, images.Room7Img, images.Room7ImgLg, "Supreme penthouse.", [defaultReview(32, "Nancy O'Neill", "Supreme elegance.")]),

  // COMBO PACKAGE: Rooms 33-40 (8 rooms)
  createRoom(33, "Combo Premium", "Combo", "combo", 40, 2, 245, images.Room7Img, images.Room7ImgLg, "Value package with breakfast & spa.", [defaultReview(33, "Oscar Patterson", "Excellent combo value.")]),
  createRoom(34, "Combo Family", "Combo", "combo", 50, 4, 315, images.Room8Img, images.Room8ImgLg, "Family package with activities.", [defaultReview(34, "Patricia Quinn", "Perfect family combo.")]),
  createRoom(35, "Combo Romance", "Combo", "combo", 42, 2, 265, images.Room1Img, images.Room1ImgLg, "Romance package with dinner.", [defaultReview(35, "Quincy Roberts", "Romantic experience.")]),
  createRoom(36, "Combo Business", "Combo", "combo", 36, 2, 255, images.Room2Img, images.Room2ImgLg, "Business package.", [defaultReview(36, "Rachel Stewart", "Business-friendly combo.")]),
  createRoom(37, "Combo Adventure", "Combo", "combo", 44, 3, 275, images.Room3Img, images.Room3ImgLg, "Adventure package.", [defaultReview(37, "Steven Turner", "Adventure-filled combo.")]),
  createRoom(38, "Combo Wellness", "Combo", "combo", 48, 2, 285, images.Room4Img, images.Room4ImgLg, "Wellness package.", [defaultReview(38, "Tina Underwood", "Wellness-focused combo.")]),
  createRoom(39, "Combo Culinary", "Combo", "combo", 45, 2, 295, images.Room5Img, images.Room5ImgLg, "Culinary package.", [defaultReview(39, "Uma Verma", "Foodie's dream.")]),
  createRoom(40, "Combo Ultimate", "Combo", "combo", 70, 6, 565, images.Room6Img, images.Room6ImgLg, "Ultimate combo package.", [defaultReview(40, "Victor Williams", "Ultimate package.")]),
];


=================================================================
FILE PATH (V2): src\main.jsx
=================================================================
import { RoomContext } from './context/RoomContext';
import { AuthContext } from './context/AuthContext';
import { LanguageProvider } from './context/LanguageContext';
import { BookingProvider } from './context/BookingContext';
import ReactDOM from 'react-dom/client'
import React from 'react'
import App from './App'
import './style/index.css';


ReactDOM
  .createRoot(document.getElementById('root'))
  .render(
    <LanguageProvider>
      <AuthContext>
        <RoomContext>
          <BookingProvider>
            <React.StrictMode>
              <App />
            </React.StrictMode>
          </BookingProvider>
        </RoomContext>
      </AuthContext>
    </LanguageProvider>,
  )

=================================================================
FILE PATH (V2): src\pages\Admin.jsx
=================================================================
import { useState } from 'react';
import AdminSidebar from '../components/AdminSidebar';
import RoomTypesManagement from '../components/admin/RoomTypesManagement';
import RoomsManagement from '../components/admin/RoomsManagement';
import PriceRulesManagement from '../components/admin/PriceRulesManagement';
import PromotionsManagement from '../components/admin/PromotionsManagement';
import BookingsManagement from '../components/admin/BookingsManagement';
import UsersManagement from '../components/admin/UsersManagement';
import AuditLogsManagement from '../components/admin/AuditLogsManagement';
import ReportsManagement from '../components/admin/ReportsManagement';

const Admin = () => {
  const [activeSection, setActiveSection] = useState('room-types');

  const renderContent = () => {
    switch (activeSection) {
      case 'room-types':
        return <RoomTypesManagement />;
      case 'rooms':
        return <RoomsManagement />;
      case 'price-rules':
        return <PriceRulesManagement />;
      case 'promotions':
        return <PromotionsManagement />;
      case 'bookings':
        return <BookingsManagement />;
      case 'users':
        return <UsersManagement />;
      case 'audit-logs':
        return <AuditLogsManagement />;
      case 'reports':
        return <ReportsManagement />;
      default:
        return <RoomTypesManagement />;
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <div className="flex relative">
        {/* Sidebar */}
        <AdminSidebar activeSection={activeSection} setActiveSection={setActiveSection} />
        
        {/* Main Content */}
        <div className="flex-1 lg:ml-64">
          <div className="p-4 lg:p-8">
            {renderContent()}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Admin;



=================================================================
FILE PATH (V2): src\pages\CleanupPage.jsx
=================================================================
import { useNavigate } from "react-router-dom";
import {
  clearAllTestData,
  clearBookings,
  clearReviews,
} from "../utils/clearTestData";
import { LogoDark } from "../assets";

const CleanupPage = () => {
  const navigate = useNavigate();

  const handleClearAll = () => {
    if (
      window.confirm(
        " Are you sure? This will delete ALL data (bookings, reviews, users)!"
      )
    ) {
      clearAllTestData();
      alert(" All data cleared! Redirecting...");
      localStorage.clear();
      window.location.href = "/";
    }
  };

  const handleClearBookings = () => {
    if (window.confirm(" Delete all bookings?")) {
      clearBookings();
      alert(" Bookings cleared!");
      window.location.reload();
    }
  };

  const handleClearReviews = () => {
    if (window.confirm(" Delete all reviews?")) {
      clearReviews();
      alert(" Reviews cleared!");
      window.location.reload();
    }
  };

  return (
    <div className="min-h-screen py-12 bg-gradient-to-br from-red-50 to-orange-50">
      <div className="container mx-auto px-6 max-w-md">
        <LogoDark className="w-40 mx-auto mb-10 opacity-80" />

        <div className="bg-white rounded-2xl shadow-xl p-8 space-y-6">
          <div>
            <h1 className="text-3xl font-primary text-primary mb-2">
              System Cleanup
            </h1>
            <p className="text-primary/70 text-sm">
              Delete test data to start fresh
            </p>
          </div>

          <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
            <p className="text-sm text-yellow-800">
               <strong>Warning:</strong> These actions cannot be undone.
              Deleted data will be permanently removed.
            </p>
          </div>

          <div className="space-y-3">
            <button
              onClick={handleClearBookings}
              className="w-full py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold transition"
            >
               Clear Bookings Only
            </button>

            <button
              onClick={handleClearReviews}
              className="w-full py-3 px-4 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-semibold transition"
            >
               Clear Reviews Only
            </button>

            <button
              onClick={handleClearAll}
              className="w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition"
            >
               Clear Everything
            </button>
          </div>

          <button
            onClick={() => navigate("/")}
            className="w-full py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition"
          >
             Back to Home
          </button>

          <div className="text-xs text-primary/60 text-center pt-4 border-t">
            <p>All data is stored in browser localStorage</p>
            <p>You can also manually clear by running in console:</p>
            <code className="block mt-2 bg-gray-100 p-2 rounded text-xs break-all">
              localStorage.clear(); location.reload();
            </code>
          </div>
        </div>
      </div>
    </div>
  );
};

export default CleanupPage;


=================================================================
FILE PATH (V2): src\pages\Contact.jsx
=================================================================
import { useState } from 'react';
import images from '../assets';
import { ScrollToTop, Toast } from '../components';
import { FaEnvelope, FaMapMarkerAlt, FaPhoneAlt, FaClock } from 'react-icons/fa';

const contactCards = [
  {
    title: 'Concierge Desk',
    detail: '+84 24 1234 5678',
    subtitle: 'Available 24/7 for urgent assistance',
    icon: FaPhoneAlt,
  },
  {
    title: 'Reservations',
    detail: 'booking@adinahotel.com',
    subtitle: 'Response within 30 minutes',
    icon: FaEnvelope,
  },
  {
    title: 'Visit Us',
    detail: '12 Tran Hung Dao, Hoan Kiem, Ha Noi',
    subtitle: 'Private transfers on request',
    icon: FaMapMarkerAlt,
  },
  {
    title: 'Opening Hours',
    detail: 'Daily  06:00 - 23:00',
    subtitle: 'Spa & Restaurant 09:00 - 22:00',
    icon: FaClock,
  },
];

const initialFormState = {
  fullName: '',
  email: '',
  phone: '',
  subject: '',
  message: '',
};

const Contact = () => {
  const [formData, setFormData] = useState(initialFormState);
  const [errors, setErrors] = useState({});
  const [submitting, setSubmitting] = useState(false);
  const [toast, setToast] = useState(null);

  const validate = () => {
    const nextErrors = {};
    if (!formData.fullName.trim()) nextErrors.fullName = 'Please enter your full name.';
    if (!formData.email.trim()) {
      nextErrors.email = 'Please enter an email address.';
    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
      nextErrors.email = 'Email format looks incorrect.';
    }
    if (!formData.phone.trim()) nextErrors.phone = 'Please enter a phone number.';
    if (!formData.subject.trim()) nextErrors.subject = 'Please add a subject.';
    if (formData.message.trim().length < 10) nextErrors.message = 'Message should be at least 10 characters.';
    return nextErrors;
  };

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData((prev) => ({ ...prev, [name]: value }));
    setErrors((prev) => ({ ...prev, [name]: '' }));
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    const validationErrors = validate();
    if (Object.keys(validationErrors).length) {
      setErrors(validationErrors);
      return;
    }

    setSubmitting(true);
    try {
      await new Promise((resolve) => setTimeout(resolve, 1200));
      setToast({
        type: 'success',
        message: 'Thank you! Our concierge will get back to you within 30 minutes.',
      });
      setFormData(initialFormState);
    } catch (error) {
      console.error(error);
      setToast({
        type: 'error',
        message: 'Something went wrong, please try again shortly.',
      });
    } finally {
      setSubmitting(false);
    }
  };

  return (
    <div className='bg-[#f7f4ef] min-h-screen'>
      <ScrollToTop />
      {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}

      <section className='relative h-[50vh] min-h-[420px] flex items-center justify-center text-center'>
        <img
          src={images.Slider2}
          alt='Lobby welcome area'
          className='absolute inset-0 h-full w-full object-cover'
        />
        <div className='absolute inset-0 bg-black/60' />
        <div className='relative z-10 max-w-2xl px-6 text-white'>
          <p className='font-tertiary uppercase tracking-[6px] text-sm mb-4'>
            We are at your service
          </p>
          <h1 className='font-primary text-4xl md:text-5xl lg:text-6xl leading-tight mb-6'>
            Contact Adina Hotel &amp; Spa
          </h1>
          <p className='text-lg text-white/80'>
            Whether it is tailor-made experiences, private events, or urgent supportour concierge team is always on standby.
          </p>
        </div>
      </section>

      <section className='container mx-auto px-6 lg:px-0 mt-10 relative z-20'>
        <div className='bg-white/95 shadow-2xl border border-[#eadfcf] rounded-lg px-6 py-8 lg:px-10 lg:py-10'>
          <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6'>
            {contactCards.map(({ title, detail, subtitle, icon: Icon }) => (
              <div key={title} className='h-full border border-[#eadfcf]/60 rounded-lg p-6 flex flex-col gap-3 bg-white min-w-0'>
                <Icon className='text-accent text-3xl' />
                <p className='font-tertiary uppercase tracking-[3px] text-xs text-primary/70'>
                  {title}
                </p>
                <h3 className='font-primary text-2xl leading-tight break-words'>{detail}</h3>
                <p className='text-sm text-primary/70'>{subtitle}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      <section className='container mx-auto px-6 lg:px-0 py-16 grid grid-cols-1 lg:grid-cols-2 gap-10'>
        <div className='bg-white p-8 shadow-sm border border-[#eadfcf]'>
          <p className='font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2'>
            Leave a Message
          </p>
          <h2 className='font-primary text-3xl mb-6'>Book a Private Consultation</h2>
          <form onSubmit={handleSubmit} className='space-y-5'>
            <div>
              <label className='block text-sm font-semibold mb-2'>Full name</label>
              <input
                type='text'
                name='fullName'
                value={formData.fullName}
                onChange={handleChange}
                className={`w-full border px-4 py-3 focus:outline-none focus:border-accent ${
                  errors.fullName ? 'border-red-400' : 'border-[#eadfcf]'
                }`}
                placeholder='John Carter'
              />
              {errors.fullName && <p className='text-sm text-red-500 mt-1'>{errors.fullName}</p>}
            </div>

            <div className='grid grid-cols-1 md:grid-cols-2 gap-5'>
              <div>
                <label className='block text-sm font-semibold mb-2'>Email</label>
                <input
                  type='email'
                  name='email'
                  value={formData.email}
                  onChange={handleChange}
                  className={`w-full border px-4 py-3 focus:outline-none focus:border-accent ${
                    errors.email ? 'border-red-400' : 'border-[#eadfcf]'
                  }`}
                  placeholder='ban@example.com'
                />
                {errors.email && <p className='text-sm text-red-500 mt-1'>{errors.email}</p>}
              </div>
              <div>
                <label className='block text-sm font-semibold mb-2'>Phone number</label>
                <input
                  type='tel'
                  name='phone'
                  value={formData.phone}
                  onChange={handleChange}
                  className={`w-full border px-4 py-3 focus:outline-none focus:border-accent ${
                    errors.phone ? 'border-red-400' : 'border-[#eadfcf]'
                  }`}
                placeholder='+84 987 654 321'
                />
                {errors.phone && <p className='text-sm text-red-500 mt-1'>{errors.phone}</p>}
              </div>
            </div>

            <div>
              <label className='block text-sm font-semibold mb-2'>Subject</label>
              <input
                type='text'
                name='subject'
                value={formData.subject}
                onChange={handleChange}
                className={`w-full border px-4 py-3 focus:outline-none focus:border-accent ${
                  errors.subject ? 'border-red-400' : 'border-[#eadfcf]'
                }`}
                placeholder='Request for stay, event planning...'
              />
              {errors.subject && <p className='text-sm text-red-500 mt-1'>{errors.subject}</p>}
            </div>

            <div>
              <label className='block text-sm font-semibold mb-2'>Message</label>
              <textarea
                name='message'
                value={formData.message}
                onChange={handleChange}
                rows={5}
                className={`w-full border px-4 py-3 focus:outline-none focus:border-accent resize-none ${
                  errors.message ? 'border-red-400' : 'border-[#eadfcf]'
                }`}
                placeholder='Share your expectations so we can curate every detail...'
              />
              {errors.message && <p className='text-sm text-red-500 mt-1'>{errors.message}</p>}
            </div>

            <button
              type='submit'
              className='btn btn-primary w-full uppercase tracking-[4px]'
              disabled={submitting}
            >
              {submitting ? 'Sending...' : 'Send request'}
            </button>
            <p className='text-xs text-primary/60 text-center'>
              *We respond to every inquiry within 30 working minutes.
            </p>
          </form>
        </div>

        <div className='bg-white border border-[#eadfcf] shadow-sm'>
          <iframe
            title='Adina Hotel Location'
            src='https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3724.0085669024215!2d105.84117087606554!3d21.03151128743644!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135abbd6fb5ef07%3A0x6f8dfb1ea1f7597!2zMTIgVHLhuqduIEjGsG5nIERhbywgSOG6o2kgS2nhu4FuLCBIw6AgTuG7mWkgMTAwMDA!5e0!3m2!1svi!2svi!4v1731810000000!5m2!1svi!2svi'
            width='100%'
            height='100%'
            className='min-h-[420px] w-full border-0'
            allowFullScreen=''
            loading='lazy'
            referrerPolicy='no-referrer-when-downgrade'
          ></iframe>
          <div className='p-6'>
            <h3 className='font-primary text-2xl mb-3'>Getting here</h3>
            <ul className='space-y-2 text-primary/80 text-sm'>
              <li> 35 minutes from Noi Bai airport via private limousine</li>
              <li> 5 minutes from Hanoi Railway Station with VIP pick-up</li>
              <li> Complimentary valet parking available 24/7</li>
            </ul>
          </div>
        </div>
      </section>
    </div>
  );
};

export default Contact;



=================================================================
FILE PATH (V2): src\pages\ForgotPassword.jsx
=================================================================
import { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { LogoDark } from '../assets';
import { FaEnvelope, FaSpinner, FaArrowLeft, FaCheckCircle, FaCopy } from 'react-icons/fa';
import Toast from '../components/Toast';
import { sendResetCodeEmail, isEmailConfigured } from '../utils/emailService';

const ForgotPassword = () => {
  const [email, setEmail] = useState('');
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);
  const [toast, setToast] = useState(null);
  const [resetCode, setResetCode] = useState(null);
  const [showCodeModal, setShowCodeModal] = useState(false);
  const navigate = useNavigate();

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');
    setLoading(true);

    if (!email) {
      setError('Please enter your email address');
      setLoading(false);
      return;
    }

    // Check if user exists
    const users = JSON.parse(localStorage.getItem('hotel_users') || '[]');
    const user = users.find(u => u.email === email);

    if (!user) {
      setError('Email not found. Please check your email address.');
      setLoading(false);
      return;
    }

    // Generate reset code (6 digits)
    const resetCode = Math.floor(100000 + Math.random() * 900000).toString();
    
    // Store reset code with email and expiry (10 minutes)
    const resetData = {
      email: email,
      code: resetCode,
      expiresAt: new Date(Date.now() + 10 * 60 * 1000).toISOString() // 10 minutes
    };

    localStorage.setItem('password_reset', JSON.stringify(resetData));

    // Send email with reset code
    if (isEmailConfigured()) {
      // EmailJS is configured - send real email
      const emailResult = await sendResetCodeEmail(email, resetCode, user.name || 'User');
      
      if (emailResult.success) {
        setToast({
          message: `Reset code sent to ${email}! Please check your inbox.`,
          type: 'success'
        });
        setTimeout(() => {
          navigate('/reset-password', { state: { email } });
        }, 2000);
      } else {
        setError(emailResult.error || 'Failed to send email. Please try again.');
        // Still show code in modal as fallback
        setResetCode(resetCode);
        setShowCodeModal(true);
      }
    } else {
      // EmailJS not configured - show code in modal (demo mode)
      setResetCode(resetCode);
      setShowCodeModal(true);
      setToast({
        message: 'Email service not configured. Showing code in modal.',
        type: 'info'
      });
    }
    
    setLoading(false);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-primary via-primary to-accent/20 flex items-center justify-center p-4">
      {/* Background decoration */}
      <div className="absolute inset-0 overflow-hidden">
        <div className="absolute top-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
        <div className="absolute bottom-0 right-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>
      </div>

      {/* Forgot Password Card */}
      <div className="relative z-10 w-full max-w-md">
        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
          {/* Header */}
          <div className="bg-gradient-to-r from-accent to-accent-hover p-8 text-center">
            <div className="flex justify-center mb-4">
              <LogoDark className="w-[180px] brightness-0 invert" />
            </div>
            <h1 className="text-2xl font-primary text-white mb-2">Forgot Password?</h1>
            <p className="text-white/90 text-sm">Enter your email to receive reset code</p>
          </div>

          {/* Form */}
          <form onSubmit={handleSubmit} className="p-8 space-y-6">
            {error && (
              <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
                {error}
              </div>
            )}

            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Email Address
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaEnvelope className="text-gray-400" />
                </div>
                <input
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder="your@email.com"
                  required
                  disabled={loading}
                />
              </div>
              <p className="text-xs text-gray-500 mt-2">
                We'll send a 6-digit reset code to your email address.
              </p>
            </div>

            <button
              type="submit"
              disabled={loading}
              className="w-full btn btn-primary btn-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? (
                <>
                  <FaSpinner className="animate-spin" />
                  Sending...
                </>
              ) : (
                <>
                  <FaEnvelope />
                  Send Reset Code
                </>
              )}
            </button>

            {/* Back to Login */}
            <div className="text-center pt-4">
              <Link
                to="/login"
                className="inline-flex items-center gap-2 text-sm text-accent hover:text-accent-hover transition-colors"
              >
                <FaArrowLeft />
                Back to Sign In
              </Link>
            </div>
          </form>

          {/* Footer */}
          <div className="px-8 py-4 bg-gray-50 border-t border-gray-200 text-center">
            <p className="text-xs text-gray-500">
               {new Date().getFullYear()} Hotel Booking. All rights reserved.
            </p>
          </div>
        </div>
      </div>

      {toast && (
        <Toast
          message={toast.message}
          type={toast.type}
          onClose={() => setToast(null)}
        />
      )}

      {/* Reset Code Modal - Demo Only */}
      {showCodeModal && resetCode && (
        <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4">
          <div className="bg-white rounded-2xl shadow-2xl max-w-md w-full">
            <div className="bg-gradient-to-r from-accent to-accent-hover p-6 text-center">
              <FaCheckCircle className="text-5xl text-white mx-auto mb-4" />
              <h2 className="text-2xl font-primary text-white mb-2">Reset Code Sent!</h2>
              <p className="text-white/90 text-sm">
                In production, this code would be sent to your email
              </p>
            </div>

            <div className="p-8">
              <div className="bg-gray-50 border-2 border-dashed border-accent rounded-lg p-6 mb-6">
                <p className="text-sm text-gray-600 mb-3 text-center">Your Reset Code:</p>
                <div className="flex items-center justify-center gap-3">
                  <div className="bg-white px-6 py-4 rounded-lg border-2 border-accent">
                    <p className="text-4xl font-mono font-bold text-accent tracking-widest">
                      {resetCode}
                    </p>
                  </div>
                  <button
                    onClick={() => {
                      navigator.clipboard.writeText(resetCode);
                      setToast({
                        message: 'Code copied to clipboard!',
                        type: 'success'
                      });
                    }}
                    className="p-3 bg-accent text-white rounded-lg hover:bg-accent-hover transition-colors"
                    title="Copy code"
                  >
                    <FaCopy />
                  </button>
                </div>
              </div>

              <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                <p className="text-sm text-yellow-800">
                  <strong>Demo Mode:</strong> In production, this 6-digit code would be sent to <strong>{email}</strong> via email. 
                  The code expires in 10 minutes.
                </p>
              </div>

              <div className="space-y-3">
                <button
                  onClick={() => {
                    setShowCodeModal(false);
                    setResetCode(null);
                    navigate('/reset-password', { state: { email } });
                  }}
                  className="w-full btn btn-primary btn-lg"
                >
                  Continue to Reset Password
                </button>
                <button
                  onClick={() => {
                    setShowCodeModal(false);
                    setResetCode(null);
                  }}
                  className="w-full btn btn-secondary btn-sm"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default ForgotPassword;



=================================================================
FILE PATH (V2): src\pages\Home.jsx
=================================================================
import { BookForm, HeroSlider, Rooms, ScrollToTop } from '../components';


const Home = () => {

  return (
    <div>
      <ScrollToTop />

      <HeroSlider />

      <div className='container mx-auto relative'>

        <div className='bg-accent/20 mt-4 p-4 lg:absolute lg:left-0 lg:right-0 lg:p-0 lg:-top-12 lg:z-30 lg:shadow-xl'>
          <BookForm />
        </div>

      </div>

      <Rooms />
    </div>
  );
};

export default Home;


=================================================================
FILE PATH (V2): src\pages\index.js
=================================================================
export { default as RoomDetails } from "./RoomDetails";
export { default as Home } from "./Home";
export { default as Admin } from "./Admin";
export { default as Login } from "./Login";
export { default as Register } from "./Register";
export { default as ForgotPassword } from "./ForgotPassword";
export { default as ResetPassword } from "./ResetPassword";
export { default as RoomsPage } from "./RoomsPage";
export { default as Contact } from "./Contact";
export { default as UserDashboard } from "./UserDashboard";
export { default as RestaurantPage } from "./RestaurantPage";
export { default as SpaPage } from "./SpaPage";
export { default as CleanupPage } from "./CleanupPage";


=================================================================
FILE PATH (V2): src\pages\Login.jsx
=================================================================
import { useState, useEffect } from 'react';
import { useNavigate, useLocation, Link } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { LogoDark } from '../assets';
import { FaEnvelope, FaLock, FaSpinner, FaGoogle, FaFacebook } from 'react-icons/fa';
import Toast from '../components/Toast';

const Login = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const [showPassword, setShowPassword] = useState(false);
  const [isAdminLogin, setIsAdminLogin] = useState(false);
  const [toast, setToast] = useState(null);
  
  const { login, adminLogin, loginWithOAuth, loading, isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  // Check if this is admin login page
  useEffect(() => {
    const isAdmin = location.pathname === '/admin/login' || location.search.includes('admin=true');
    setIsAdminLogin(isAdmin);
  }, [location]);

  // Redirect if already logged in
  useEffect(() => {
    if (isAuthenticated()) {
      const from = location.state?.from?.pathname || (isAdminLogin ? '/admin' : '/');
      navigate(from, { replace: true });
    }
  }, [isAuthenticated, navigate, location, isAdminLogin]);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');

    if (!email || !password) {
      setError('Please fill in all fields');
      return;
    }

    // Auto-detect admin email or use isAdminLogin flag
    const isAdminEmail = email === 'admin@hotel.com';
    const shouldUseAdminLogin = isAdminLogin || isAdminEmail;

    const result = shouldUseAdminLogin 
      ? await adminLogin(email, password)
      : await login(email, password);
    
    if (result.success) {
      setToast({
        message: `Welcome back, ${result.user.name || result.user.email}!`,
        type: 'success'
      });
      setTimeout(() => {
        const redirectPath = shouldUseAdminLogin ? '/admin' : '/';
        const from = location.state?.from?.pathname || redirectPath;
        navigate(from, { replace: true });
      }, 1500);
    } else {
      setError(result.error || 'Login failed');
    }
  };

  const handleOAuthLogin = async (provider) => {
    if (isAdminLogin) {
      setError('OAuth login is not available for admin');
      return;
    }

    setError('');
    const result = await loginWithOAuth(provider);
    
    if (result.success) {
      setToast({
        message: `Welcome, ${result.user.name || result.user.email}!`,
        type: 'success'
      });
      setTimeout(() => {
        navigate('/', { replace: true });
      }, 1500);
    } else {
      setError(`Failed to login with ${provider}`);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-primary via-primary to-accent/20 flex items-center justify-center p-4">
      {/* Background decoration */}
      <div className="absolute inset-0 overflow-hidden">
        <div className="absolute top-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
        <div className="absolute bottom-0 right-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>
      </div>

      {/* Login Card */}
      <div className="relative z-10 w-full max-w-md">
        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
          {/* Header */}
          <div className="bg-gradient-to-r from-accent to-accent-hover p-8 text-center">
            <div className="flex justify-center mb-4">
              <LogoDark className="w-[180px] brightness-0 invert" />
            </div>
            <h1 className="text-2xl font-primary text-white mb-2">
              {isAdminLogin ? 'Admin Login' : 'Sign In'}
            </h1>
            <p className="text-white/90 text-sm">
              {isAdminLogin ? 'Hotel Management System' : 'Welcome back'}
            </p>
          </div>

          {/* Form */}
          <form onSubmit={handleSubmit} className="p-8 space-y-6">
            {error && (
              <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
                {error}
              </div>
            )}

            {/* Email Input */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Email
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaEnvelope className="text-gray-400" />
                </div>
                <input
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder="admin@hotel.com"
                  required
                  disabled={loading}
                />
              </div>
            </div>

            {/* Password Input */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Password
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaLock className="text-gray-400" />
                </div>
                <input
                  type={showPassword ? 'text' : 'password'}
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  className="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder=""
                  required
                  disabled={loading}
                />
                <button
                  type="button"
                  onClick={() => setShowPassword(!showPassword)}
                  className="absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-accent transition-colors text-sm"
                >
                  {showPassword ? 'Hide' : 'Show'}
                </button>
              </div>
            </div>

            {/* Remember Me & Forgot Password */}
            <div className="flex items-center justify-between">
              <label className="flex items-center">
                <input
                  type="checkbox"
                  className="w-4 h-4 text-accent border-gray-300 rounded focus:ring-accent"
                />
                <span className="ml-2 text-sm text-gray-600">Remember me</span>
              </label>
              <Link to="/forgot-password" className="text-sm text-accent hover:text-accent-hover transition-colors">
                Forgot password?
              </Link>
            </div>

            {/* Submit Button */}
            <button
              type="submit"
              disabled={loading}
              className="w-full btn btn-primary btn-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? (
                <>
                  <FaSpinner className="animate-spin" />
                  Signing in...
                </>
              ) : (
                'Sign In'
              )}
            </button>

            {/* OAuth Buttons - Only for user login */}
            {!isAdminLogin && email !== 'admin@hotel.com' && (
              <>
                {/* Divider */}
                <div className="relative my-6">
                  <div className="absolute inset-0 flex items-center">
                    <div className="w-full border-t border-gray-300"></div>
                  </div>
                  <div className="relative flex justify-center text-sm">
                    <span className="px-2 bg-white text-gray-500">Or continue with</span>
                  </div>
                </div>

                {/* OAuth Buttons */}
                <div className="grid grid-cols-2 gap-4">
                  <button
                    type="button"
                    onClick={() => handleOAuthLogin('google')}
                    disabled={loading}
                    className="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                  >
                    <FaGoogle className="text-red-500" />
                    <span className="text-sm font-semibold">Google</span>
                  </button>

                  <button
                    type="button"
                    onClick={() => handleOAuthLogin('facebook')}
                    disabled={loading}
                    className="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                  >
                    <FaFacebook className="text-blue-600" />
                    <span className="text-sm font-semibold">Facebook</span>
                  </button>
                </div>
              </>
            )}

            {/* Demo Credentials - Only for admin */}
            {isAdminLogin && (
              <div className="mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                <p className="text-xs font-semibold text-gray-700 mb-2">Demo Credentials:</p>
                <div className="text-xs text-gray-600 space-y-1">
                  <p><strong>Email:</strong> admin@hotel.com</p>
                  <p><strong>Password:</strong> admin123</p>
                </div>
              </div>
            )}

            {/* Register Link - Only for user login */}
            {!isAdminLogin && (
              <div className="text-center pt-4">
                <p className="text-sm text-gray-600">
                  Don't have an account?{' '}
                  <Link to="/register" className="text-accent hover:text-accent-hover font-semibold">
                    Sign Up
                  </Link>
                </p>
              </div>
            )}
          </form>

          {/* Footer */}
          <div className="px-8 py-4 bg-gray-50 border-t border-gray-200 text-center">
            <p className="text-xs text-gray-500">
               {new Date().getFullYear()} Hotel Booking. All rights reserved.
            </p>
          </div>
        </div>
      </div>

      {toast && (
        <Toast
          message={toast.message}
          type={toast.type}
          onClose={() => setToast(null)}
        />
      )}
    </div>
  );
};

export default Login;



=================================================================
FILE PATH (V2): src\pages\Register.jsx
=================================================================
import { useState, useEffect } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { LogoDark } from '../assets';
import { FaEnvelope, FaLock, FaUser, FaSpinner, FaGoogle, FaFacebook } from 'react-icons/fa';
import Toast from '../components/Toast';

const Register = () => {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    password: '',
    confirmPassword: ''
  });
  const [error, setError] = useState('');
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const [toast, setToast] = useState(null);
  
  const { register, loginWithOAuth, loading, isAuthenticated } = useAuth();
  const navigate = useNavigate();

  // Redirect if already logged in
  useEffect(() => {
    if (isAuthenticated()) {
      navigate('/', { replace: true });
    }
  }, [isAuthenticated, navigate]);

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    });
    setError('');
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');

    // Validation
    if (!formData.name || !formData.email || !formData.password || !formData.confirmPassword) {
      setError('Please fill in all fields');
      return;
    }

    if (formData.password.length < 6) {
      setError('Password must be at least 6 characters');
      return;
    }

    if (formData.password !== formData.confirmPassword) {
      setError('Passwords do not match');
      return;
    }

    const result = await register(formData.name, formData.email, formData.password);
    
    if (result.success) {
      setToast({
        message: `Account created successfully! Welcome, ${result.user.name}!`,
        type: 'success'
      });
      setTimeout(() => {
        navigate('/', { replace: true });
      }, 1500);
    } else {
      setError(result.error || 'Registration failed');
    }
  };

  const handleOAuthLogin = async (provider) => {
    setError('');
    const result = await loginWithOAuth(provider);
    
    if (result.success) {
      setToast({
        message: `Welcome, ${result.user.name || result.user.email}!`,
        type: 'success'
      });
      setTimeout(() => {
        navigate('/', { replace: true });
      }, 1500);
    } else {
      setError(`Failed to login with ${provider}`);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-primary via-primary to-accent/20 flex items-center justify-center p-4 py-12">
      {/* Background decoration */}
      <div className="absolute inset-0 overflow-hidden">
        <div className="absolute top-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
        <div className="absolute bottom-0 right-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>
      </div>

      {/* Register Card */}
      <div className="relative z-10 w-full max-w-md">
        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
          {/* Header */}
          <div className="bg-gradient-to-r from-accent to-accent-hover p-8 text-center">
            <div className="flex justify-center mb-4">
              <LogoDark className="w-[180px] brightness-0 invert" />
            </div>
            <h1 className="text-2xl font-primary text-white mb-2">Create Account</h1>
            <p className="text-white/90 text-sm">Join us and start booking</p>
          </div>

          {/* Form */}
          <form onSubmit={handleSubmit} className="p-8 space-y-5">
            {error && (
              <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
                {error}
              </div>
            )}

            {/* Name Input */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Full Name
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaUser className="text-gray-400" />
                </div>
                <input
                  type="text"
                  name="name"
                  value={formData.name}
                  onChange={handleChange}
                  className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder="John Doe"
                  required
                  disabled={loading}
                />
              </div>
            </div>

            {/* Email Input */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Email
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaEnvelope className="text-gray-400" />
                </div>
                <input
                  type="email"
                  name="email"
                  value={formData.email}
                  onChange={handleChange}
                  className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder="john@example.com"
                  required
                  disabled={loading}
                />
              </div>
            </div>

            {/* Password Input */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Password
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaLock className="text-gray-400" />
                </div>
                <input
                  type={showPassword ? 'text' : 'password'}
                  name="password"
                  value={formData.password}
                  onChange={handleChange}
                  className="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder=""
                  required
                  disabled={loading}
                />
                <button
                  type="button"
                  onClick={() => setShowPassword(!showPassword)}
                  className="absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-accent transition-colors text-sm"
                >
                  {showPassword ? 'Hide' : 'Show'}
                </button>
              </div>
            </div>

            {/* Confirm Password Input */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Confirm Password
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaLock className="text-gray-400" />
                </div>
                <input
                  type={showConfirmPassword ? 'text' : 'password'}
                  name="confirmPassword"
                  value={formData.confirmPassword}
                  onChange={handleChange}
                  className="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder=""
                  required
                  disabled={loading}
                />
                <button
                  type="button"
                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}
                  className="absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-accent transition-colors text-sm"
                >
                  {showConfirmPassword ? 'Hide' : 'Show'}
                </button>
              </div>
            </div>

            {/* Submit Button */}
            <button
              type="submit"
              disabled={loading}
              className="w-full btn btn-primary btn-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? (
                <>
                  <FaSpinner className="animate-spin" />
                  Creating Account...
                </>
              ) : (
                'Create Account'
              )}
            </button>

            {/* Divider */}
            <div className="relative my-6">
              <div className="absolute inset-0 flex items-center">
                <div className="w-full border-t border-gray-300"></div>
              </div>
              <div className="relative flex justify-center text-sm">
                <span className="px-2 bg-white text-gray-500">Or continue with</span>
              </div>
            </div>

            {/* OAuth Buttons */}
            <div className="grid grid-cols-2 gap-4">
              <button
                type="button"
                onClick={() => handleOAuthLogin('google')}
                disabled={loading}
                className="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <FaGoogle className="text-red-500" />
                <span className="text-sm font-semibold">Google</span>
              </button>

              <button
                type="button"
                onClick={() => handleOAuthLogin('facebook')}
                disabled={loading}
                className="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <FaFacebook className="text-blue-600" />
                <span className="text-sm font-semibold">Facebook</span>
              </button>
            </div>

            {/* Login Link */}
            <div className="text-center pt-4">
              <p className="text-sm text-gray-600">
                Already have an account?{' '}
                <Link to="/login" className="text-accent hover:text-accent-hover font-semibold">
                  Sign In
                </Link>
              </p>
            </div>
          </form>

          {/* Footer */}
          <div className="px-8 py-4 bg-gray-50 border-t border-gray-200 text-center">
            <p className="text-xs text-gray-500">
               {new Date().getFullYear()} Hotel Booking. All rights reserved.
            </p>
          </div>
        </div>
      </div>

      {toast && (
        <Toast
          message={toast.message}
          type={toast.type}
          onClose={() => setToast(null)}
        />
      )}
    </div>
  );
};

export default Register;



=================================================================
FILE PATH (V2): src\pages\ResetPassword.jsx
=================================================================
import { useState, useEffect } from 'react';
import { useNavigate, useLocation, Link } from 'react-router-dom';
import { LogoDark } from '../assets';
import { FaLock, FaSpinner, FaCheck, FaArrowLeft, FaKey } from 'react-icons/fa';
import Toast from '../components/Toast';

const ResetPassword = () => {
  const [formData, setFormData] = useState({
    code: '',
    newPassword: '',
    confirmPassword: ''
  });
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const [toast, setToast] = useState(null);
  const [email, setEmail] = useState('');
  const navigate = useNavigate();
  const location = useLocation();

  useEffect(() => {
    // Get email from location state or from stored reset data
    const resetData = JSON.parse(localStorage.getItem('password_reset') || 'null');
    const emailFromState = location.state?.email;
    
    if (emailFromState) {
      setEmail(emailFromState);
    } else if (resetData?.email) {
      setEmail(resetData.email);
    } else {
      // No email found, redirect to forgot password
      navigate('/forgot-password');
    }
  }, [location, navigate]);

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    });
    setError('');
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');
    setLoading(true);

    // Validation
    if (!formData.code || !formData.newPassword || !formData.confirmPassword) {
      setError('Please fill in all fields');
      setLoading(false);
      return;
    }

    if (formData.code.length !== 6) {
      setError('Reset code must be 6 digits');
      setLoading(false);
      return;
    }

    if (formData.newPassword.length < 6) {
      setError('Password must be at least 6 characters');
      setLoading(false);
      return;
    }

    if (formData.newPassword !== formData.confirmPassword) {
      setError('Passwords do not match');
      setLoading(false);
      return;
    }

    // Check reset code
    const resetData = JSON.parse(localStorage.getItem('password_reset') || 'null');

    if (!resetData) {
      setError('Reset code expired or invalid. Please request a new one.');
      setLoading(false);
      return;
    }

    // Check if code matches
    if (resetData.code !== formData.code) {
      setError('Invalid reset code. Please check and try again.');
      setLoading(false);
      return;
    }

    // Check if code expired
    if (new Date(resetData.expiresAt) < new Date()) {
      setError('Reset code has expired. Please request a new one.');
      localStorage.removeItem('password_reset');
      setLoading(false);
      return;
    }

    // Check if email matches
    if (resetData.email !== email) {
      setError('Email mismatch. Please use the correct email.');
      setLoading(false);
      return;
    }

    // Update password in users list
    const users = JSON.parse(localStorage.getItem('hotel_users') || '[]');
    const updatedUsers = users.map(user => {
      if (user.email === email) {
        return {
          ...user,
          password: formData.newPassword // In production, this should be hashed
        };
      }
      return user;
    });

    localStorage.setItem('hotel_users', JSON.stringify(updatedUsers));
    
    // Remove reset data
    localStorage.removeItem('password_reset');

    setLoading(false);
    setToast({
      message: 'Password reset successfully! Redirecting to login...',
      type: 'success'
    });

    // Redirect to login after 2 seconds
    setTimeout(() => {
      navigate('/login');
    }, 2000);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-primary via-primary to-accent/20 flex items-center justify-center p-4 py-12">
      {/* Background decoration */}
      <div className="absolute inset-0 overflow-hidden">
        <div className="absolute top-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
        <div className="absolute bottom-0 right-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>
      </div>

      {/* Reset Password Card */}
      <div className="relative z-10 w-full max-w-md">
        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
          {/* Header */}
          <div className="bg-gradient-to-r from-accent to-accent-hover p-8 text-center">
            <div className="flex justify-center mb-4">
              <LogoDark className="w-[180px] brightness-0 invert" />
            </div>
            <h1 className="text-2xl font-primary text-white mb-2">Reset Password</h1>
            <p className="text-white/90 text-sm">
              {email ? `Enter code sent to ${email}` : 'Enter reset code and new password'}
            </p>
          </div>

          {/* Form */}
          <form onSubmit={handleSubmit} className="p-8 space-y-5">
            {error && (
              <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
                {error}
              </div>
            )}

            {/* Reset Code */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Reset Code *
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaKey className="text-gray-400" />
                </div>
                <input
                  type="text"
                  name="code"
                  value={formData.code}
                  onChange={handleChange}
                  maxLength="6"
                  className="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent text-center text-2xl font-mono tracking-widest"
                  placeholder="000000"
                  required
                  disabled={loading}
                />
              </div>
              <p className="text-xs text-gray-500 mt-2">
                Enter the 6-digit code sent to your email
              </p>
            </div>

            {/* New Password */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                New Password *
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaLock className="text-gray-400" />
                </div>
                <input
                  type={showPassword ? 'text' : 'password'}
                  name="newPassword"
                  value={formData.newPassword}
                  onChange={handleChange}
                  className="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder=""
                  required
                  disabled={loading}
                />
                <button
                  type="button"
                  onClick={() => setShowPassword(!showPassword)}
                  className="absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-accent transition-colors text-sm"
                >
                  {showPassword ? 'Hide' : 'Show'}
                </button>
              </div>
            </div>

            {/* Confirm Password */}
            <div>
              <label className="block text-sm font-semibold mb-2 text-primary">
                Confirm New Password *
              </label>
              <div className="relative">
                <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <FaLock className="text-gray-400" />
                </div>
                <input
                  type={showConfirmPassword ? 'text' : 'password'}
                  name="confirmPassword"
                  value={formData.confirmPassword}
                  onChange={handleChange}
                  className="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                  placeholder=""
                  required
                  disabled={loading}
                />
                <button
                  type="button"
                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}
                  className="absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-accent transition-colors text-sm"
                >
                  {showConfirmPassword ? 'Hide' : 'Show'}
                </button>
              </div>
            </div>

            {/* Submit Button */}
            <button
              type="submit"
              disabled={loading}
              className="w-full btn btn-primary btn-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? (
                <>
                  <FaSpinner className="animate-spin" />
                  Resetting Password...
                </>
              ) : (
                <>
                  <FaCheck />
                  Reset Password
                </>
              )}
            </button>

            {/* Back Links */}
            <div className="flex items-center justify-between pt-4">
              <Link
                to="/forgot-password"
                className="inline-flex items-center gap-2 text-sm text-accent hover:text-accent-hover transition-colors"
              >
                <FaArrowLeft />
                Request New Code
              </Link>
              <Link
                to="/login"
                className="text-sm text-accent hover:text-accent-hover transition-colors"
              >
                Back to Sign In
              </Link>
            </div>
          </form>

          {/* Footer */}
          <div className="px-8 py-4 bg-gray-50 border-t border-gray-200 text-center">
            <p className="text-xs text-gray-500">
               {new Date().getFullYear()} Hotel Booking. All rights reserved.
            </p>
          </div>
        </div>
      </div>

      {toast && (
        <Toast
          message={toast.message}
          type={toast.type}
          onClose={() => setToast(null)}
        />
      )}
    </div>
  );
};

export default ResetPassword;



=================================================================
FILE PATH (V2): src\pages\RestaurantPage.jsx
=================================================================
import { useState } from "react";
import { ScrollToTop, Toast } from "../components";
import QRPayment from "../components/QRPayment";
import Invoice from "../components/Invoice";
import { useBookingContext } from "../context/BookingContext";
import { useAuth } from "../context/AuthContext";
import images from "../assets";
import {
  FaUtensils,
  FaWineGlassAlt,
  FaClock,
  FaMapMarkerAlt,
  FaPhoneAlt,
  FaStar,
  FaCheck,
} from "react-icons/fa";

const menuCategories = [
  { id: "appetizers", name: "Appetizers", icon: FaUtensils },
  { id: "mains", name: "Main Courses", icon: FaUtensils },
  { id: "desserts", name: "Desserts", icon: FaUtensils },
  { id: "beverages", name: "Beverages", icon: FaWineGlassAlt },
  { id: "combos", name: "Combo Meals", icon: FaUtensils },
];

// Helper function to get image for menu items
const getMenuItemImage = (id) => {
  const imageMap = {
    1: images.Room1Img,
    2: images.Room2Img,
    3: images.Room3Img,
    4: images.Room4Img,
    5: images.Room5Img,
    6: images.Room6Img,
    7: images.Room7Img,
    8: images.Room8Img,
    9: images.Room1ImgLg,
    10: images.Room2ImgLg,
    11: images.Room3ImgLg,
    12: images.Room4ImgLg,
    13: images.Room5ImgLg,
    14: images.Room6ImgLg,
    15: images.Room7ImgLg,
    16: images.Room8ImgLg,
    17: images.Slider1,
    18: images.Slider2,
    19: images.Slider3,
    20: images.Room1Img,
    21: images.Room2Img,
  };
  return imageMap[id] || images.Slider1;
};

const menuItems = {
  appetizers: [
    {
      id: 1,
      name: "Truffle Arancini",
      description: "Crispy risotto balls with black truffle and parmesan",
      price: 28,
      popular: true,
      image: getMenuItemImage(1),
    },
    {
      id: 2,
      name: "Wagyu Beef Carpaccio",
      description: "Thinly sliced premium wagyu with arugula and truffle oil",
      price: 45,
      popular: true,
      image: getMenuItemImage(2),
    },
    {
      id: 3,
      name: "Lobster Bisque",
      description: "Creamy bisque with cognac and fresh herbs",
      price: 32,
      image: getMenuItemImage(3),
    },
    {
      id: 4,
      name: "Foie Gras Terrine",
      description: "Duck liver terrine with fig compote and brioche",
      price: 38,
      image: getMenuItemImage(4),
    },
    {
      id: 5,
      name: "Oysters Rockefeller",
      description: "Fresh oysters with spinach, herbs, and pernod",
      price: 35,
      image: getMenuItemImage(5),
    },
  ],
  mains: [
    {
      id: 6,
      name: "Wagyu Ribeye Steak",
      description:
        "Premium 300g ribeye with roasted vegetables and red wine jus",
      price: 95,
      popular: true,
      image: getMenuItemImage(6),
    },
    {
      id: 7,
      name: "Pan-Seared Sea Bass",
      description:
        "Wild-caught sea bass with lemon beurre blanc and seasonal vegetables",
      price: 68,
      image: getMenuItemImage(7),
    },
    {
      id: 8,
      name: "Duck Confit",
      description: "Slow-cooked duck leg with cherry sauce and potato gratin",
      price: 72,
      image: getMenuItemImage(8),
    },
    {
      id: 9,
      name: "Lobster Thermidor",
      description: "Whole lobster with gruyre cheese and brandy cream",
      price: 88,
      popular: true,
      image: getMenuItemImage(9),
    },
    {
      id: 10,
      name: "Vegetarian Risotto",
      description:
        "Creamy arborio rice with seasonal vegetables and truffle oil",
      price: 42,
      image: getMenuItemImage(10),
    },
    {
      id: 11,
      name: "Rack of Lamb",
      description:
        "Herb-crusted lamb with mint jus and roasted root vegetables",
      price: 78,
      image: getMenuItemImage(11),
    },
  ],
  desserts: [
    {
      id: 12,
      name: "Chocolate Souffl",
      description: "Warm dark chocolate souffl with vanilla ice cream",
      price: 24,
      popular: true,
      image: getMenuItemImage(12),
    },
    {
      id: 13,
      name: "Crme Brle",
      description: "Classic vanilla custard with caramelized sugar",
      price: 18,
      image: getMenuItemImage(13),
    },
    {
      id: 14,
      name: "Tiramisu",
      description: "Traditional Italian dessert with espresso and mascarpone",
      price: 22,
      image: getMenuItemImage(14),
    },
    {
      id: 15,
      name: "Lemon Tart",
      description: "Tangy lemon curd in buttery pastry with fresh berries",
      price: 20,
      image: getMenuItemImage(15),
    },
    {
      id: 16,
      name: "Cheese Selection",
      description: "Artisan cheeses with honey, nuts, and crackers",
      price: 32,
      image: getMenuItemImage(16),
    },
  ],
  beverages: [
    {
      id: 17,
      name: "Wine Selection",
      description: "Curated wines from renowned vineyards",
      price: 45,
      popular: true,
      image: getMenuItemImage(17),
    },
    {
      id: 18,
      name: "Craft Cocktails",
      description: "Signature cocktails crafted by our mixologist",
      price: 18,
      image: getMenuItemImage(18),
    },
    {
      id: 19,
      name: "Champagne",
      description: "Premium champagne selection",
      price: 120,
      image: getMenuItemImage(19),
    },
    {
      id: 20,
      name: "Fresh Juices",
      description: "Seasonal fresh fruit juices",
      price: 12,
      image: getMenuItemImage(20),
    },
    {
      id: 21,
      name: "Espresso & Tea",
      description: "Premium coffee and tea selection",
      price: 8,
      image: getMenuItemImage(21),
    },
  ],
  combos: [
    {
      id: 22,
      name: "Romantic Dinner for Two",
      description: "Appetizer, two main courses, dessert, and wine pairing",
      price: 220,
      popular: true,
      image: images.Slider1,
      items: [
        "Wagyu Beef Carpaccio",
        "Wagyu Ribeye Steak",
        "Pan-Seared Sea Bass",
        "Chocolate Souffl",
        "Wine Selection",
      ],
    },
    {
      id: 23,
      name: "Family Feast",
      description:
        "Perfect for 4 people: appetizers, mains, desserts, and beverages",
      price: 380,
      popular: true,
      image: images.Slider2,
      items: [
        "Truffle Arancini",
        "Lobster Thermidor",
        "Duck Confit",
        "Rack of Lamb",
        "Tiramisu",
        "Crme Brle",
        "Fresh Juices",
      ],
    },
    {
      id: 24,
      name: "Seafood Lovers",
      description: "Lobster bisque, sea bass, lobster thermidor, and champagne",
      price: 280,
      image: images.Slider3,
      items: [
        "Lobster Bisque",
        "Pan-Seared Sea Bass",
        "Lobster Thermidor",
        "Champagne",
      ],
    },
    {
      id: 25,
      name: "Vegetarian Delight",
      description:
        "Complete vegetarian menu with seasonal vegetables and risotto",
      price: 120,
      image: images.Room1Img,
      items: [
        "Vegetarian Risotto",
        "Seasonal Salad",
        "Lemon Tart",
        "Fresh Juices",
      ],
    },
    {
      id: 26,
      name: "Business Lunch",
      description:
        "Quick and elegant lunch combo: appetizer, main, and dessert",
      price: 85,
      image: images.Room2Img,
      items: [
        "Truffle Arancini",
        "Wagyu Ribeye Steak",
        "Crme Brle",
        "Espresso & Tea",
      ],
    },
  ],
};

const chefSpecials = [
  {
    title: "Chef's Tasting Menu",
    description:
      "A curated 7-course journey showcasing seasonal ingredients and culinary artistry",
    price: 185,
    duration: "2.5 hours",
    includes: ["7 courses", "Wine pairing option", "Chef interaction"],
    image: images.Slider1,
  },
  {
    title: "Weekend Brunch",
    description:
      "Indulgent brunch experience with bottomless mimosas and live jazz",
    price: 65,
    duration: "11:00 - 15:00",
    includes: [
      "Unlimited brunch items",
      "Bottomless beverages",
      "Live entertainment",
    ],
    image: images.Slider2,
  },
  {
    title: "Private Dining",
    description:
      "Exclusive private room for intimate gatherings and celebrations",
    price: 250,
    duration: "Custom",
    includes: ["Private room", "Customized menu", "Dedicated service"],
    image: images.Slider3,
  },
];

const openingHours = [
  { day: "Monday - Thursday", time: "18:00 - 22:30" },
  { day: "Friday - Saturday", time: "18:00 - 23:30" },
  { day: "Sunday", time: "12:00 - 21:00" },
  { day: "Brunch", time: "Saturday & Sunday 11:00 - 15:00" },
];

const RestaurantPage = () => {
  const { user } = useAuth();
  const { createRestaurantBooking, confirmRestaurantBooking } =
    useBookingContext();
  const [activeCategory, setActiveCategory] = useState("appetizers");
  const [toast, setToast] = useState(null);
  const [showQRPayment, setShowQRPayment] = useState(false);
  const [showInvoice, setShowInvoice] = useState(false);
  const [currentBooking, setCurrentBooking] = useState(null);
  const [reservationForm, setReservationForm] = useState({
    name: "",
    email: "",
    phone: "",
    date: "",
    time: "",
    guests: "2",
    specialRequests: "",
  });

  const handleReservationSubmit = (e) => {
    e.preventDefault();
    if (
      !reservationForm.name ||
      !reservationForm.email ||
      !reservationForm.date ||
      !reservationForm.time
    ) {
      setToast({
        type: "error",
        message: "Please fill in all required fields.",
      });
      return;
    }

    // Calculate price (demo: $50 per guest)
    const price = parseInt(reservationForm.guests) * 50;

    const result = createRestaurantBooking({
      name: reservationForm.name,
      email: reservationForm.email,
      phone: reservationForm.phone,
      date: `${reservationForm.date}T${reservationForm.time}`,
      guests: parseInt(reservationForm.guests),
      specialRequests: reservationForm.specialRequests,
      userId: user?.id,
      userName: reservationForm.name,
      userEmail: reservationForm.email,
      price,
      totalPrice: price,
    });

    if (result?.success) {
      setCurrentBooking(result.booking);
      setShowQRPayment(true);
    }
  };

  const handlePaymentSuccess = (paymentData) => {
    if (!currentBooking) return;

    const confirmedBooking = confirmRestaurantBooking(
      currentBooking.id,
      paymentData
    );
    setCurrentBooking(confirmedBooking);
    setShowQRPayment(false);
    setShowInvoice(true);
    setToast({
      type: "success",
      message: "Payment successful! Your reservation is confirmed.",
    });
    setReservationForm({
      name: "",
      email: "",
      phone: "",
      date: "",
      time: "",
      guests: "2",
      specialRequests: "",
    });
  };

  const handleCloseQRPayment = () => {
    setShowQRPayment(false);
    setCurrentBooking(null);
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setReservationForm((prev) => ({ ...prev, [name]: value }));
  };

  return (
    <div className="min-h-screen bg-[#f7f4ef]">
      <ScrollToTop />
      {toast && (
        <Toast
          message={toast.message}
          type={toast.type}
          onClose={() => setToast(null)}
        />
      )}

      {/* Hero Section */}
      <section className="relative h-[60vh] min-h-[480px] flex items-center justify-center text-center">
        <img
          src={images.Slider2}
          alt="Restaurant interior"
          className="absolute inset-0 h-full w-full object-cover"
        />
        <div className="absolute inset-0 bg-black/60" />
        <div className="relative z-10 max-w-3xl px-6 text-white">
          <p className="font-tertiary uppercase tracking-[6px] text-sm mb-4">
            Adina Hotel &amp; Spa
          </p>
          <h1 className="font-primary text-4xl md:text-5xl lg:text-6xl leading-tight mb-6">
            Fine Dining Experience
          </h1>
          <p className="text-lg text-white/80">
            Indulge in culinary excellence with our award-winning chefs, curated
            wine selection, and elegant ambiance.
          </p>
        </div>
      </section>

      {/* Menu Section */}
      <section className="container mx-auto px-6 lg:px-0 py-20">
        <div className="text-center mb-12">
          <p className="font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2">
            Our Menu
          </p>
          <h2 className="font-primary text-4xl mb-4">Culinary Excellence</h2>
          <p className="text-primary/70 max-w-2xl mx-auto">
            Each dish is crafted with precision, using the finest ingredients
            sourced from local artisans and international purveyors.
          </p>
        </div>

        {/* Category Tabs */}
        <div className="flex flex-wrap justify-center gap-4 mb-12">
          {menuCategories.map((category) => {
            const Icon = category.icon;
            return (
              <button
                key={category.id}
                onClick={() => setActiveCategory(category.id)}
                className={`flex items-center gap-2 px-6 py-3 border rounded-full transition ${
                  activeCategory === category.id
                    ? "bg-accent text-white border-accent"
                    : "border-[#eadfcf] text-primary hover:border-accent"
                }`}
              >
                <Icon />
                <span>{category.name}</span>
              </button>
            );
          })}
        </div>

        {/* Menu Items Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {menuItems[activeCategory].map((item) => (
            <div
              key={item.id}
              className="bg-white shadow-sm border border-[#eadfcf] hover:shadow-lg transition-shadow overflow-hidden"
            >
              <div className="relative h-48 overflow-hidden">
                <img
                  src={item.image}
                  alt={item.name}
                  className="w-full h-full object-cover hover:scale-110 transition-transform duration-300"
                />
                {item.popular && (
                  <span className="absolute top-3 right-3 flex items-center gap-1 bg-accent text-white px-3 py-1 rounded-full text-xs">
                    <FaStar />
                    <span>Popular</span>
                  </span>
                )}
              </div>
              <div className="p-6">
                <h3 className="font-primary text-xl mb-2">{item.name}</h3>
                <p className="text-sm text-primary/70 mb-3">
                  {item.description}
                </p>
                {item.items && (
                  <div className="mb-3">
                    <p className="text-xs font-semibold text-primary/60 mb-1">
                      Includes:
                    </p>
                    <ul className="text-xs text-primary/70 space-y-1">
                      {item.items.map((foodItem, idx) => (
                        <li key={idx} className="flex items-center gap-1">
                          <FaCheck className="text-accent text-[10px]" />
                          <span>{foodItem}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
                <p className="font-primary text-2xl text-accent">
                  ${item.price}
                </p>
              </div>
            </div>
          ))}
        </div>
      </section>

      {/* Chef's Specials */}
      <section className="bg-white py-20">
        <div className="container mx-auto px-6 lg:px-0">
          <div className="text-center mb-12">
            <p className="font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2">
              Special Experiences
            </p>
            <h2 className="font-primary text-4xl mb-4">Chef's Specials</h2>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            {chefSpecials.map((special, index) => (
              <div
                key={index}
                className="bg-[#f7f4ef] border border-[#eadfcf] hover:shadow-lg transition-shadow overflow-hidden"
              >
                <div className="relative h-48 overflow-hidden">
                  <img
                    src={special.image}
                    alt={special.title}
                    className="w-full h-full object-cover hover:scale-110 transition-transform duration-300"
                  />
                </div>
                <div className="p-8">
                  <h3 className="font-primary text-2xl mb-3">
                    {special.title}
                  </h3>
                  <p className="text-primary/70 mb-4">{special.description}</p>
                  <div className="mb-4">
                    <p className="font-primary text-3xl text-accent mb-2">
                      ${special.price}
                    </p>
                    <p className="text-sm text-primary/60">
                      {special.duration}
                    </p>
                  </div>
                  <ul className="space-y-2">
                    {special.includes.map((item, idx) => (
                      <li
                        key={idx}
                        className="flex items-center gap-2 text-sm text-primary/70"
                      >
                        <FaCheck className="text-accent" />
                        <span>{item}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Reservation Section */}
      <section className="container mx-auto px-6 lg:px-0 py-20">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
          {/* Reservation Form */}
          <div className="bg-white p-8 shadow-sm border border-[#eadfcf]">
            <p className="font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2">
              Reserve a Table
            </p>
            <h2 className="font-primary text-3xl mb-6">Book Your Experience</h2>
            <form onSubmit={handleReservationSubmit} className="space-y-5">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div>
                  <label className="block text-sm font-semibold mb-2">
                    Full Name *
                  </label>
                  <input
                    type="text"
                    name="name"
                    value={reservationForm.name}
                    onChange={handleInputChange}
                    className="w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent"
                    placeholder="John Carter"
                    required
                  />
                </div>
                <div>
                  <label className="block text-sm font-semibold mb-2">
                    Email *
                  </label>
                  <input
                    type="email"
                    name="email"
                    value={reservationForm.email}
                    onChange={handleInputChange}
                    className="w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent"
                    placeholder="john@example.com"
                    required
                  />
                </div>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div>
                  <label className="block text-sm font-semibold mb-2">
                    Phone
                  </label>
                  <input
                    type="tel"
                    name="phone"
                    value={reservationForm.phone}
                    onChange={handleInputChange}
                    className="w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent"
                    placeholder="+84 987 654 321"
                  />
                </div>
                <div>
                  <label className="block text-sm font-semibold mb-2">
                    Number of Guests *
                  </label>
                  <select
                    name="guests"
                    value={reservationForm.guests}
                    onChange={handleInputChange}
                    className="w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent bg-white"
                    required
                  >
                    {[1, 2, 3, 4, 5, 6, 7, 8].map((num) => (
                      <option key={num} value={num}>
                        {num} {num === 1 ? "Guest" : "Guests"}
                      </option>
                    ))}
                  </select>
                </div>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div>
                  <label className="block text-sm font-semibold mb-2">
                    Date *
                  </label>
                  <input
                    type="date"
                    name="date"
                    value={reservationForm.date}
                    onChange={handleInputChange}
                    min={new Date().toISOString().split("T")[0]}
                    className="w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent"
                    required
                  />
                </div>
                <div>
                  <label className="block text-sm font-semibold mb-2">
                    Time *
                  </label>
                  <input
                    type="time"
                    name="time"
                    value={reservationForm.time}
                    onChange={handleInputChange}
                    className="w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent"
                    required
                  />
                </div>
              </div>

              <div>
                <label className="block text-sm font-semibold mb-2">
                  Special Requests
                </label>
                <textarea
                  name="specialRequests"
                  value={reservationForm.specialRequests}
                  onChange={handleInputChange}
                  rows={3}
                  className="w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent resize-none"
                  placeholder="Dietary restrictions, celebration, etc."
                />
              </div>

              <button
                type="submit"
                className="btn btn-primary w-full uppercase tracking-[4px]"
              >
                Reserve Table
              </button>
            </form>
          </div>

          {/* Restaurant Info */}
          <div className="space-y-8">
            <div className="bg-white p-8 shadow-sm border border-[#eadfcf]">
              <h3 className="font-primary text-2xl mb-6">Opening Hours</h3>
              <div className="space-y-4">
                {openingHours.map((schedule, index) => (
                  <div
                    key={index}
                    className="flex items-center justify-between pb-4 border-b border-[#eadfcf] last:border-0"
                  >
                    <div className="flex items-center gap-3">
                      <FaClock className="text-accent" />
                      <span className="font-semibold">{schedule.day}</span>
                    </div>
                    <span className="text-primary/70">{schedule.time}</span>
                  </div>
                ))}
              </div>
            </div>

            <div className="bg-white p-8 shadow-sm border border-[#eadfcf]">
              <h3 className="font-primary text-2xl mb-6">
                Contact Information
              </h3>
              <div className="space-y-4">
                <div className="flex items-start gap-4">
                  <FaMapMarkerAlt className="text-accent mt-1" />
                  <div>
                    <p className="font-semibold">Location</p>
                    <p className="text-primary/70">
                      12 Tran Hung Dao, Hoan Kiem, Ha Noi
                    </p>
                  </div>
                </div>
                <div className="flex items-start gap-4">
                  <FaPhoneAlt className="text-accent mt-1" />
                  <div>
                    <p className="font-semibold">Reservations</p>
                    <p className="text-primary/70">+84 24 1234 5678</p>
                  </div>
                </div>
                <div className="flex items-start gap-4">
                  <FaUtensils className="text-accent mt-1" />
                  <div>
                    <p className="font-semibold">Email</p>
                    <p className="text-primary/70">restaurant@adinahotel.com</p>
                  </div>
                </div>
              </div>
            </div>

            <div className="bg-accent/10 p-8 border border-accent/20">
              <h3 className="font-primary text-xl mb-3">Dress Code</h3>
              <p className="text-primary/70 text-sm">
                Smart casual attire is recommended. We kindly request no
                sportswear or beachwear in the dining room.
              </p>
            </div>
          </div>
        </div>
      </section>

      {showQRPayment && currentBooking && (
        <QRPayment
          bookingData={currentBooking}
          onPaymentSuccess={handlePaymentSuccess}
          onClose={handleCloseQRPayment}
          type="restaurant"
        />
      )}

      {showInvoice && currentBooking && (
        <Invoice
          booking={currentBooking}
          onClose={() => setShowInvoice(false)}
          onDownload={() => {
            setToast({
              type: "success",
              message: "PDF downloaded successfully!",
            });
          }}
        />
      )}
    </div>
  );
};

export default RestaurantPage;


=================================================================
FILE PATH (V2): src\pages\RoomDetails.jsx
=================================================================
import { ScrollToTop, Toast } from '../components';
import QRPayment from '../components/QRPayment';
import Invoice from '../components/Invoice';
import { useRoomContext } from '../context/RoomContext';
import { useAuth } from '../context/AuthContext';
import { hotelRules } from '../constants/data';
import { useParams } from 'react-router-dom';
import { FaCheck, FaStar } from 'react-icons/fa';
import { useMemo, useState } from 'react';

const createLocalId = () => {
  if (typeof crypto !== 'undefined' && crypto.randomUUID) {
    return crypto.randomUUID();
  }
  return Date.now().toString();
};

const RoomDetails = () => {
  const { id } = useParams();
  const {
    allRooms,
    bookRoom,
    confirmBookingPayment,
    hasUserBookedRoom,
    addReview,
    calculatePricingForRoom,
  } = useRoomContext();
  const { user, isAuthenticated } = useAuth();

  const room = allRooms.find(roomItem => roomItem.id === Number(id));

  const [reservation, setReservation] = useState({
    checkIn: '',
    checkOut: '',
    adults: 2,
    kids: 0,
    note: '',
  });
  const [reviewForm, setReviewForm] = useState({
    rating: 5,
    comment: '',
  });
  const [toast, setToast] = useState(null);
  const [showQRPayment, setShowQRPayment] = useState(false);
  const [showInvoice, setShowInvoice] = useState(false);
  const [currentBooking, setCurrentBooking] = useState(null);

  const maxGuests = room?.maxPerson || 1;

  const nights = useMemo(() => {
    if (!reservation.checkIn || !reservation.checkOut) return 1;
    const start = new Date(reservation.checkIn);
    const end = new Date(reservation.checkOut);
    const diff = end.getTime() - start.getTime();
    const days = Math.max(1, Math.ceil(diff / (1000 * 60 * 60 * 24)));
    return Number.isFinite(days) ? days : 1;
  }, [reservation.checkIn, reservation.checkOut]);

  const averageRating = useMemo(() => {
    if (!room?.reviews?.length) return null;
    const score = room.reviews.reduce((sum, review) => sum + review.rating, 0) / room.reviews.length;
    return score.toFixed(1);
  }, [room]);

  if (!room) {
    return (
      <section className='min-h-screen flex items-center justify-center'>
        <p className='text-xl text-primary/70'>Khng tm thy phng ph hp.</p>
      </section>
    );
  }

  const totalGuests = reservation.adults + reservation.kids;
  const pricingPreview = useMemo(() => {
    if (!room || !reservation.checkIn || !reservation.checkOut) return null;
    return calculatePricingForRoom(room, reservation.checkIn, reservation.checkOut);
  }, [room, reservation.checkIn, reservation.checkOut, calculatePricingForRoom]);
  const totalPrice = pricingPreview?.total ?? nights * room.price;
  const canReview = isAuthenticated() && hasUserBookedRoom(user?.id, room.id);

  const showToast = (payload) => {
    setToast(payload);
    setTimeout(() => setToast(null), 4000);
  };

  const handleReservationChange = (field, value) => {
    setReservation(prev => ({ ...prev, [field]: value }));
  };

  const validateBooking = () => {
    if (!isAuthenticated()) {
      showToast({ type: 'info', message: 'Please sign in to book this room.' });
      return false;
    }
    if (!reservation.checkIn || !reservation.checkOut) {
      showToast({ type: 'error', message: 'Select both check-in and check-out dates.' });
      return false;
    }
    if (new Date(reservation.checkOut) <= new Date(reservation.checkIn)) {
      showToast({ type: 'error', message: 'Check-out must be after check-in.' });
      return false;
    }
    if (totalGuests > maxGuests) {
      showToast({ type: 'error', message: `This category hosts up to ${maxGuests} guests.` });
      return false;
    }
    return true;
  };

  const handleBooking = (e) => {
    e.preventDefault();
    if (!validateBooking()) return;

    const result = bookRoom({
      roomId: room.id,
      roomName: room.name,
      userId: user?.id,
      userName: user?.name || user?.email?.split('@')[0],
      userEmail: user?.email,
      checkIn: reservation.checkIn,
      checkOut: reservation.checkOut,
      adults: reservation.adults,
      kids: reservation.kids,
      note: reservation.note,
    });

    if (result?.success) {
      setCurrentBooking(result.booking);
      setShowQRPayment(true);
    } else {
      showToast({
        type: 'error',
        message: result?.error || 'Unable to complete booking. Please try another selection.',
      });
    }
  };

  const handlePaymentSuccess = (paymentData) => {
    if (!currentBooking) return;
    
    const confirmedBooking = confirmBookingPayment(currentBooking.id, paymentData);
    setCurrentBooking(confirmedBooking);
    setShowQRPayment(false);
    setShowInvoice(true);
    showToast({
      type: 'success',
      message: 'Payment successful! Your booking is confirmed.',
    });
    setReservation(prev => ({ ...prev, note: '' }));
  };

  const handleCloseQRPayment = () => {
    setShowQRPayment(false);
    setCurrentBooking(null);
  };

  const handleReviewSubmit = (e) => {
    e.preventDefault();
    if (!isAuthenticated()) {
      showToast({ type: 'info', message: 'Sign in to share your review.' });
      return;
    }
    if (!canReview) {
      showToast({ type: 'error', message: 'Only confirmed guests can rate this room.' });
      return;
    }
    if (!reviewForm.comment.trim()) {
      showToast({ type: 'error', message: 'Please add your thoughts before submitting.' });
      return;
    }

    addReview(room.id, {
      id: createLocalId(),
      userId: user?.id,
      userName: user?.name || user?.email?.split('@')[0],
      rating: reviewForm.rating,
      comment: reviewForm.comment,
      createdAt: new Date().toISOString(),
    });

    showToast({ type: 'success', message: 'Thank you for sharing your experience!' });
    setReviewForm({ rating: 5, comment: '' });
  };

  return (
    <section>
      <ScrollToTop />
      {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}

      <div className='bg-room h-[560px] relative flex justify-center items-center bg-cover bg-center'>
        <div className='absolute w-full h-full bg-black/70' />
        <h1 className='text-5xl lg:text-6xl text-white z-20 font-primary text-center'>{room.name}</h1>
      </div>

      <div className='container mx-auto'>
        <div className='flex flex-col lg:flex-row lg:gap-x-10 h-full py-24'>
          <div className='w-full lg:w-[60%] h-full text-justify'>
            <h2 className='h2'>{room.name}</h2>
            <p className='mb-8 text-primary/80'>{room.description}</p>
            <img className='mb-8 rounded shadow-lg' src={room.imageLg} alt={room.name} />

            <div className='flex items-center gap-4 mb-10'>
              <div className='text-4xl font-primary text-accent'>
                {averageRating ? averageRating : 'N/A'}
              </div>
              <div className='flex text-accent'>
                {[...Array(5)].map((_, index) => (
                  <FaStar
                    key={index}
                    className={`text-2xl ${averageRating && index < Math.round(averageRating) ? 'text-accent' : 'text-accent/20'}`}
                  />
                ))}
              </div>
              <p className='text-sm text-primary/70'>
                {room.reviews?.length ? `${room.reviews.length} reviews` : 'Be the first to review this stay'}
              </p>
            </div>

            <div className='grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12'>
              {room.facilities.map((item, index) => (
                <div key={index} className='flex items-center gap-x-3 bg-white border border-accent/20 p-4'>
                  <div className='text-3xl text-accent'>{<item.icon />}</div>
                  <div className='text-base font-medium'>{item.name}</div>
                </div>
              ))}
            </div>

            <div className='bg-white border border-accent/20 p-6 rounded mb-12'>
              <h4 className='font-primary text-2xl mb-4'>Rate highlights</h4>
              <div className='grid sm:grid-cols-3 gap-4 text-sm'>
                <div>
                  <p className='text-primary/60 uppercase tracking-[2px] text-xs'>Weekday</p>
                  <p className='font-primary text-xl'>${room.price}</p>
                </div>
                <div>
                  <p className='text-primary/60 uppercase tracking-[2px] text-xs'>Weekend</p>
                  <p className='font-primary text-xl'>${Math.round(room.price * 1.15)}</p>
                </div>
                <div>
                  <p className='text-primary/60 uppercase tracking-[2px] text-xs'>Holiday</p>
                  <p className='font-primary text-xl'>${Math.round(room.price * 1.35)}</p>
                </div>
              </div>
              <div className='mt-4 p-4 bg-accent/10 rounded flex items-center justify-between text-sm'>
                <div>
                  <p className='uppercase tracking-[3px] text-xs text-primary/70'>Hourly escape</p>
                  <p className='font-primary text-2xl'>${room.pricing?.hourlyRate || Math.round(room.price * 0.25)}</p>
                </div>
                <p className='text-primary/60 text-right max-w-xs'>Perfect for day-use or spa add-ons (4-hour block).</p>
              </div>
            </div>

            <div className='space-y-6'>
              <h3 className='h3'>Guest impressions</h3>
              <div className='space-y-4'>
                {room.reviews?.length ? (
                  room.reviews.map(review => (
                    <div key={review.id} className='border border-accent/10 p-5 bg-white shadow-sm'>
                      <div className='flex justify-between items-center mb-2'>
                        <div>
                          <p className='font-semibold'>{review.userName}</p>
                          <span className='text-xs text-primary/60'>
                            {review.stayDate ||
                              (review.createdAt
                                ? new Date(review.createdAt).toLocaleDateString('vi-VN')
                                : 'Khch n danh')}
                          </span>
                        </div>
                        <div className='flex text-accent'>
                          {[...Array(5)].map((_, index) => (
                            <FaStar
                              key={index}
                              className={`${index < review.rating ? 'text-accent' : 'text-accent/20'}`}
                            />
                          ))}
                        </div>
                      </div>
                      <p className='text-primary/80 leading-relaxed'>{review.comment}</p>
                    </div>
                  ))
                ) : (
                  <p className='text-primary/70'>No reviews for this room yet.</p>
                )}
              </div>

              <div className='mt-8'>
                <h4 className='font-primary text-2xl mb-4'>Share your stay experience</h4>
                {canReview ? (
                  <form onSubmit={handleReviewSubmit} className='space-y-4'>
                    <div>
                      <label className='block text-sm font-semibold mb-2'>Rating</label>
                      <select
                        value={reviewForm.rating}
                        onChange={(e) => setReviewForm(prev => ({ ...prev, rating: Number(e.target.value) }))}
                        className='border border-accent/20 px-4 py-3 w-full focus:outline-none focus:border-accent'
                      >
                        {[5, 4, 3, 2, 1].map(score => (
                          <option key={score} value={score}>
                            {score} sao
                          </option>
                        ))}
                      </select>
                    </div>
                    <div>
                      <label className='block text-sm font-semibold mb-2'>Your thoughts</label>
                      <textarea
                        value={reviewForm.comment}
                        onChange={(e) => setReviewForm(prev => ({ ...prev, comment: e.target.value }))}
                        rows={4}
                        className='border border-accent/20 px-4 py-3 w-full focus:outline-none focus:border-accent resize-none'
                        placeholder='What delighted you the most during your stay?'
                      />
                    </div>
                    <button type='submit' className='btn btn-secondary'>
                      Submit review
                    </button>
                  </form>
                ) : (
                  <p className='text-sm text-primary/70'>
                    Sign in and complete a stay in this room to unlock review privileges.
                  </p>
                )}
              </div>
            </div>
          </div>

          <div className='w-full lg:w-[40%] h-full'>
            <div className='py-8 px-6 bg-accent/10 mb-12 shadow-lg border border-accent/20'>
              <div className='flex justify-between items-center mb-6'>
                <div>
                  <p className='text-sm text-primary/60'>Rate per night</p>
                  <p className='text-3xl font-primary text-accent'>${room.price}</p>
                </div>
                <div className='text-sm text-primary/60 text-right'>
                  <p>Up to {maxGuests} guests</p>
                  <p>{nights} night(s)  ${totalPrice}</p>
                </div>
              </div>

              <form className='space-y-4' onSubmit={handleBooking}>
                <div className='grid grid-cols-1 sm:grid-cols-2 gap-4'>
                  <div>
                    <label className='text-xs uppercase tracking-[2px] text-primary/60'>Check-in</label>
                    <input
                      type='date'
                      value={reservation.checkIn}
                      onChange={(e) => handleReservationChange('checkIn', e.target.value)}
                      className='w-full border border-white/60 px-4 py-3 focus:outline-none focus:border-accent'
                    />
                  </div>
                  <div>
                    <label className='text-xs uppercase tracking-[2px] text-primary/60'>Check-out</label>
                    <input
                      type='date'
                      value={reservation.checkOut}
                      onChange={(e) => handleReservationChange('checkOut', e.target.value)}
                      className='w-full border border-white/60 px-4 py-3 focus:outline-none focus:border-accent'
                    />
                  </div>
                </div>

                <div className='grid grid-cols-1 sm:grid-cols-2 gap-4'>
                  <div>
                    <label className='text-xs uppercase tracking-[2px] text-primary/60 mb-2 block'>Adults</label>
                    <select
                      value={reservation.adults}
                      onChange={(e) => {
                        const nextAdults = Number(e.target.value);
                        const spare = Math.max(0, maxGuests - nextAdults);
                        const nextKids = Math.min(reservation.kids, spare);
                        setReservation(prev => ({ ...prev, adults: nextAdults, kids: nextKids }));
                      }}
                      className='w-full border border-white/60 px-4 py-3 focus:outline-none focus:border-accent bg-white cursor-pointer'
                    >
                      {Array.from({ length: maxGuests }, (_, idx) => idx + 1).map(value => (
                        <option key={value} value={value}>{value} {value === 1 ? 'Adult' : 'Adults'}</option>
                      ))}
                    </select>
                  </div>
                  <div>
                    <label className='text-xs uppercase tracking-[2px] text-primary/60 mb-2 block'>Kids</label>
                    <select
                      value={reservation.kids}
                      onChange={(e) => {
                        const selectedKids = Number(e.target.value);
                        const total = reservation.adults + selectedKids;
                        if (total <= maxGuests) {
                          handleReservationChange('kids', selectedKids);
                        } else {
                          const maxKids = Math.max(0, maxGuests - reservation.adults);
                          handleReservationChange('kids', maxKids);
                          showToast({ 
                            type: 'error', 
                            message: `Maximum ${maxGuests} guests allowed. Kids adjusted to ${maxKids}.` 
                          });
                        }
                      }}
                      className='w-full border border-white/60 px-4 py-3 focus:outline-none focus:border-accent bg-white cursor-pointer'
                      disabled={reservation.adults >= maxGuests}
                    >
                      {Array.from({ length: Math.max(0, maxGuests - reservation.adults) + 1 }, (_, idx) => idx).map(value => (
                        <option key={value} value={value}>
                          {value === 0 ? 'No Kids' : `${value} ${value === 1 ? 'Kid' : 'Kids'}`}
                        </option>
                      ))}
                    </select>
                    {reservation.adults >= maxGuests && (
                      <p className='text-xs text-primary/50 mt-1'>Maximum guests reached</p>
                    )}
                  </div>
                </div>

                <div>
                  <label className='text-xs uppercase tracking-[2px] text-primary/60'>Special requests</label>
                  <textarea
                    rows={3}
                    value={reservation.note}
                    onChange={(e) => handleReservationChange('note', e.target.value)}
                    className='w-full border border-white/60 px-4 py-3 focus:outline-none focus:border-accent resize-none'
                    placeholder='E.g. birthday setup, dietary requirements...'
                  />
                </div>

                <button type='submit' className='btn btn-primary w-full uppercase tracking-[4px]'>
                  Confirm reservation
                </button>
              </form>

              {pricingPreview?.breakdown?.length > 0 && (
                <div className='mt-8 bg-white border border-accent/20 rounded'>
                  <div className='px-4 py-3 border-b border-accent/10'>
                    <p className='text-sm font-semibold text-primary'>Nightly breakdown</p>
                  </div>
                  <ul className='divide-y divide-accent/10'>
                    {pricingPreview.breakdown.map((night) => (
                      <li key={night.date} className='px-4 py-3 flex items-center justify-between text-sm'>
                        <div>
                          <p className='font-semibold'>{night.date}</p>
                          <p className='text-primary/60'>{night.label}</p>
                        </div>
                        <p className='font-primary text-lg text-accent'>${night.rate}</p>
                      </li>
                    ))}
                  </ul>
                </div>
              )}
            </div>

            <div>
              <h3 className='h3'>Hotel Rules</h3>
              <p className='mb-6 text-justify text-primary/80'>
                Familiarise yourself with the house rules to keep every stay seamless. Our concierge remains available 24/7 for any clarification.
              </p>

              <ul className='flex flex-col gap-y-4'>
                {
                  hotelRules.map(({ rules }, idx) =>
                    <li key={idx} className='flex items-center gap-x-4'>
                      <FaCheck className='text-accent' />
                      {rules}
                    </li>
                  )
                }
              </ul>
            </div>

          </div>

        </div>
      </div>

      {showQRPayment && currentBooking && (
        <QRPayment
          bookingData={currentBooking}
          onPaymentSuccess={handlePaymentSuccess}
          onClose={handleCloseQRPayment}
          type="room"
        />
      )}

      {showInvoice && currentBooking && (
        <Invoice
          booking={currentBooking}
          onClose={() => setShowInvoice(false)}
          onDownload={() => {
            showToast({ type: 'success', message: 'PDF downloaded successfully!' });
          }}
        />
      )}
    </section>
  );
};

export default RoomDetails;


=================================================================
FILE PATH (V2): src\pages\RoomsPage.jsx
=================================================================
import { BookForm, Rooms, ScrollToTop, CategoryFilter } from "../components";
import images from "../assets";
import {
  FaCrown,
  FaConciergeBell,
  FaWineGlassAlt,
  FaUmbrellaBeach,
} from "react-icons/fa";
import { useRoomContext } from "../context/RoomContext";
import { useMemo } from "react";

const highlights = [
  {
    title: "Signature Suites",
    description: "Spacious villas with private terraces and curated amenities.",
    icon: FaCrown,
  },
  {
    title: "Butler Service",
    description: "24/7 dedicated hosts ready to personalize every detail.",
    icon: FaConciergeBell,
  },
  {
    title: "Gourmet Moments",
    description:
      "In-room dining with pairing menus from our award-winning chefs.",
    icon: FaWineGlassAlt,
  },
  {
    title: "Resort Experiences",
    description:
      "Private spa rituals, yacht cruises, and sunset lounge access.",
    icon: FaUmbrellaBeach,
  },
];

const stats = [
  { label: "Suites & Villas", value: "80+" },
  { label: "Average Size", value: "120 m" },
  { label: "Guest Rating", value: "4.9/5" },
  { label: "Concierge Team", value: "24/7" },
];

const RoomsPage = () => {
  const { rooms, clearAllFilters } = useRoomContext();

  const resultText = useMemo(() => {
    if (!rooms?.length) return "No matching rooms";
    if (rooms.length === 1) return "1 room available";
    return `${rooms.length} rooms available`;
  }, [rooms]);

  return (
    <div className="min-h-screen bg-[#f7f4ef]">
      <ScrollToTop />

      <section className="relative h-[60vh] min-h-[480px] flex items-center justify-center text-center">
        <img
          src={images.Slider3}
          alt="Panoramic hotel suite"
          className="absolute inset-0 h-full w-full object-cover"
        />
        <div className="absolute inset-0 bg-black/60" />
        <div className="relative z-10 max-w-3xl px-6 text-white">
          <p className="font-tertiary uppercase tracking-[6px] text-sm mb-4">
            Adina Hotel &amp; Spa
          </p>
          <h1 className="font-primary text-4xl md:text-5xl lg:text-6xl leading-tight mb-6">
            Curated Rooms &amp; Bespoke Suites
          </h1>
          <p className="text-lg text-white/80">
            Discover sophisticated residences bathed in natural light with
            handcrafted interiors, premium linens, and immersive smart-home
            comforts.
          </p>
        </div>
      </section>

      <section className="container mx-auto px-6 lg:px-0 mt-10 relative z-20">
        <div className="bg-white shadow-2xl border border-white/60">
          <div className="bg-accent/10 px-6 py-4 flex items-center justify-between flex-wrap gap-4">
            <div>
              <p className="font-tertiary uppercase tracking-[4px] text-xs text-primary">
                Plan your stay
              </p>
              <h3 className="font-primary text-2xl">
                Availability &amp; Rates
              </h3>
            </div>
            <p className="text-sm text-primary/70 max-w-sm">
              Select your travel dates and group size to view tailor-made
              options instantly.
            </p>
          </div>
          <div className="p-4 lg:p-6 bg-white">
            <BookForm />
          </div>
        </div>
      </section>

      <section className="container mx-auto px-6 lg:px-0 py-20">
        <CategoryFilter />

        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
          {stats.map((stat) => (
            <div
              key={stat.label}
              className="bg-white shadow-sm border border-[#eadfcf] p-6"
            >
              <p className="font-tertiary uppercase tracking-[3px] text-xs text-primary/70">
                {stat.label}
              </p>
              <p className="font-primary text-4xl text-accent mt-2">
                {stat.value}
              </p>
            </div>
          ))}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {highlights.map(({ title, description, icon: Icon }) => (
            <div
              key={title}
              className="bg-white p-6 shadow-sm border border-[#eadfcf] hover:-translate-y-1 transition-transform duration-300"
            >
              <Icon className="text-accent text-3xl mb-4" />
              <h3 className="font-primary text-xl mb-2">{title}</h3>
              <p className="text-sm text-primary/70 leading-relaxed">
                {description}
              </p>
            </div>
          ))}
        </div>
      </section>

      <Rooms key={rooms?.length || 0} />
    </div>
  );
};

export default RoomsPage;


=================================================================
FILE PATH (V2): src\pages\SpaPage.jsx
=================================================================
import { useState } from 'react';
import { ScrollToTop, Toast } from '../components';
import QRPayment from '../components/QRPayment';
import Invoice from '../components/Invoice';
import { useBookingContext } from '../context/BookingContext';
import { useAuth } from '../context/AuthContext';
import images from '../assets';
import { FaSpa, FaClock, FaMapMarkerAlt, FaPhoneAlt, FaStar, FaCheck, FaLeaf, FaWater, FaHandSparkles } from 'react-icons/fa';

const spaCategories = [
  { id: 'massage', name: 'Massage Therapies', icon: FaHandSparkles },
  { id: 'facial', name: 'Facial Treatments', icon: FaSpa },
  { id: 'body', name: 'Body Treatments', icon: FaLeaf },
  { id: 'wellness', name: 'Wellness Packages', icon: FaWater },
];

// Helper function to get image for spa services
const getSpaServiceImage = (id) => {
  const imageMap = {
    1: images.Room1Img, 2: images.Room2Img, 3: images.Room3Img, 4: images.Room4Img, 5: images.Room5Img,
    6: images.Room6Img, 7: images.Room7Img, 8: images.Room8Img, 9: images.Room1ImgLg, 10: images.Room2ImgLg,
    11: images.Room3ImgLg, 12: images.Room4ImgLg, 13: images.Room5ImgLg, 14: images.Room6ImgLg,
    15: images.Room7ImgLg, 16: images.Room8ImgLg, 17: images.Slider1, 18: images.Slider2, 19: images.Slider3,
  };
  return imageMap[id] || images.Slider1;
};

const spaServices = {
  massage: [
    { id: 1, name: 'Swedish Massage', description: 'Classic relaxation massage with long, flowing strokes', duration: '60 min', price: 95, popular: true, image: getSpaServiceImage(1) },
    { id: 2, name: 'Deep Tissue Massage', description: 'Therapeutic massage targeting muscle tension and knots', duration: '90 min', price: 135, image: getSpaServiceImage(2) },
    { id: 3, name: 'Hot Stone Massage', description: 'Heated stones for deep muscle relaxation and stress relief', duration: '90 min', price: 145, popular: true, image: getSpaServiceImage(3) },
    { id: 4, name: 'Aromatherapy Massage', description: 'Essential oils combined with therapeutic massage techniques', duration: '60 min', price: 105, image: getSpaServiceImage(4) },
    { id: 5, name: 'Thai Massage', description: 'Traditional Thai stretching and acupressure techniques', duration: '90 min', price: 125, image: getSpaServiceImage(5) },
    { id: 6, name: 'Couples Massage', description: 'Side-by-side massage experience in a private suite', duration: '90 min', price: 280, image: getSpaServiceImage(6) },
  ],
  facial: [
    { id: 7, name: 'Signature Facial', description: 'Deep cleansing, exfoliation, and hydration treatment', duration: '60 min', price: 120, popular: true, image: getSpaServiceImage(7) },
    { id: 8, name: 'Anti-Aging Facial', description: 'Advanced treatment to reduce fine lines and improve elasticity', duration: '75 min', price: 165, image: getSpaServiceImage(8) },
    { id: 9, name: 'Hydrating Facial', description: 'Intensive moisture treatment for dry and dehydrated skin', duration: '60 min', price: 115, image: getSpaServiceImage(9) },
    { id: 10, name: 'Brightening Facial', description: 'Vitamin C treatment to even skin tone and reduce pigmentation', duration: '60 min', price: 130, image: getSpaServiceImage(10) },
    { id: 11, name: 'Acne Treatment', description: 'Specialized treatment for acne-prone and sensitive skin', duration: '75 min', price: 140, image: getSpaServiceImage(11) },
  ],
  body: [
    { id: 12, name: 'Body Scrub', description: 'Exfoliating treatment with natural sea salt and essential oils', duration: '60 min', price: 110, popular: true, image: getSpaServiceImage(12) },
    { id: 13, name: 'Body Wrap', description: 'Detoxifying wrap with mineral-rich mud and algae', duration: '90 min', price: 150, image: getSpaServiceImage(13) },
    { id: 14, name: 'Cellulite Treatment', description: 'Targeted treatment to reduce appearance of cellulite', duration: '75 min', price: 140, image: getSpaServiceImage(14) },
    { id: 15, name: 'Full Body Polish', description: 'Complete body exfoliation and hydration treatment', duration: '90 min', price: 160, image: getSpaServiceImage(15) },
  ],
  wellness: [
    { id: 16, name: 'Spa Day Package', description: 'Full day experience: massage, facial, body treatment, and lunch', duration: '5 hours', price: 450, popular: true, image: getSpaServiceImage(16), includes: ['Swedish Massage', 'Signature Facial', 'Body Scrub', 'Gourmet Lunch'] },
    { id: 17, name: 'Couples Retreat', description: 'Romantic package for two with couples massage and champagne', duration: '3 hours', price: 520, image: getSpaServiceImage(17), includes: ['Couples Massage', 'Side-by-side Facial', 'Champagne Service'] },
    { id: 18, name: 'Detox & Renewal', description: 'Complete detox package with body wrap, massage, and herbal tea', duration: '4 hours', price: 380, image: getSpaServiceImage(18), includes: ['Body Wrap', 'Aromatherapy Massage', 'Herbal Tea Service'] },
    { id: 19, name: 'Ultimate Relaxation', description: 'Premium package with all signature treatments and private suite', duration: '6 hours', price: 650, image: getSpaServiceImage(19), includes: ['Hot Stone Massage', 'Anti-Aging Facial', 'Full Body Polish', 'Private Suite Access'] },
  ],
};

const facilities = [
  { name: 'Steam Room', description: 'Relaxing steam therapy for detoxification' },
  { name: 'Sauna', description: 'Traditional Finnish sauna experience' },
  { name: 'Jacuzzi', description: 'Hydrotherapy pool with heated water' },
  { name: 'Relaxation Lounge', description: 'Peaceful space with herbal teas and light refreshments' },
  { name: 'Private Treatment Rooms', description: 'Elegant suites for personalized treatments' },
  { name: 'Fitness Center', description: 'State-of-the-art equipment with personal training available' },
];

const openingHours = [
  { day: 'Monday - Friday', time: '09:00 - 21:00' },
  { day: 'Saturday - Sunday', time: '08:00 - 22:00' },
  { day: 'Holidays', time: '10:00 - 20:00' },
];

const testimonials = [
  {
    name: 'Sarah Johnson',
    rating: 5,
    comment: 'The most relaxing experience I\'ve ever had. The hot stone massage was incredible!',
  },
  {
    name: 'Michael Chen',
    rating: 5,
    comment: 'The couples retreat package was perfect for our anniversary. Highly recommended!',
  },
  {
    name: 'Emma Williams',
    rating: 5,
    comment: 'The facial treatment left my skin glowing. The staff is professional and attentive.',
  },
];

const SpaPage = () => {
  const { user } = useAuth();
  const { createSpaBooking, confirmSpaBooking } = useBookingContext();
  const [activeCategory, setActiveCategory] = useState('massage');
  const [toast, setToast] = useState(null);
  const [showQRPayment, setShowQRPayment] = useState(false);
  const [showInvoice, setShowInvoice] = useState(false);
  const [currentBooking, setCurrentBooking] = useState(null);
  const [bookingForm, setBookingForm] = useState({
    name: '',
    email: '',
    phone: '',
    date: '',
    time: '',
    service: '',
    therapist: '',
    specialRequests: '',
  });

  const handleBookingSubmit = (e) => {
    e.preventDefault();
    if (!bookingForm.name || !bookingForm.email || !bookingForm.date || !bookingForm.time || !bookingForm.service) {
      setToast({
        type: 'error',
        message: 'Please fill in all required fields.',
      });
      return;
    }

    // Find service price
    const allServices = Object.values(spaServices).flat();
    const selectedService = allServices.find(s => s.name === bookingForm.service);
    const price = selectedService?.price || 100;

    const result = createSpaBooking({
      name: bookingForm.name,
      email: bookingForm.email,
      phone: bookingForm.phone,
      date: `${bookingForm.date}T${bookingForm.time}`,
      service: bookingForm.service,
      serviceName: bookingForm.service,
      therapist: bookingForm.therapist,
      specialRequests: bookingForm.specialRequests,
      userId: user?.id,
      userName: bookingForm.name,
      userEmail: bookingForm.email,
      price,
      totalPrice: price,
      duration: selectedService?.duration || '60 min',
    });

    if (result?.success) {
      setCurrentBooking(result.booking);
      setShowQRPayment(true);
    }
  };

  const handlePaymentSuccess = (paymentData) => {
    if (!currentBooking) return;
    
    const confirmedBooking = confirmSpaBooking(currentBooking.id, paymentData);
    setCurrentBooking(confirmedBooking);
    setShowQRPayment(false);
    setShowInvoice(true);
    setToast({
      type: 'success',
      message: 'Payment successful! Your appointment is confirmed.',
    });
    setBookingForm({
      name: '',
      email: '',
      phone: '',
      date: '',
      time: '',
      service: '',
      therapist: '',
      specialRequests: '',
    });
  };

  const handleCloseQRPayment = () => {
    setShowQRPayment(false);
    setCurrentBooking(null);
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setBookingForm((prev) => ({ ...prev, [name]: value }));
  };

  const handleServiceSelect = (serviceName) => {
    setBookingForm((prev) => ({ ...prev, service: serviceName }));
  };

  return (
    <div className='min-h-screen bg-[#f7f4ef]'>
      <ScrollToTop />
      {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}

      {/* Hero Section */}
      <section className='relative h-[60vh] min-h-[480px] flex items-center justify-center text-center'>
        <img
          src={images.Slider3}
          alt='Spa relaxation'
          className='absolute inset-0 h-full w-full object-cover'
        />
        <div className='absolute inset-0 bg-black/60' />
        <div className='relative z-10 max-w-3xl px-6 text-white'>
          <p className='font-tertiary uppercase tracking-[6px] text-sm mb-4'>
            Adina Hotel &amp; Spa
          </p>
          <h1 className='font-primary text-4xl md:text-5xl lg:text-6xl leading-tight mb-6'>
            Sanctuary of Wellness
          </h1>
          <p className='text-lg text-white/80'>
            Rejuvenate your mind, body, and soul with our world-class spa treatments and holistic wellness experiences.
          </p>
        </div>
      </section>

      {/* Services Section */}
      <section className='container mx-auto px-6 lg:px-0 py-20'>
        <div className='text-center mb-12'>
          <p className='font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2'>
            Our Services
          </p>
          <h2 className='font-primary text-4xl mb-4'>Spa Treatments</h2>
          <p className='text-primary/70 max-w-2xl mx-auto'>
            Indulge in our curated selection of therapeutic treatments designed to restore balance and promote well-being.
          </p>
        </div>

        {/* Category Tabs */}
        <div className='flex flex-wrap justify-center gap-4 mb-12'>
          {spaCategories.map((category) => {
            const Icon = category.icon;
            return (
              <button
                key={category.id}
                onClick={() => setActiveCategory(category.id)}
                className={`flex items-center gap-2 px-6 py-3 border rounded-full transition ${
                  activeCategory === category.id
                    ? 'bg-accent text-white border-accent'
                    : 'border-[#eadfcf] text-primary hover:border-accent'
                }`}
              >
                <Icon />
                <span>{category.name}</span>
              </button>
            );
          })}
        </div>

        {/* Services Grid */}
        <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'>
          {spaServices[activeCategory].map((service) => (
            <div
              key={service.id}
              className='bg-white shadow-sm border border-[#eadfcf] hover:shadow-lg transition-shadow cursor-pointer overflow-hidden'
              onClick={() => handleServiceSelect(service.name)}
            >
              <div className='relative h-48 overflow-hidden'>
                <img
                  src={service.image}
                  alt={service.name}
                  className='w-full h-full object-cover hover:scale-110 transition-transform duration-300'
                />
                {service.popular && (
                  <span className='absolute top-3 right-3 flex items-center gap-1 bg-accent text-white px-3 py-1 rounded-full text-xs'>
                    <FaStar />
                    <span>Popular</span>
                  </span>
                )}
              </div>
              <div className='p-6'>
                <h3 className='font-primary text-xl mb-2'>{service.name}</h3>
                <p className='text-sm text-primary/70 mb-3'>{service.description}</p>
                {service.includes && (
                  <div className='mb-3'>
                    <p className='text-xs font-semibold text-primary/60 mb-1'>Includes:</p>
                    <ul className='text-xs text-primary/70 space-y-1'>
                      {service.includes.map((item, idx) => (
                        <li key={idx} className='flex items-center gap-1'>
                          <FaCheck className='text-accent text-[10px]' />
                          <span>{item}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
                <div className='flex items-center justify-between'>
                  <span className='text-sm text-primary/60'>{service.duration}</span>
                  <p className='font-primary text-2xl text-accent'>${service.price}</p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </section>

      {/* Facilities Section */}
      <section className='bg-white py-20'>
        <div className='container mx-auto px-6 lg:px-0'>
          <div className='text-center mb-12'>
            <p className='font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2'>
              Our Facilities
            </p>
            <h2 className='font-primary text-4xl mb-4'>Wellness Amenities</h2>
          </div>

          <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'>
            {facilities.map((facility, index) => {
              const facilityImages = [images.Room1Img, images.Room2Img, images.Room3Img, images.Room4Img, images.Room5Img, images.Room6Img];
              return (
                <div
                  key={index}
                  className='bg-[#f7f4ef] border border-[#eadfcf] hover:shadow-lg transition-shadow overflow-hidden'
                >
                  <div className='relative h-40 overflow-hidden'>
                    <img
                      src={facilityImages[index % facilityImages.length]}
                      alt={facility.name}
                      className='w-full h-full object-cover hover:scale-110 transition-transform duration-300'
                    />
                  </div>
                  <div className='p-6'>
                    <h3 className='font-primary text-xl mb-2'>{facility.name}</h3>
                    <p className='text-sm text-primary/70'>{facility.description}</p>
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      </section>

      {/* Booking Section */}
      <section className='container mx-auto px-6 lg:px-0 py-20'>
        <div className='grid grid-cols-1 lg:grid-cols-2 gap-12'>
          {/* Booking Form */}
          <div className='bg-white p-8 shadow-sm border border-[#eadfcf]'>
            <p className='font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2'>
              Book Your Treatment
            </p>
            <h2 className='font-primary text-3xl mb-6'>Schedule an Appointment</h2>
            <form onSubmit={handleBookingSubmit} className='space-y-5'>
              <div className='grid grid-cols-1 md:grid-cols-2 gap-5'>
                <div>
                  <label className='block text-sm font-semibold mb-2'>Full Name *</label>
                  <input
                    type='text'
                    name='name'
                    value={bookingForm.name}
                    onChange={handleInputChange}
                    className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                    placeholder='John Carter'
                    required
                  />
                </div>
                <div>
                  <label className='block text-sm font-semibold mb-2'>Email *</label>
                  <input
                    type='email'
                    name='email'
                    value={bookingForm.email}
                    onChange={handleInputChange}
                    className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                    placeholder='john@example.com'
                    required
                  />
                </div>
              </div>

              <div className='grid grid-cols-1 md:grid-cols-2 gap-5'>
                <div>
                  <label className='block text-sm font-semibold mb-2'>Phone *</label>
                  <input
                    type='tel'
                    name='phone'
                    value={bookingForm.phone}
                    onChange={handleInputChange}
                    className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                    placeholder='+84 987 654 321'
                    required
                  />
                </div>
                <div>
                  <label className='block text-sm font-semibold mb-2'>Preferred Therapist</label>
                  <select
                    name='therapist'
                    value={bookingForm.therapist}
                    onChange={handleInputChange}
                    className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent bg-white'
                  >
                    <option value=''>No preference</option>
                    <option value='Sarah'>Sarah - Massage Specialist</option>
                    <option value='Emma'>Emma - Facial Expert</option>
                    <option value='Michael'>Michael - Body Treatment Specialist</option>
                  </select>
                </div>
              </div>

              <div>
                <label className='block text-sm font-semibold mb-2'>Service *</label>
                <input
                  type='text'
                  name='service'
                  value={bookingForm.service}
                  onChange={handleInputChange}
                  className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                  placeholder='Select a service from above or type here'
                  required
                />
                <p className='text-xs text-primary/60 mt-1'>Click on a service card above to auto-fill</p>
              </div>

              <div className='grid grid-cols-1 md:grid-cols-2 gap-5'>
                <div>
                  <label className='block text-sm font-semibold mb-2'>Date *</label>
                  <input
                    type='date'
                    name='date'
                    value={bookingForm.date}
                    onChange={handleInputChange}
                    min={new Date().toISOString().split('T')[0]}
                    className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                    required
                  />
                </div>
                <div>
                  <label className='block text-sm font-semibold mb-2'>Time *</label>
                  <input
                    type='time'
                    name='time'
                    value={bookingForm.time}
                    onChange={handleInputChange}
                    className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                    required
                  />
                </div>
              </div>

              <div>
                <label className='block text-sm font-semibold mb-2'>Special Requests</label>
                <textarea
                  name='specialRequests'
                  value={bookingForm.specialRequests}
                  onChange={handleInputChange}
                  rows={3}
                  className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent resize-none'
                  placeholder='Allergies, pressure preference, etc.'
                />
              </div>

              <button type='submit' className='btn btn-primary w-full uppercase tracking-[4px]'>
                Book Appointment
              </button>
            </form>
          </div>

          {/* Spa Info */}
          <div className='space-y-8'>
            <div className='bg-white p-8 shadow-sm border border-[#eadfcf]'>
              <h3 className='font-primary text-2xl mb-6'>Opening Hours</h3>
              <div className='space-y-4'>
                {openingHours.map((schedule, index) => (
                  <div key={index} className='flex items-center justify-between pb-4 border-b border-[#eadfcf] last:border-0'>
                    <div className='flex items-center gap-3'>
                      <FaClock className='text-accent' />
                      <span className='font-semibold'>{schedule.day}</span>
                    </div>
                    <span className='text-primary/70'>{schedule.time}</span>
                  </div>
                ))}
              </div>
            </div>

            <div className='bg-white p-8 shadow-sm border border-[#eadfcf]'>
              <h3 className='font-primary text-2xl mb-6'>Contact Information</h3>
              <div className='space-y-4'>
                <div className='flex items-start gap-4'>
                  <FaMapMarkerAlt className='text-accent mt-1' />
                  <div>
                    <p className='font-semibold'>Location</p>
                    <p className='text-primary/70'>12 Tran Hung Dao, Hoan Kiem, Ha Noi</p>
                  </div>
                </div>
                <div className='flex items-start gap-4'>
                  <FaPhoneAlt className='text-accent mt-1' />
                  <div>
                    <p className='font-semibold'>Reservations</p>
                    <p className='text-primary/70'>+84 24 1234 5678</p>
                  </div>
                </div>
                <div className='flex items-start gap-4'>
                  <FaSpa className='text-accent mt-1' />
                  <div>
                    <p className='font-semibold'>Email</p>
                    <p className='text-primary/70'>spa@adinahotel.com</p>
                  </div>
                </div>
              </div>
            </div>

            <div className='bg-accent/10 p-8 border border-accent/20'>
              <h3 className='font-primary text-xl mb-3'>What to Expect</h3>
              <ul className='space-y-2 text-sm text-primary/70'>
                <li className='flex items-start gap-2'>
                  <FaCheck className='text-accent mt-1' />
                  <span>Arrive 15 minutes early for check-in</span>
                </li>
                <li className='flex items-start gap-2'>
                  <FaCheck className='text-accent mt-1' />
                  <span>Complimentary robe and slippers provided</span>
                </li>
                <li className='flex items-start gap-2'>
                  <FaCheck className='text-accent mt-1' />
                  <span>Silence your phone for a peaceful experience</span>
                </li>
                <li className='flex items-start gap-2'>
                  <FaCheck className='text-accent mt-1' />
                  <span>Hydrate before and after treatments</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      {/* Testimonials Section */}
      <section className='bg-white py-20'>
        <div className='container mx-auto px-6 lg:px-0'>
          <div className='text-center mb-12'>
            <p className='font-tertiary uppercase tracking-[4px] text-xs text-primary/70 mb-2'>
              Guest Reviews
            </p>
            <h2 className='font-primary text-4xl mb-4'>What Our Guests Say</h2>
          </div>

          <div className='grid grid-cols-1 md:grid-cols-3 gap-8'>
            {testimonials.map((testimonial, index) => (
              <div key={index} className='bg-[#f7f4ef] p-6 border border-[#eadfcf]'>
                <div className='flex items-center gap-1 mb-3'>
                  {[...Array(testimonial.rating)].map((_, i) => (
                    <FaStar key={i} className='text-accent' />
                  ))}
                </div>
                <p className='text-primary/70 mb-4 italic'>&quot;{testimonial.comment}&quot;</p>
                <p className='font-semibold text-primary'>{testimonial.name}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {showQRPayment && currentBooking && (
        <QRPayment
          bookingData={currentBooking}
          onPaymentSuccess={handlePaymentSuccess}
          onClose={handleCloseQRPayment}
          type="spa"
        />
      )}

      {showInvoice && currentBooking && (
        <Invoice
          booking={currentBooking}
          onClose={() => setShowInvoice(false)}
          onDownload={() => {
            setToast({ type: 'success', message: 'PDF downloaded successfully!' });
          }}
        />
      )}
    </div>
  );
};

export default SpaPage;



=================================================================
FILE PATH (V2): src\pages\UserDashboard.jsx
=================================================================
import { useMemo, useState, useEffect } from 'react';
import { useAuth } from '../context/AuthContext';
import { useRoomContext } from '../context/RoomContext';
import { Link } from 'react-router-dom';
import DatePicker from 'react-datepicker';
import 'react-datepicker/dist/react-datepicker.css';
import Toast from '../components/Toast';
import { FaSuitcaseRolling, FaCalendarAlt, FaUserCircle, FaCamera, FaEdit, FaTimes } from 'react-icons/fa';
import { LogoDark } from '../assets';

const tabs = [
  { id: 'overview', label: 'Overview' },
  { id: 'bookings', label: 'Bookings' },
  { id: 'profile', label: 'Profile & Preferences' },
];

const bookingFilterOptions = [
  { id: 'upcoming', label: 'Upcoming' },
  { id: 'past', label: 'Past' },
  { id: 'cancelled', label: 'Cancelled' },
];

const statusBadgeClasses = {
  confirmed: 'bg-emerald-100 text-emerald-700',
  modified: 'bg-sky-100 text-sky-700',
  completed: 'bg-gray-100 text-gray-600',
  cancelled: 'bg-red-100 text-red-600',
};

const UserDashboard = () => {
  const { user, updateUserProfile } = useAuth();
  const {
    getUserBookings,
    cancelBooking,
    modifyBookingDates,
  } = useRoomContext();

  const [activeTab, setActiveTab] = useState('overview');
  const [bookingFilter, setBookingFilter] = useState('upcoming');
  const [toast, setToast] = useState(null);
  const [modalState, setModalState] = useState({ type: null, booking: null });
  const [rescheduleDates, setRescheduleDates] = useState({ checkIn: null, checkOut: null });
  const [profileForm, setProfileForm] = useState({
    name: '',
    phone: '',
    country: '',
    city: '',
    language: 'en',
    bio: '',
    newsletter: true,
  });

  useEffect(() => {
    if (user) {
      setProfileForm({
        name: user.name || '',
        phone: user.phone || '',
        country: user.country || '',
        city: user.city || '',
        language: user.language || 'en',
        bio: user.bio || '',
        newsletter: user.newsletter !== undefined ? user.newsletter : true,
      });
    }
  }, [user]);

  const userBookings = useMemo(() => getUserBookings(user?.id || ''), [getUserBookings, user]);

  const categorized = useMemo(() => {
    const data = {
      upcoming: [],
      past: [],
      cancelled: [],
    };
    const now = new Date();
    userBookings.forEach((booking) => {
      if (booking.status === 'cancelled') {
        data.cancelled.push(booking);
      } else if (new Date(booking.checkOut) < now) {
        data.past.push(booking);
      } else {
        data.upcoming.push(booking);
      }
    });
    return data;
  }, [userBookings]);

  const filteredBookings = categorized[bookingFilter] || [];

  const nextBooking = useMemo(() => {
    return categorized.upcoming
      .slice()
      .sort((a, b) => new Date(a.checkIn) - new Date(b.checkIn))[0];
  }, [categorized.upcoming]);

  const loyaltyNights = useMemo(() => {
    return userBookings.reduce((total, booking) => {
      if (booking.status === 'cancelled') return total;
      return total + (booking.totalNights || 0);
    }, 0);
  }, [userBookings]);

  const showToast = (payload) => {
    setToast(payload);
    setTimeout(() => setToast(null), 4000);
  };

  const handleCancelBooking = (booking) => {
    cancelBooking(booking.id);
    showToast({ type: 'info', message: `Booking ${booking.confirmationCode} was cancelled.` });
    setModalState({ type: null, booking: null });
  };

  const handleModifyBooking = (booking, newCheckIn, newCheckOut) => {
    if (!newCheckIn || !newCheckOut) {
      showToast({ type: 'error', message: 'Please choose both dates.' });
      return;
    }
    try {
      modifyBookingDates(booking.id, { checkIn: newCheckIn, checkOut: newCheckOut });
      showToast({ type: 'success', message: 'Booking updated successfully!' });
      setModalState({ type: null, booking: null });
    } catch (error) {
      showToast({ type: 'error', message: error.message || 'Unable to reschedule booking.' });
    }
  };

  const handleAvatarChange = (event) => {
    const file = event.target.files?.[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onloadend = () => {
      updateUserProfile({ avatar: reader.result });
      showToast({ type: 'success', message: 'Profile photo updated.' });
    };
    reader.readAsDataURL(file);
  };

  const handleProfileSubmit = (e) => {
    e.preventDefault();
    updateUserProfile(profileForm);
    showToast({ type: 'success', message: 'Profile updated successfully!' });
  };

  const bookingIsEditable = (booking) => new Date(booking.checkIn) > new Date() && booking.status !== 'cancelled';

  const perks = [
    { label: 'Late checkout', detail: 'Complimentary 1-hour grace period on availability' },
    { label: 'Spa credit', detail: '$25 spa credit for every 5 nights stayed' },
    { label: 'Concierge chat', detail: 'Direct WhatsApp line for bespoke planning' },
  ];

  const renderOverview = () => (
    <div className='space-y-8'>
      <div className='bg-gradient-to-r from-[#f1d7b1] via-[#f7f4ef] to-[#e7d8c2] rounded-2xl p-6 text-primary shadow-lg border border-white/60 flex flex-col md:flex-row md:items-center md:justify-between gap-6'>
        <div>
          <p className='uppercase tracking-[6px] text-xs text-primary/70'>Welcome back</p>
          <h3 className='font-primary text-3xl mb-2'>Your private Maison awaits, {user.name?.split(' ')[0] || 'guest'}</h3>
          <p className='text-sm text-primary/70 max-w-xl'>
            Track upcoming retreats, earn loyalty nights, and curate personal details for a seamless arrival. Our concierge is on standby 24/7.
          </p>
        </div>
        <div className='bg-white/80 rounded-xl p-4 w-full md:w-auto min-w-[220px]'>
          <p className='uppercase text-xs tracking-[3px] text-primary/60 mb-1'>Loyalty tier</p>
          <p className='font-primary text-2xl'>Golden Orchid</p>
          <p className='text-sm text-primary/70'>Next upgrade in {Math.max(0, 10 - loyaltyNights)} nights</p>
        </div>
      </div>

      <div className='grid sm:grid-cols-3 gap-6'>
        <div className='bg-white/90 p-6 border border-[#eadfcf] rounded shadow-md'>
          <p className='uppercase tracking-[3px] text-xs text-primary/60'>Upcoming stays</p>
          <p className='text-4xl font-primary mt-2'>{categorized.upcoming.length}</p>
        </div>
        <div className='bg-white/90 p-6 border border-[#eadfcf] rounded shadow-md'>
          <p className='uppercase tracking-[3px] text-xs text-primary/60'>Completed stays</p>
          <p className='text-4xl font-primary mt-2'>{categorized.past.length}</p>
        </div>
        <div className='bg-white/90 p-6 border border-[#eadfcf] rounded shadow-md'>
          <p className='uppercase tracking-[3px] text-xs text-primary/60'>Loyalty nights</p>
          <p className='text-4xl font-primary mt-2'>{loyaltyNights}</p>
        </div>
      </div>

      <div className='grid lg:grid-cols-3 gap-6'>
        <div className='lg:col-span-2 bg-white/95 border border-[#eadfcf] rounded-2xl p-6 shadow-md'>
          <div className='flex items-center justify-between mb-4'>
            <h4 className='font-primary text-2xl'>Next reservation</h4>
            <Link to='/rooms' className='text-accent hover:underline text-sm'>Book another stay</Link>
          </div>
          {nextBooking ? (
            <div className='flex flex-col md:flex-row md:items-center md:justify-between gap-4'>
              <div>
                <p className='font-semibold text-lg'>{nextBooking.roomName}</p>
                <p className='text-primary/70 text-sm flex items-center gap-2'>
                  <FaCalendarAlt />
                  {nextBooking.checkIn}  {nextBooking.checkOut}
                </p>
              </div>
              <div className='flex items-center gap-3 flex-wrap'>
                <span className={`px-3 py-1 rounded-full text-xs ${statusBadgeClasses[nextBooking.status] || 'bg-gray-100 text-gray-600'}`}>
                  {nextBooking.status}
                </span>
                <button
                  onClick={() => setActiveTab('bookings')}
                  className='btn btn-secondary btn-sm'
                >
                  Manage booking
                </button>
              </div>
            </div>
          ) : (
            <div className='text-primary/70 text-sm'>
              No upcoming stay yet. Start planning your next visit!
            </div>
          )}
        </div>

        <div className='bg-white/95 border border-[#eadfcf] rounded-2xl p-6 shadow-md'>
          <p className='uppercase tracking-[3px] text-xs text-primary/60 mb-4'>Concierge perks</p>
          <ul className='space-y-4 text-sm'>
            {perks.map((perk) => (
              <li key={perk.label} className='border-l-4 border-accent pl-3'>
                <p className='font-semibold text-primary'>{perk.label}</p>
                <p className='text-primary/70'>{perk.detail}</p>
              </li>
            ))}
          </ul>
        </div>
      </div>
    </div>
  );

  const renderBookings = () => (
    <div className='space-y-6'>
      <div className='flex flex-wrap items-center gap-3'>
        {bookingFilterOptions.map((option) => (
          <button
            key={option.id}
            onClick={() => setBookingFilter(option.id)}
            className={`px-4 py-2 rounded-full text-sm border transition ${
              bookingFilter === option.id ? 'bg-primary text-white border-primary' : 'border-[#eadfcf] text-primary'
            }`}
          >
            {option.label}
          </button>
        ))}
      </div>

      {filteredBookings.length === 0 ? (
        <div className='bg-white border border-[#eadfcf] rounded p-8 text-center text-primary/70'>
          No bookings in this segment yet.
        </div>
      ) : (
        <div className='space-y-4'>
          {filteredBookings.map((booking) => (
            <div key={booking.id} className='bg-white border border-[#eadfcf] rounded p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4'>
              <div>
                <p className='font-semibold text-lg'>{booking.roomName}</p>
                <p className='text-sm text-primary/70 flex items-center gap-2'>
                  <FaCalendarAlt />
                  {booking.checkIn}  {booking.checkOut}
                </p>
                <p className='text-sm text-primary/70'>Guests: {booking.adults} adult(s){booking.kids ? `, ${booking.kids} kid(s)` : ''}</p>
              </div>
              <div className='flex items-center gap-3 flex-wrap'>
                <span className={`px-3 py-1 rounded-full text-xs ${statusBadgeClasses[booking.status] || 'bg-gray-100 text-gray-600'}`}>
                  {booking.status}
                </span>
                <p className='font-semibold text-accent'>${booking.totalPrice}</p>
                {bookingIsEditable(booking) && (
                  <>
                    <button
                      onClick={() => {
                        setRescheduleDates({
                          checkIn: booking.checkIn ? new Date(booking.checkIn) : new Date(),
                          checkOut: booking.checkOut ? new Date(booking.checkOut) : new Date(new Date().getTime() + 24 * 60 * 60 * 1000),
                        });
                        setModalState({ type: 'modify', booking });
                      }}
                      className='btn btn-secondary btn-sm flex items-center gap-2'
                    >
                      <FaEdit /> Modify
                    </button>
                    <button
                      onClick={() => setModalState({ type: 'cancel', booking })}
                      className='btn btn-primary btn-sm flex items-center gap-2 bg-red-500 hover:bg-red-600 border-red-500'
                    >
                      <FaTimes /> Cancel
                    </button>
                  </>
                )}
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );

  const renderProfile = () => (
    <form className='space-y-6' onSubmit={handleProfileSubmit}>
      <div className='grid md:grid-cols-2 gap-6'>
        <div>
          <label className='block text-sm font-semibold mb-2'>Full name</label>
          <input
            type='text'
            value={profileForm.name}
            onChange={(e) => setProfileForm({ ...profileForm, name: e.target.value })}
            className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
          />
        </div>
        <div>
          <label className='block text-sm font-semibold mb-2'>Phone</label>
          <input
            type='tel'
            value={profileForm.phone}
            onChange={(e) => setProfileForm({ ...profileForm, phone: e.target.value })}
            className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
          />
        </div>
      </div>

      <div className='grid md:grid-cols-2 gap-6'>
        <div>
          <label className='block text-sm font-semibold mb-2'>Country</label>
          <input
            type='text'
            value={profileForm.country}
            onChange={(e) => setProfileForm({ ...profileForm, country: e.target.value })}
            className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
          />
        </div>
        <div>
          <label className='block text-sm font-semibold mb-2'>City</label>
          <input
            type='text'
            value={profileForm.city}
            onChange={(e) => setProfileForm({ ...profileForm, city: e.target.value })}
            className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
          />
        </div>
      </div>

      <div>
        <label className='block text-sm font-semibold mb-2'>Preferred language</label>
        <select
          value={profileForm.language}
          onChange={(e) => setProfileForm({ ...profileForm, language: e.target.value })}
          className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent bg-white'
        >
          <option value='en'>English</option>
          <option value='vi'>Vietnamese</option>
          <option value='fr'>French</option>
        </select>
      </div>

      <div>
        <label className='block text-sm font-semibold mb-2'>Short bio</label>
        <textarea
          rows={4}
          value={profileForm.bio}
          onChange={(e) => setProfileForm({ ...profileForm, bio: e.target.value })}
          className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent resize-none'
          placeholder='Tell us about your travel preferences...'
        />
      </div>

      <div className='flex items-center gap-3'>
        <input
          id='newsletter'
          type='checkbox'
          checked={profileForm.newsletter}
          onChange={(e) => setProfileForm({ ...profileForm, newsletter: e.target.checked })}
          className='w-4 h-4 accent-accent'
        />
        <label htmlFor='newsletter' className='text-sm text-primary/70'>
          Receive curated offers and member-only experiences.
        </label>
      </div>

      <button type='submit' className='btn btn-primary'>
        Save profile
      </button>
    </form>
  );

  const renderModal = () => {
    if (!modalState.type || !modalState.booking) return null;

    if (modalState.type === 'cancel') {
      return (
        <div className='fixed inset-0 bg-black/60 flex items-center justify-center z-40 p-4'>
          <div className='bg-white rounded-lg shadow-xl max-w-md w-full p-6 space-y-4'>
            <h3 className='font-primary text-2xl'>Cancel booking?</h3>
            <p className='text-primary/70 text-sm'>
              You are about to cancel reservation {modalState.booking.confirmationCode}. This action cannot be undone.
            </p>
            <div className='flex gap-4'>
              <button className='btn btn-secondary flex-1' onClick={() => setModalState({ type: null, booking: null })}>
                Keep booking
              </button>
              <button
                className='btn btn-primary flex-1 bg-red-500 border-red-500 hover:bg-red-600'
                onClick={() => handleCancelBooking(modalState.booking)}
              >
                Cancel stay
              </button>
            </div>
          </div>
        </div>
      );
    }

    if (modalState.type === 'modify') {
      return (
        <div className='fixed inset-0 bg-black/60 flex items-center justify-center z-40 p-4'>
          <div className='bg-white rounded-lg shadow-xl max-w-lg w-full p-6 space-y-4'>
            <h3 className='font-primary text-2xl'>Reschedule booking</h3>
            <p className='text-primary/70 text-sm'>
              Update stay for {modalState.booking.roomName}
            </p>
            <div className='grid grid-cols-1 md:grid-cols-2 gap-4'>
              <div>
                <p className='text-xs uppercase tracking-[2px] text-primary/60 mb-1'>New check-in</p>
                <DatePicker
                  selected={rescheduleDates.checkIn}
                  onChange={(date) => setRescheduleDates(prev => ({ ...prev, checkIn: date }))}
                  minDate={new Date()}
                  className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                />
              </div>
              <div>
                <p className='text-xs uppercase tracking-[2px] text-primary/60 mb-1'>New check-out</p>
                <DatePicker
                  selected={rescheduleDates.checkOut}
                  onChange={(date) => setRescheduleDates(prev => ({ ...prev, checkOut: date }))}
                  minDate={rescheduleDates.checkIn ? new Date(rescheduleDates.checkIn.getTime() + 24 * 60 * 60 * 1000) : new Date()}
                  className='w-full border border-[#eadfcf] px-4 py-3 focus:outline-none focus:border-accent'
                />
              </div>
            </div>
            <div className='flex gap-4'>
              <button className='btn btn-secondary flex-1' onClick={() => setModalState({ type: null, booking: null })}>
                Go back
              </button>
              <button
                className='btn btn-primary flex-1'
                onClick={() => handleModifyBooking(modalState.booking, rescheduleDates.checkIn, rescheduleDates.checkOut)}
              >
                Save changes
              </button>
            </div>
          </div>
        </div>
      );
    }

    return null;
  };

  if (!user) {
    return (
      <div className='min-h-screen flex items-center justify-center'>
        <p className='text-primary/70'>Please sign in to access your dashboard.</p>
      </div>
    );
  }

  return (
    <div className='min-h-screen py-12 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.94),_rgba(247,244,239,0.98))]'>
      <div className='container mx-auto px-6 lg:px-0'>
        <LogoDark className='w-40 mx-auto mb-10 opacity-80' />
        <div className='grid lg:grid-cols-4 gap-8'>
          <aside className='bg-white/95 backdrop-blur-sm border border-[#eadfcf] rounded-2xl p-6 shadow-xl'>
            <div className='text-center mb-8'>
              <div className='relative inline-block'>
                <div className='w-28 h-28 rounded-full border-4 border-accent/20 overflow-hidden bg-primary/5 flex items-center justify-center'>
                  {user.avatar ? (
                    <img src={user.avatar} alt={user.name} className='w-full h-full object-cover' />
                  ) : (
                    <FaUserCircle className='text-8xl text-primary/30' />
                  )}
                </div>
                <label className='absolute bottom-0 right-0 bg-accent text-white p-2 rounded-full cursor-pointer shadow-lg'>
                  <FaCamera />
                  <input type='file' accept='image/*' className='hidden' onChange={handleAvatarChange} />
                </label>
              </div>
              <h2 className='font-primary text-2xl mt-4'>{user.name}</h2>
              <p className='text-primary/70 text-sm'>{user.email}</p>
            </div>

            <nav className='space-y-2'>
              {tabs.map((tab) => (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`w-full text-left px-4 py-3 rounded-lg transition ${
                    activeTab === tab.id ? 'bg-primary text-white' : 'bg-[#f7f4ef] text-primary'
                  }`}
                >
                  {tab.label}
                </button>
              ))}
            </nav>

            <div className='mt-8 space-y-4'>
              <Link to='/rooms' className='btn btn-secondary w-full flex items-center justify-center gap-2'>
                <FaSuitcaseRolling /> Book a room
              </Link>
              <Link to='/' className='text-sm text-primary/70 hover:text-primary text-center block'>
                Back to homepage
              </Link>
            </div>
          </aside>

          <main className='lg:col-span-3 bg-white/95 backdrop-blur-sm border border-[#eadfcf] rounded-2xl p-6 shadow-xl'>
            {activeTab === 'overview' && renderOverview()}
            {activeTab === 'bookings' && renderBookings()}
            {activeTab === 'profile' && renderProfile()}
          </main>
        </div>
      </div>

      {renderModal()}
      {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}
    </div>
  );
};

export default UserDashboard;



=================================================================
FILE PATH (V2): src\style\chatbox.css
=================================================================
/* ChatBox Custom Animations & Styles */

/* Fade in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    transform: translateX(20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes scaleBounce {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes typingDots {
  0%,
  60%,
  100% {
    opacity: 0.3;
  }
  30% {
    opacity: 1;
  }
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

/* Apply animations */
.animate-fade-in {
  animation: fadeIn 0.4s ease-in-out;
}

.animate-slide-up {
  animation: slideUp 0.5s ease-out;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out;
}

.animate-scale-bounce {
  animation: scaleBounce 2s ease-in-out infinite;
}

.animate-typing {
  animation: typingDots 1.4s infinite;
}

.animate-pulse-custom {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-shimmer {
  animation: shimmer 2s infinite;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.2) 20%,
    rgba(255, 255, 255, 0) 40%,
    rgba(255, 255, 255, 0) 100%
  );
  background-size: 1000px 100%;
}

/* ChatBox specific styles */
.chatbox-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  border-radius: 1.5rem;
  overflow: hidden;
}

.chatbox-header {
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  color: white;
  padding: 1.5rem;
  flex-shrink: 0;
}

.chatbox-body {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  background: linear-gradient(180deg, #f0f4ff 0%, #f9fafb 100%);
  scroll-behavior: smooth;
}

.chatbox-body::-webkit-scrollbar {
  width: 6px;
}

.chatbox-body::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 10px;
}

.chatbox-body::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 10px;
}

.chatbox-body::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

.chatbox-footer {
  padding: 1rem;
  background: white;
  border-top: 1px solid #e5e7eb;
  flex-shrink: 0;
}

.chat-message {
  margin-bottom: 1rem;
  display: flex;
  animation: slideUp 0.3s ease-out;
}

.chat-message.user {
  justify-content: flex-end;
}

.chat-message.ai {
  justify-content: flex-start;
}

.chat-bubble {
  max-width: 85%;
  padding: 0.75rem 1rem;
  border-radius: 1rem;
  word-wrap: break-word;
  line-height: 1.5;
}

.chat-bubble.user {
  background: #2563eb;
  color: white;
  border-bottom-right-radius: 0.25rem;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);
}

.chat-bubble.ai {
  background: #f3f4f6;
  color: #1f2937;
  border: 1px solid #e5e7eb;
  border-bottom-left-radius: 0.25rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.chat-bubble.ai:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.quick-reply-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  margin: 0.25rem;
  background: #dbeafe;
  color: #1e40af;
  border: 1px solid #93c5fd;
  border-radius: 9999px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.quick-reply-button:hover {
  background: #bfdbfe;
  border-color: #60a5fa;
  transform: scale(1.05);
}

.quick-reply-button:active {
  transform: scale(0.95);
}

.room-card {
  display: flex;
  gap: 0.75rem;
  padding: 0.75rem;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  background: white;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: 0.5rem;
}

.room-card:hover {
  background: #f0f4ff;
  border-color: #93c5fd;
  transform: translateX(2px);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
}

.room-card-image {
  width: 5rem;
  height: 5rem;
  border-radius: 0.5rem;
  object-fit: cover;
  flex-shrink: 0;
}

.room-card-content {
  flex: 1;
}

.room-card-name {
  font-weight: 600;
  font-size: 0.875rem;
  color: #111827;
  margin-bottom: 0.25rem;
}

.room-card-details {
  font-size: 0.75rem;
  color: #6b7280;
  margin-bottom: 0.5rem;
}

.room-card-price {
  font-size: 0.875rem;
  font-weight: 700;
  color: #2563eb;
}

.input-group {
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
}

.chat-input {
  flex: 1;
  padding: 0.5rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 9999px;
  font-size: 0.875rem;
  outline: none;
  transition: all 0.2s ease;
}

.chat-input:focus {
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.send-button {
  padding: 0.5rem 1rem;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 9999px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.send-button:hover {
  background: #1d4ed8;
  transform: scale(1.05);
}

.send-button:active {
  transform: scale(0.95);
}

.typing-indicator {
  display: flex;
  gap: 0.25rem;
  align-items: center;
  padding: 0.75rem 1rem;
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  border-radius: 1rem;
  border-bottom-left-radius: 0.25rem;
  width: fit-content;
}

.typing-dot {
  width: 0.5rem;
  height: 0.5rem;
  background: #9ca3af;
  border-radius: 50%;
  animation: typingDots 1.4s infinite;
}

.typing-dot:nth-child(1) {
  animation-delay: 0ms;
}

.typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.typing-dot:nth-child(3) {
  animation-delay: 0.4s;
}

.form-group {
  margin-bottom: 1rem;
}

.form-label {
  display: block;
  font-size: 0.75rem;
  font-weight: 600;
  color: #4b5563;
  margin-bottom: 0.25rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.form-input {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  transition: all 0.2s ease;
  box-sizing: border-box;
}

.form-input:focus {
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  outline: none;
}

.form-textarea {
  resize: none;
  min-height: 3rem;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.75rem;
}

.form-grid.full {
  grid-template-columns: 1fr;
}

.button-primary {
  width: 100%;
  padding: 0.75rem 1rem;
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.button-primary:hover {
  transform: scale(1.02);
  box-shadow: 0 8px 16px rgba(37, 99, 235, 0.3);
}

.button-primary:active {
  transform: scale(0.98);
}

.button-success {
  background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
}

.button-success:hover {
  box-shadow: 0 8px 16px rgba(22, 163, 74, 0.3);
}

.info-box {
  padding: 0.75rem;
  background: #dbeafe;
  border: 1px solid #93c5fd;
  border-radius: 0.5rem;
  font-size: 0.75rem;
  color: #1e3a8a;
}

.info-box.success {
  background: #dcfce7;
  border-color: #86efac;
  color: #15803d;
}

.info-box.error {
  background: #fee2e2;
  border-color: #fca5a5;
  color: #7f1d1d;
}

.info-box.warning {
  background: #fef3c7;
  border-color: #fde68a;
  color: #78350f;
}

/* Responsive */
@media (max-width: 640px) {
  .chatbox-container {
    border-radius: 0;
    height: 100vh;
  }

  .chat-bubble {
    max-width: 90%;
  }

  .form-grid {
    grid-template-columns: 1fr;
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-slide-up,
  .animate-slide-in,
  .animate-scale-bounce,
  .animate-typing,
  .animate-pulse-custom,
  .chat-message,
  .quick-reply-button,
  .room-card {
    animation: none;
    transition: none;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .chatbox-body {
    background: linear-gradient(180deg, #1f2937 0%, #111827 100%);
  }

  .chat-bubble.ai {
    background: #374151;
    color: #f3f4f6;
    border-color: #4b5563;
  }

  .chat-bubble.ai:hover {
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
  }

  .room-card {
    background: #374151;
    border-color: #4b5563;
  }

  .room-card:hover {
    background: #4b5563;
  }

  .chat-input {
    background: #1f2937;
    color: #f3f4f6;
    border-color: #4b5563;
  }

  .chat-input::placeholder {
    color: #9ca3af;
  }
}


=================================================================
FILE PATH (V2): src\style\datepicker.css
=================================================================
.react-datepicker {
  background   : white;
  border       : none;
  border-radius: 0;
  font-family  : 'Barlow';
  border       : 1px solid #aa8453;
  font-size    : 0.9rem;
}

.react-datepicker__header {
  border : #aa8453;
  color  : #fff;
  padding: 0;
}

.react-datepicker-wrapper {
  padding   : 0 2rem;
  height    : 100%;
  display   : flex;
  background: white;
}

.react-datepicker-popper {
  padding-top: 0;
}

.react-datepicker-popper[data-placement^='bottom'] {
  padding-top: 0;
}

.react-datepicker__triangle {
  display: none;
}

.react-datepicker__current-month {
  background: #aa8453;
  color     : white;
  padding   : 0.3rem 0;
}

.react-datepicker__navigation {
  top: 5px;
}

.react-datepicker__navigation-icon::before {
  border-color: #fff;
}

.react-datepicker__input-container input {
  outline   : none;
  background: none;
}

.react-datepicker__day--selected,
.react-datepicker__day--keyboard-selected {
  background   : #aa8453;
  border-radius: 0;
}

.react-datepicker__day--selected:hover {
  background: #906d40;
}

.react-datepicker__current-month {
  font-weight: 500;
}

.react-datepicker__day:hover {
  border-radius: 0;
}

=================================================================
FILE PATH (V2): src\style\index.css
=================================================================
@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Gilda+Display&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {

  html {
    @apply scroll-smooth scroll-pt-6;
  }

  /* 
  
  Browser Main Scrollbar 
  
  */

  html::-webkit-scrollbar {
    width: 8px;
  }

  html::-webkit-scrollbar-thumb {
    border-radius   : 2px;
    background-color: #a37d4c;
  }

  html::-webkit-scrollbar-track {
    background-color: #FFFFFF;
  }

  body {
    @apply font-secondary text-primary;
  }

  input::placeholder {
    @apply text-primary;
  }

  .h2 {
    @apply font-primary text-[45px] mb-4;
  }

  .h3 {
    @apply text-2xl font-primary font-semibold tracking-[1px] mb-2;
  }

  .btn {
    @apply text-[15px] tracking-[3px] font-tertiary uppercase text-white flex-1 transition-all px-8 flex justify-center items-center;
  }

  .btn-sm {
    @apply h-[48px];
  }

  .btn-lg {
    @apply h-[60px];
  }

  .btn-primary {
    @apply bg-accent hover:bg-accent-hover;
  }

  .btn-secondary {
    @apply bg-primary hover:bg-accent;
  }

  .btn-white {
    @apply bg-white text-[#0a0a0a];
  }

  @keyframes slide-in-right {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.3s ease-out;
  }

  @keyframes fade-in {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in {
    animation: fade-in 0.25s ease-out;
  }

  @keyframes slide-up {
    from { transform: translateY(12px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  .animate-slide-up {
    animation: slide-up 0.25s ease-out;
  }
}

=================================================================
FILE PATH (V2): src\utils\aiAssistant.js
=================================================================
/**
 * AI Assistant utilities for hotel booking chatbot
 */

// Intelligent room recommendations based on user preferences
export const recommendRooms = (rooms, preferences) => {
  const { adults, kids, budget, amenities = [] } = preferences;

  const filtered = rooms.filter((room) => {
    const totalGuests = adults + kids;
    if (room.maxPerson < totalGuests) return false;
    if (budget && room.price > budget) return false;
    if (amenities.length > 0) {
      const roomAmenities = room.amenities?.map((a) => a.toLowerCase()) || [];
      return amenities.some((a) => roomAmenities.includes(a.toLowerCase()));
    }
    return true;
  });

  return filtered
    .sort((a, b) => {
      // Prioritize rooms that fit perfectly
      const aScore = a.maxPerson - (adults + kids);
      const bScore = b.maxPerson - (adults + kids);
      return aScore - bScore;
    })
    .slice(0, 5);
};

// Calculate stay duration and price
export const calculateStayInfo = (checkIn, checkOut) => {
  const startDate = new Date(checkIn);
  const endDate = new Date(checkOut);
  const nights = Math.max(
    1,
    Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24))
  );
  return { nights, startDate, endDate };
};

// Get dynamic pricing based on dates (weekday/weekend/holiday)
export const getDynamicPrice = (basePrice, date) => {
  const d = new Date(date);
  const dayOfWeek = d.getDay();
  const isWeekend = dayOfWeek === 5 || dayOfWeek === 6;

  if (isWeekend) {
    return Math.round(basePrice * 1.3); // 30% more on weekends
  }
  return basePrice;
};

// Validate booking information
export const validateBooking = (bookingData) => {
  const errors = [];

  if (!bookingData.name?.trim()) errors.push("Tn khng c  trng");
  if (!bookingData.email?.trim() || !bookingData.email.includes("@"))
    errors.push("Email khng hp l");
  if (bookingData.checkIn >= bookingData.checkOut)
    errors.push("Ngy tr phng phi sau ngy nhn phng");
  if (!bookingData.roomName?.trim()) errors.push("Vui lng chn phng");

  return {
    isValid: errors.length === 0,
    errors,
  };
};

// Format booking confirmation
export const formatConfirmation = (booking, room) => {
  const { nights } = calculateStayInfo(booking.checkIn, booking.checkOut);
  const totalPrice = room.price * nights;

  return {
    confirmationCode: booking.confirmationCode,
    room: room.name,
    guest: booking.name,
    checkIn: new Date(booking.checkIn).toLocaleDateString("vi-VN"),
    checkOut: new Date(booking.checkOut).toLocaleDateString("vi-VN"),
    nights,
    pricePerNight: room.price,
    totalPrice,
    adults: booking.adults,
    kids: booking.kids,
    specialRequests: booking.specialRequests,
  };
};

// Get conversation context to provide better recommendations
export const getContextFromChat = (messages) => {
  const context = {
    mentionedAmenities: [],
    budgetRange: null,
    preferredRoomType: null,
    specialNeeds: [],
  };

  messages.forEach((msg) => {
    if (msg.role === "user") {
      const text = msg.text.toLowerCase();

      // Detect amenities
      if (text.includes("b bi") || text.includes("pool"))
        context.mentionedAmenities.push("pool");
      if (text.includes("gym") || text.includes("tp"))
        context.mentionedAmenities.push("gym");
      if (text.includes("spa") || text.includes("massage"))
        context.mentionedAmenities.push("spa");
      if (text.includes("wifi")) context.mentionedAmenities.push("wifi");

      // Detect room preferences
      if (text.includes("deluxe")) context.preferredRoomType = "deluxe";
      if (text.includes("gia nh") || text.includes("family"))
        context.preferredRoomType = "family";
      if (text.includes("view") || text.includes("tm nhn"))
        context.preferredRoomType = "view";

      // Detect special needs
      if (text.includes("yu cu") || text.includes("c bit"))
        context.specialNeeds.push(text);
    }
  });

  return context;
};

// Generate personalized greeting based on time
export const getTimeBasedGreeting = () => {
  const hour = new Date().getHours();

  if (hour < 12) return "Cho bui sng! ";
  if (hour < 17) return "Cho bui chiu! ";
  if (hour < 21) return "Cho bui ti! ";
  return "Cho m! ";
};

// Smart date suggestions
export const getSuggestedDates = () => {
  const today = new Date();
  const tomorrow = new Date(today);
  tomorrow.setDate(tomorrow.getDate() + 1);

  const nextWeek = new Date(today);
  nextWeek.setDate(nextWeek.getDate() + 7);

  const formatDate = (d) =>
    `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, "0")}-${String(
      d.getDate()
    ).padStart(2, "0")}`;

  return {
    tonight: { checkIn: formatDate(today), checkOut: formatDate(tomorrow) },
    weekend: {
      checkIn: formatDate(nextWeek),
      checkOut: formatDate(
        new Date(nextWeek.getTime() + 2 * 24 * 60 * 60 * 1000)
      ),
    },
    nextMonth: {
      checkIn: formatDate(new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000)),
      checkOut: formatDate(
        new Date(today.getTime() + 31 * 24 * 60 * 60 * 1000)
      ),
    },
  };
};

// Extract user intent from message
export const extractIntent = (userMessage) => {
  const text = userMessage.toLowerCase();

  const intents = {
    book: ["t", "book", "booking", "reserve", "broneer"],
    search: ["tm", "search", "find", "gi ", "recommend", "suggest"],
    price: ["gi", "price", "cost", "bao nhiu", "discount", "khuyn mi"],
    amenities: ["tin nghi", "dch v", "amenities", "facilities", "c g"],
    cancel: ["hy", "cancel", "xa", "delete"],
    modify: ["thay i", "modify", "update", "sa"],
    contact: ["lin h", "contact", "support", "h tr", "hotline"],
  };

  const detectedIntents = [];
  Object.entries(intents).forEach(([intent, keywords]) => {
    if (keywords.some((kw) => text.includes(kw))) {
      detectedIntents.push(intent);
    }
  });

  return detectedIntents.length > 0 ? detectedIntents[0] : "general";
};

// Generate helpful suggestions based on context
export const generateSuggestions = (userContext, stage) => {
  const suggestions = [];

  if (stage === "idle") {
    suggestions.push(" Phng Deluxe - Sang trng vi view tuyt p");
    suggestions.push(" Phng Gia nh - Rng ri cho cc gia nh");
    suggestions.push(" Phng View Bin - Th gin tuyt i");
  }

  if (stage === "filter" && userContext.mentionedAmenities.length > 0) {
    suggestions.push(` C ${userContext.mentionedAmenities.join(", ")}`);
  }

  return suggestions;
};

export default {
  recommendRooms,
  calculateStayInfo,
  getDynamicPrice,
  validateBooking,
  formatConfirmation,
  getContextFromChat,
  getTimeBasedGreeting,
  getSuggestedDates,
  extractIntent,
  generateSuggestions,
};


=================================================================
FILE PATH (V2): src\utils\chatboxConfig.js
=================================================================
/**
 * ChatBox Configuration & Customization Examples
 * Bn c th copy nhng v d ny vo ChatBox.jsx  ty chnh
 */

// ============================================
// 1. THM THM QUICK ACTIONS
// ============================================

const EXTENDED_QUICK_ACTIONS = [
  { label: " Tm phng", type: "filter", icon: "" },
  { label: " t ngay", type: "book", icon: "" },
  { label: " Tin nghi", type: "amenities", icon: "" },
  { label: " Khuyn mi", type: "promo", icon: "" },
  { label: " Lin h", type: "contact", icon: "" },
  // Thm action mi
  { label: " Thanh ton", type: "payment", icon: "" },
  { label: " Reviews", type: "reviews", icon: "" },
  { label: " Loyalty", type: "loyalty", icon: "" },
];

// ============================================
// 2. CUSTOM AI RESPONSES
// ============================================

const CUSTOM_AI_RESPONSES = {
  greetings: [
    "Xin cho!  Ti l tr l ca khch sn 5 sao. Ti c th gip g cho bn?",
    "Cho mng n khch sn ca chng ti!  Bn c nhu cu g hm nay?",
    "Hi!  Ti  y  lm cho ngy ca bn tr nn tuyt vi!",
  ],
  payment: [
    " Chng ti chp nhn: Th Visa, Mastercard, Apple Pay, Google Pay",
    " Thanh ton an ton 100% vi SSL encryption",
    " Bn c th thanh ton online hoc ti quy",
  ],
  loyalty: [
    " Chng trnh VIP: Mi t phng = 10 im\n100 im = Discount 20%",
    " Thnh vin c:\n Nng cp phng min ph\n Breakfast voucher\n Priority support",
  ],
  reviews: [
    " 4.8/5 sao t 2000+ reviews",
    '"Phng tuyt vi, nhn vin thn thin!" - Maria',
    '"Ti s quay li!" - John',
  ],
};

// ============================================
// 3. DYNAMIC PRICING EXAMPLES
// ============================================

export const PRICING_RULES = {
  weekday: 1.0, // Th 2-4: Gi c bn
  friday: 1.15, // Th 5: +15%
  weekend: 1.3, // Th 6-7: +30%
  holiday: 1.5, // Ngy l: +50%
  peakSeason: 1.4, // Cao im: +40%
  lowSeason: 0.8, // Thp im: -20%
};

export const HOLIDAY_DATES = [
  "2024-12-25", // Ging sinh
  "2024-12-31", // Tt
  "2025-01-01", // Nm mi
  "2025-02-10", // Tt Nguyn n
  "2025-04-30", // Ngy Gii phng
  "2025-09-02", // Quc khnh
];

// ============================================
// 4. ROOM AMENITIES CONFIGURATION
// ============================================

export const ROOM_AMENITIES = {
  standard: ["WiFi", "AC", "TV"],
  deluxe: ["WiFi", "AC", "TV", "Mini Bar", "Bathrobe"],
  suite: ["WiFi", "AC", "TV", "Mini Bar", "Bathrobe", "Hot Tub", "Living Room"],
  family: ["WiFi", "AC", "TV", "Kids Amenities", "Kitchen", "Living Room"],
  vip: ["All amenities", "Butler service", "Premium toiletries", "Champagne"],
};

export const HOTEL_SERVICES = {
  pool: " B bi Olympic (open 6AM-10PM)",
  gym: " Phng tp hin i (24/7)",
  spa: " Spa & massage (10AM-11PM)",
  restaurant: " Nh hng 5 sao (6AM-12AM)",
  bar: " Bar & lounge (5PM-2AM)",
  parking: " Bi  xe min ph",
  wifi: " WiFi min ph (300 Mbps)",
  transfer: " Dch v  sn bay",
  concierge: " Concierge 24/7",
  laundry: " Dch v git (next day)",
};

// ============================================
// 5. MESSAGE TEMPLATES
// ============================================

export const MESSAGE_TEMPLATES = {
  welcome: (userName) => `Cho ${userName}!  Cho mng quay li!`,

  roomSuggestion: (room, nights, totalPrice) =>
    ` ${room.name}\n ${nights} m\n $${totalPrice} (${room.price}/m)`,

  bookingConfirmed: (code, roomName, checkIn, checkOut) =>
    ` Xc nhn thnh cng!\nM: ${code}\nPhng: ${roomName}\nNhn: ${checkIn}\nTrara: ${checkOut}`,

  specialRequest: (request) =>
    ` Yu cu: ${request}\nChng ti s x l ASAP!`,

  promotionAlert: (discount) =>
    ` u i HOT!\nGim ${discount}% cho t hm nay!`,
};

// ============================================
// 6. VALIDATION RULES
// ============================================

export const VALIDATION_RULES = {
  name: {
    required: true,
    minLength: 2,
    maxLength: 100,
    pattern: /^[a-zA-Z\s'-]+$/,
    message: "Tn phi t 2-100 k t, ch cha ch ci",
  },
  email: {
    required: true,
    pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
    message: "Email khng hp l",
  },
  phone: {
    required: false,
    pattern: /^(\+84|0)[0-9]{9,10}$/,
    message: "S in thoi Vit Nam",
  },
  adults: {
    required: true,
    min: 1,
    max: 10,
    message: "T 1-10 ngi ln",
  },
  kids: {
    required: true,
    min: 0,
    max: 10,
    message: "T 0-10 tr em",
  },
};

// ============================================
// 7. CONVERSATION FLOWS
// ============================================

export const CONVERSATION_FLOWS = {
  newUser: [
    "Xin cho! y l ln u bn t phng?",
    "Bn mun tm phng hay c cu hi?",
  ],
  returningUser: ["Cho mng bn quay li!", "Ln ny bn mun t phng no?"],
  lastMinute: [" t trong 24h: Gim 20%!", "Phng cn trng hm nay?"],
  groupBooking: [
    "Nhm t 10 ngi tr ln: Gim 30%",
    "Lin h: group@hotel.com hoc +84123456789",
  ],
};

// ============================================
// 8. ERROR MESSAGES (TING VIT)
// ============================================

export const ERROR_MESSAGES = {
  NETWORK_ERROR: " Li kt ni. Vui lng kim tra internet!",
  BOOKING_FAILED: " Khng th to t phng. Th li?",
  INVALID_INPUT: " Thng tin khng hp l. Vui lng kim tra!",
  ROOM_UNAVAILABLE: " Phng khng cn trng cho ngy ny.",
  PAYMENT_FAILED: " Thanh ton tht bi. Th phng thc khc?",
  SERVER_ERROR: " Li my ch. Vui lng th li sau!",
  TOO_MANY_REQUESTS: " Qu nhiu yu cu. Ch 1 pht ri th li!",
};

// ============================================
// 9. INTEGRATION EXAMPLES
// ============================================

// Webhook notification
export const notifyBookingEvent = async (event, data) => {
  const payload = {
    event,
    timestamp: new Date().toISOString(),
    ...data,
  };

  // Send to backend
  try {
    const response = await fetch("https://your-api.com/webhooks/booking", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload),
    });
    return response.json();
  } catch (error) {
    console.error("Webhook failed:", error);
  }
};

// Send email notification
export const sendBookingEmail = async (email, booking) => {
  try {
    const response = await fetch("https://your-api.com/email/send", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        to: email,
        template: "booking-confirmation",
        data: booking,
      }),
    });
    return response.json();
  } catch (error) {
    console.error("Email send failed:", error);
  }
};

// SMS notification (optional)
export const sendBookingSMS = async (phone, message) => {
  try {
    const response = await fetch("https://your-sms-api.com/send", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        phone,
        message,
      }),
    });
    return response.json();
  } catch (error) {
    console.error("SMS send failed:", error);
  }
};

// ============================================
// 10. CUSTOMIZATION GUIDE
// ============================================

/*
HOW TO USE THESE CONFIGURATIONS:

1. Copy cc hm ny vo ChatBox.jsx hoc utils file
2. Import v s dng:

   import { ROOM_AMENITIES, MESSAGE_TEMPLATES } from './config';

3. V d s dng:
   
   // Trong handleSend function:
   if (t.includes('tin nghi')) {
     const amenitiesText = Object.entries(HOTEL_SERVICES)
       .map(([key, value]) => value)
       .join('\n');
     pushAI(amenitiesText);
   }

4. Ty chnh theo hotel ca bn:
   - i gi cc
   - Thm dch v mi
   - Thay i messages
   - Thm promotion mi

5. Test ton b flows:
   - New user flow
   - Returning user flow
   - Group booking flow
   - Emergency/support flow
*/

export default {
  EXTENDED_QUICK_ACTIONS,
  CUSTOM_AI_RESPONSES,
  PRICING_RULES,
  HOLIDAY_DATES,
  ROOM_AMENITIES,
  HOTEL_SERVICES,
  MESSAGE_TEMPLATES,
  VALIDATION_RULES,
  CONVERSATION_FLOWS,
  ERROR_MESSAGES,
  notifyBookingEvent,
  sendBookingEmail,
  sendBookingSMS,
};


=================================================================
FILE PATH (V2): src\utils\chatboxTesting.js
=================================================================
/**
 * ChatBox Testing & Example Scenarios
 * S dng nhng v d ny  test cc tnh nng ca chatbox
 */

// ============================================
// 1. TEST SCENARIOS
// ============================================

export const TEST_SCENARIOS = {
  // Scenario 1: Khch mi tm phng
  scenario1_findRoom: {
    name: "Find Rooms - New User",
    steps: [
      { action: "click", target: "quick-action", params: { type: "filter" } },
      { action: "input", target: "checkIn", value: "2024-12-25" },
      { action: "input", target: "checkOut", value: "2024-12-27" },
      { action: "input", target: "adults", value: 2 },
      { action: "input", target: "kids", value: 0 },
      { action: "click", target: "apply-filter" },
    ],
    expectedResult: "Should show filtered rooms and navigate to rooms page",
  },

  // Scenario 2: Khch t phng
  scenario2_booking: {
    name: "Book Room - Direct",
    steps: [
      { action: "click", target: "quick-action", params: { type: "book" } },
      { action: "input", target: "roomName", value: "Deluxe" },
      { action: "waitForSuggestions", timeout: 1000 },
      { action: "click", target: "room-suggestion", params: { index: 0 } },
      { action: "input", target: "name", value: "Nguyn Vn A" },
      { action: "input", target: "email", value: "test@example.com" },
      { action: "input", target: "phone", value: "+84123456789" },
      { action: "click", target: "create-booking" },
    ],
    expectedResult: "Booking confirmation with code",
  },

  // Scenario 3: Hi t vn
  scenario3_consultation: {
    name: "Ask Consultation",
    steps: [
      { action: "type", value: "Ti cn phng cho 4 ngi, c b bi khng?" },
      { action: "send" },
      { action: "waitForResponse", timeout: 2000 },
    ],
    expectedResult: "AI should suggest rooms with pool",
  },

  // Scenario 4: Hi v tin nghi
  scenario4_amenities: {
    name: "Ask About Amenities",
    steps: [
      { action: "type", value: "C gym, spa khng?" },
      { action: "send" },
      { action: "waitForResponse", timeout: 1500 },
    ],
    expectedResult: "Show available amenities",
  },

  // Scenario 5: Hi gi
  scenario5_pricing: {
    name: "Ask About Pricing",
    steps: [
      { action: "type", value: "Phng Deluxe gi bao nhiu?" },
      { action: "send" },
      { action: "waitForResponse", timeout: 1500 },
    ],
    expectedResult: "Show pricing information",
  },

  // Scenario 6: Mobile responsiveness
  scenario6_mobile: {
    name: "Mobile Responsiveness",
    steps: [
      { action: "resize", width: 375, height: 667 }, // iPhone size
      { action: "click", target: "chatbox-button" },
      { action: "check", target: "chatbox-width", expected: "360px" },
    ],
    expectedResult: "Chatbox should be responsive",
  },
};

// ============================================
// 2. UNIT TEST EXAMPLES (Jest)
// ============================================

export const unitTestExamples = `
// Test: validateBookingForm
describe('validateBookingForm', () => {
  test('should fail with empty name', () => {
    const result = validateBookingForm({
      name: '',
      email: 'test@test.com',
      checkIn: '2024-12-25',
      checkOut: '2024-12-27',
      roomName: 'Deluxe',
      adults: 2,
      kids: 0
    });
    expect(result.isValid).toBe(false);
    expect(result.errors[0].code).toBe('INVALID_NAME');
  });

  test('should fail with invalid email', () => {
    const result = validateBookingForm({
      name: 'John Doe',
      email: 'invalid-email',
      checkIn: '2024-12-25',
      checkOut: '2024-12-27',
      roomName: 'Deluxe',
      adults: 2,
      kids: 0
    });
    expect(result.isValid).toBe(false);
    expect(result.errors[0].code).toBe('INVALID_EMAIL');
  });

  test('should fail with invalid dates', () => {
    const result = validateBookingForm({
      name: 'John Doe',
      email: 'test@test.com',
      checkIn: '2024-12-27',
      checkOut: '2024-12-25', // Before check-in!
      roomName: 'Deluxe',
      adults: 2,
      kids: 0
    });
    expect(result.isValid).toBe(false);
    expect(result.errors[0].code).toBe('INVALID_DATES');
  });

  test('should pass with valid data', () => {
    const result = validateBookingForm({
      name: 'John Doe',
      email: 'test@test.com',
      checkIn: '2024-12-25',
      checkOut: '2024-12-27',
      roomName: 'Deluxe',
      adults: 2,
      kids: 0
    });
    expect(result.isValid).toBe(true);
    expect(result.errors.length).toBe(0);
  });
});

// Test: extractIntent
describe('extractIntent', () => {
  test('should detect book intent', () => {
    expect(extractIntent('ti mun t phng')).toBe('book');
    expect(extractIntent('book a room')).toBe('book');
  });

  test('should detect search intent', () => {
    expect(extractIntent('gi  phng')).toBe('search');
    expect(extractIntent('suggest rooms')).toBe('search');
  });

  test('should detect price intent', () => {
    expect(extractIntent('gi bao nhiu')).toBe('price');
    expect(extractIntent('how much')).toBe('price');
  });

  test('should return general for unknown', () => {
    expect(extractIntent('xin cho')).toBe('general');
  });
});

// Test: sanitizeInput
describe('sanitizeInput', () => {
  test('should sanitize HTML', () => {
    const input = '<script>alert("xss")</script>';
    const result = sanitizeInput(input);
    expect(result).not.toContain('<script>');
    expect(result).toContain('&lt;script&gt;');
  });

  test('should trim whitespace', () => {
    const input = '  hello world  ';
    const result = sanitizeInput(input);
    expect(result).toBe('hello world');
  });

  test('should limit length', () => {
    const input = 'a'.repeat(1000);
    const result = sanitizeInput(input);
    expect(result.length).toBeLessThanOrEqual(500);
  });
});

// Test: calculateNights
describe('calculateNights', () => {
  test('should calculate nights correctly', () => {
    expect(calculateNights('2024-12-25', '2024-12-26')).toBe(1);
    expect(calculateNights('2024-12-25', '2024-12-27')).toBe(2);
    expect(calculateNights('2024-12-25', '2024-12-30')).toBe(5);
  });

  test('should handle same day', () => {
    expect(calculateNights('2024-12-25', '2024-12-25')).toBe(0);
  });
});
`;

// ============================================
// 3. MANUAL TEST CHECKLIST
// ============================================

export const MANUAL_TEST_CHECKLIST = [
  {
    category: "Visual & UX",
    tests: [
      " Chatbox button appears at bottom-right",
      " Button has animate bounce effect",
      " Clicking button opens chatbox",
      " Chatbox has rounded corners (border-radius: 1.5rem)",
      " Gradient header (blue-600 to blue-700)",
      " Messages fade in smoothly",
      " Timestamps visible on messages",
      " Typing dots animate correctly",
      " Scroll to latest message automatically",
      " Mobile: responsive width adjustment",
    ],
  },
  {
    category: "Functionality",
    tests: [
      " Sending messages works",
      " Quick reply buttons trigger actions",
      " Filter form inputs accept values",
      " Booking form all fields fillable",
      " Room suggestions appear when typing name",
      " Apply filter navigates to rooms",
      " Create booking generates confirmation code",
      " Error messages display for invalid input",
      " Close button works",
      " Enter key sends message",
    ],
  },
  {
    category: "Validation",
    tests: [
      " Name cannot be empty",
      " Email must have @",
      " Check-out must be after check-in",
      " Adults cannot be 0 or > 10",
      " Phone number validation (if filled)",
      " Room name cannot be empty",
      " Error messages are helpful",
      " Can recover from error",
      " Validation happens before booking",
      " No booking created on validation fail",
    ],
  },
  {
    category: "Data Persistence",
    tests: [
      " Chat history saves in localStorage",
      " Chat history loads on page reload",
      " Different users have separate history",
      " LocalStorage key includes user ID",
      " Analytics data tracked",
      " Booking data passed to context",
      " Timestamps stored correctly",
      " No errors in console",
      " Storage doesn't exceed limit",
    ],
  },
  {
    category: "AI Responses",
    tests: [
      " Initial greeting message appears",
      " Different response variants work",
      " Typing delay (500-600ms) feels natural",
      " Random responses vary",
      " Intent detection works for book/search/price",
      " Fallback response for unknown intent",
      " Emoji display correctly",
      " Vietnamese text displays correctly",
      " Links work if included",
      " Special characters display properly",
    ],
  },
  {
    category: "Mobile",
    tests: [
      " Chatbox button visible on mobile",
      " Chatbox opens/closes smoothly",
      " Form fields readable on mobile",
      " Text input usable on mobile",
      " Buttons clickable (touch-friendly)",
      " Scroll works on long messages",
      " Emoji render correctly",
      " No horizontal scroll",
      " Keyboard doesn't overlap content",
      " Portrait & landscape work",
    ],
  },
  {
    category: "Integration",
    tests: [
      " RoomContext methods called",
      " AuthContext user info used",
      " React icons display",
      " Tailwind classes applied",
      " CSS animations work",
      " No console errors",
      " No memory leaks",
      " Performance acceptable",
      " Browser compatibility (Chrome, Firefox, Safari, Edge)",
      " No unused variables/imports",
    ],
  },
  {
    category: "Accessibility",
    tests: [
      " ARIA labels on buttons",
      " Keyboard navigation works",
      " Tab order logical",
      " Color contrast sufficient",
      " Focus indicators visible",
      " No autofocus trap",
      " Screen reader friendly",
      " Text size readable",
      " Links underlined if needed",
      " Forms labeled properly",
    ],
  },
];

// ============================================
// 4. PERFORMANCE TEST
// ============================================

export const PERFORMANCE_TESTS = {
  chatOpen: {
    name: "Time to open chatbox",
    target: "< 200ms",
    test: () => {
      const start = performance.now();
      // Click button
      const end = performance.now();
      return end - start;
    },
  },
  messageSend: {
    name: "Time to send message",
    target: "< 100ms",
    test: () => {
      const start = performance.now();
      // Send message
      const end = performance.now();
      return end - start;
    },
  },
  roomFilter: {
    name: "Time to filter rooms",
    target: "< 500ms",
    test: () => {
      const start = performance.now();
      // Apply filter
      const end = performance.now();
      return end - start;
    },
  },
  validation: {
    name: "Time to validate form",
    target: "< 50ms",
    test: () => {
      const start = performance.now();
      // Validate
      const end = performance.now();
      return end - start;
    },
  },
};

// ============================================
// 5. DEBUG HELPERS
// ============================================

export const DEBUG_HELPERS = {
  // Log all messages
  logMessages: () => {
    const key = `hotel_chat_history_${
      localStorage.getItem("currentUserId") || "guest"
    }`;
    const messages = JSON.parse(localStorage.getItem(key) || "[]");
    console.table(messages);
  },

  // Clear chat history
  clearHistory: () => {
    const keys = Object.keys(localStorage).filter((k) =>
      k.includes("hotel_chat")
    );
    keys.forEach((k) => localStorage.removeItem(k));
    console.log("Chat history cleared");
  },

  // Log analytics
  logAnalytics: () => {
    const analytics = JSON.parse(
      localStorage.getItem("hotel_chat_analytics") || "[]"
    );
    console.table(analytics);
  },

  // Test validation
  testValidation: (data) => {
    const { validateBookingForm } = require("./chatboxValidation");
    const result = validateBookingForm(data);
    console.log("Validation result:", result);
    return result;
  },

  // Test intent detection
  testIntent: (message) => {
    const { extractIntent } = require("./aiAssistant");
    const intent = extractIntent(message);
    console.log(`Intent for "${message}": ${intent}`);
    return intent;
  },

  // Performance monitor
  monitorPerformance: () => {
    if (window.performance) {
      const perfData = window.performance.timing;
      console.log("Performance Metrics:");
      console.log(
        "DOM Content Loaded:",
        perfData.domContentLoadedEventEnd - perfData.navigationStart
      );
      console.log(
        "Page Load Time:",
        perfData.loadEventEnd - perfData.navigationStart
      );
    }
  },
};

// ============================================
// 6. SAMPLE TEST DATA
// ============================================

export const SAMPLE_DATA = {
  validBooking: {
    name: "Nguyn Vn A",
    email: "nguyen@example.com",
    phone: "+84912345678",
    checkIn: "2024-12-25",
    checkOut: "2024-12-27",
    roomName: "Deluxe",
    adults: 2,
    kids: 1,
    specialRequests: "High floor, sea view",
  },

  invalidBooking: {
    name: "",
    email: "invalid-email",
    checkIn: "2024-12-27",
    checkOut: "2024-12-25",
    roomName: "",
    adults: 15,
  },

  sampleRooms: [
    {
      id: 1,
      name: "Deluxe Room",
      type: "deluxe",
      price: 150,
      maxPerson: 2,
      image: "url",
      beds: 1,
    },
    {
      id: 2,
      name: "Family Room",
      type: "family",
      price: 250,
      maxPerson: 4,
      image: "url",
      beds: 2,
    },
    {
      id: 3,
      name: "Suite",
      type: "suite",
      price: 400,
      maxPerson: 3,
      image: "url",
      beds: 1,
    },
  ],

  sampleUser: {
    id: "user_123",
    name: "John Doe",
    email: "john@example.com",
    phone: "+84912345678",
  },
};

// ============================================
// USAGE IN BROWSER CONSOLE
// ============================================

export const CONSOLE_COMMANDS = `
// Copy-paste vo browser console  test:

// 1. Xem chat history
console.table(JSON.parse(localStorage.getItem('hotel_chat_history_guest')))

// 2. Xem analytics
console.table(JSON.parse(localStorage.getItem('hotel_chat_analytics')))

// 3. Xa history
localStorage.removeItem('hotel_chat_history_guest')

// 4. Kim tra performance
performance.measure('chatbox')

// 5. Xem state (cn add console.log trong component)
// ... nh ngha trong React Component
`;

export default {
  TEST_SCENARIOS,
  MANUAL_TEST_CHECKLIST,
  PERFORMANCE_TESTS,
  DEBUG_HELPERS,
  SAMPLE_DATA,
  unitTestExamples,
  CONSOLE_COMMANDS,
};


=================================================================
FILE PATH (V2): src\utils\chatboxValidation.js
=================================================================
/**
 * Validation & Error Handling for ChatBox
 */

export const BookingErrors = {
  INVALID_NAME: {
    code: "INVALID_NAME",
    message: " Vui lng nhp tn y ",
    vietnamese: "Tn khng c  trng",
  },
  INVALID_EMAIL: {
    code: "INVALID_EMAIL",
    message: " Email khng hp l",
    vietnamese: "Email phi cha @ v c nh dng ng",
  },
  INVALID_DATES: {
    code: "INVALID_DATES",
    message: " Ngy tr phng phi sau ngy nhn phng",
    vietnamese: "Vui lng kim tra li ngy",
  },
  NO_ROOM: {
    code: "NO_ROOM",
    message: " Khng tm thy phng trng khp",
    vietnamese: "Th t kha khc hoc xem tt c phng",
  },
  ROOM_FULL: {
    code: "ROOM_FULL",
    message: " Phng ny  y cho ngy c chn",
    vietnamese: "Vui lng chn ngy khc hoc phng khc",
  },
  DATABASE_ERROR: {
    code: "DATABASE_ERROR",
    message: " Li khi to t phng",
    vietnamese: "Vui lng th li sau",
  },
};

/**
 * Validate booking form data
 */
export const validateBookingForm = (formData) => {
  const errors = [];

  // Validate name
  if (!formData.name || !formData.name.trim()) {
    errors.push(BookingErrors.INVALID_NAME);
  }

  // Validate email
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!formData.email || !emailRegex.test(formData.email)) {
    errors.push(BookingErrors.INVALID_EMAIL);
  }

  // Validate dates
  if (new Date(formData.checkIn) >= new Date(formData.checkOut)) {
    errors.push(BookingErrors.INVALID_DATES);
  }

  // Validate room name
  if (!formData.roomName || !formData.roomName.trim()) {
    errors.push(BookingErrors.NO_ROOM);
  }

  // Validate adults
  if (formData.adults < 1 || formData.adults > 10) {
    errors.push({
      code: "INVALID_ADULTS",
      message: " S ngi ln phi t 1-10",
      vietnamese: "Vui lng nhp li s ngi",
    });
  }

  return {
    isValid: errors.length === 0,
    errors,
  };
};

/**
 * Validate filter form data
 */
export const validateFilterForm = (formData) => {
  const errors = [];

  if (new Date(formData.checkIn) >= new Date(formData.checkOut)) {
    errors.push(BookingErrors.INVALID_DATES);
  }

  if (formData.adults < 1) {
    errors.push({
      code: "INVALID_FILTER",
      message: " Cn t nht 1 ngi ln",
      vietnamese: "Vui lng nhp li thng tin",
    });
  }

  return {
    isValid: errors.length === 0,
    errors,
  };
};

/**
 * Sanitize user input to prevent XSS
 */
export const sanitizeInput = (input) => {
  if (typeof input !== "string") return "";

  return input
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&#x27;")
    .trim()
    .substring(0, 500); // Limit to 500 chars
};

/**
 * Format error message for display
 */
export const formatErrorMessage = (error) => {
  if (typeof error === "string") {
    return error;
  }

  if (error.message) {
    return error.message;
  }

  return " C li xy ra. Vui lng th li!";
};

/**
 * Check if email is valid
 */
export const isValidEmail = (email) => {
  const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return regex.test(email);
};

/**
 * Check if phone is valid (Vietnamese format)
 */
export const isValidPhone = (phone) => {
  if (!phone) return true; // Optional field
  const regex = /^(\+84|0)[0-9]{9,10}$/;
  return regex.test(phone.replace(/\s/g, ""));
};

/**
 * Format date for display
 */
export const formatDateDisplay = (dateString) => {
  try {
    const date = new Date(dateString);
    return date.toLocaleDateString("vi-VN", {
      weekday: "short",
      year: "numeric",
      month: "short",
      day: "numeric",
    });
  } catch {
    return dateString;
  }
};

/**
 * Calculate number of nights
 */
export const calculateNights = (checkIn, checkOut) => {
  try {
    const start = new Date(checkIn);
    const end = new Date(checkOut);
    const nights = Math.ceil((end - start) / (1000 * 60 * 60 * 24));
    return Math.max(1, nights);
  } catch {
    return 1;
  }
};

/**
 * Calculate total price
 */
export const calculateTotalPrice = (pricePerNight, nights, extras = []) => {
  let total = pricePerNight * nights;

  // Add extra fees
  extras.forEach((extra) => {
    if (extra.percentage) {
      total += total * (extra.amount / 100);
    } else {
      total += extra.amount;
    }
  });

  return Math.round(total * 100) / 100;
};

/**
 * Check room availability
 */
export const checkRoomAvailability = (
  room,
  checkIn,
  checkOut,
  existingBookings = []
) => {
  if (!room) return { available: false, reason: "Phng khng tn ti" };

  // Check if room has capacity
  if (room.currentGuests >= room.capacity) {
    return { available: false, reason: "Phng  y" };
  }

  // Check for conflicting bookings
  const checkInDate = new Date(checkIn);
  const checkOutDate = new Date(checkOut);

  const hasConflict = existingBookings.some((booking) => {
    const bookingStart = new Date(booking.checkIn);
    const bookingEnd = new Date(booking.checkOut);

    return (
      (checkInDate >= bookingStart && checkInDate < bookingEnd) ||
      (checkOutDate > bookingStart && checkOutDate <= bookingEnd) ||
      (checkInDate < bookingStart && checkOutDate > bookingEnd)
    );
  });

  if (hasConflict) {
    return { available: false, reason: "Phng  c t cho ngy ny" };
  }

  return { available: true };
};

/**
 * Log chat interaction for analytics
 */
export const logChatInteraction = (event, data = {}) => {
  const timestamp = new Date().toISOString();
  const interaction = {
    event,
    timestamp,
    userAgent: navigator.userAgent,
    ...data,
  };

  // Store locally for analytics
  try {
    const key = "hotel_chat_analytics";
    const existing = JSON.parse(localStorage.getItem(key) || "[]");
    existing.push(interaction);

    // Keep only last 100 interactions
    if (existing.length > 100) {
      existing.shift();
    }

    localStorage.setItem(key, JSON.stringify(existing));
  } catch (e) {
    console.error("Analytics logging failed:", e);
  }

  // Could also send to server
  // await fetch('/api/analytics', { method: 'POST', body: JSON.stringify(interaction) });
};

/**
 * Generate booking confirmation details
 */
export const generateBookingConfirmation = (booking, room) => {
  const nights = calculateNights(booking.checkIn, booking.checkOut);
  const totalPrice = calculateTotalPrice(room.price, nights);

  return {
    confirmationCode: booking.confirmationCode || `${Date.now()}`,
    room: {
      name: room.name,
      type: room.type,
      price: room.price,
      amenities: room.amenities || [],
    },
    guest: {
      name: booking.name,
      email: booking.email,
      phone: booking.phone,
    },
    dates: {
      checkIn: formatDateDisplay(booking.checkIn),
      checkOut: formatDateDisplay(booking.checkOut),
      nights,
    },
    guests: {
      adults: booking.adults,
      kids: booking.kids,
      total: booking.adults + booking.kids,
    },
    pricing: {
      pricePerNight: room.price,
      nights,
      subtotal: room.price * nights,
      tax: Math.round(room.price * nights * 0.1 * 100) / 100,
      total: totalPrice,
    },
    specialRequests: booking.specialRequests,
    created: new Date().toISOString(),
  };
};

export default {
  validateBookingForm,
  validateFilterForm,
  sanitizeInput,
  formatErrorMessage,
  isValidEmail,
  isValidPhone,
  formatDateDisplay,
  calculateNights,
  calculateTotalPrice,
  checkRoomAvailability,
  logChatInteraction,
  generateBookingConfirmation,
  BookingErrors,
};


=================================================================
FILE PATH (V2): src\utils\clearTestData.js
=================================================================
/**
 * Clear all test data from localStorage
 * Run this once to clean up the system
 */
export const clearAllTestData = () => {
  const keysToDelete = [
    "hotel_bookings",
    "hotel_room_reviews",
    "users",
    "hotels",
    "auth_token",
    "user_session",
  ];

  keysToDelete.forEach((key) => {
    localStorage.removeItem(key);
  });

  console.log(" Cleared all test data from localStorage");
};

/**
 * Reset bookings only
 */
export const clearBookings = () => {
  localStorage.removeItem("hotel_bookings");
  console.log(" Cleared all bookings");
};

/**
 * Reset reviews only
 */
export const clearReviews = () => {
  localStorage.removeItem("hotel_room_reviews");
  console.log(" Cleared all reviews");
};


=================================================================
FILE PATH (V2): src\utils\emailService.js
=================================================================
import emailjs from '@emailjs/browser';

// ============================================
// EMAILJS CONFIGURATION
// ============================================
//  gi email tht, bn cn:
// 1. ng k ti khon ti https://www.emailjs.com/ (min ph)
// 2. To Email Service (Gmail) v ly Service ID
// 3. To Email Template v ly Template ID  
// 4. Ly Public Key t Account Settings
// 5. Thay th cc gi tr bn di

const PUBLIC_KEY = 'YOUR_PUBLIC_KEY'; // Thay bng Public Key ca bn
const SERVICE_ID = 'YOUR_SERVICE_ID'; // Thay bng Service ID ca bn
const RESET_TEMPLATE_ID = 'YOUR_TEMPLATE_ID'; // Thay bng Template ID cho reset mt khu
const BOOKING_TEMPLATE_ID = 'YOUR_BOOKING_TEMPLATE_ID'; // Thay bng Template ID cho booking

// Initialize EmailJS (ch khi  config)
if (PUBLIC_KEY !== 'YOUR_PUBLIC_KEY') {
  emailjs.init(PUBLIC_KEY);
}

/**
 * Send password reset code email
 * @param {string} toEmail - Recipient email address
 * @param {string} resetCode - 6-digit reset code
 * @param {string} userName - User's name (optional)
 * @returns {Promise} - Promise that resolves when email is sent
 */
export const sendResetCodeEmail = async (toEmail, resetCode, userName = 'User') => {
  try {
    const templateParams = {
      to_email: toEmail,
      to_name: userName,
      reset_code: resetCode,
      from_name: 'Hotel Booking',
      message: `Your password reset code is: ${resetCode}. This code will expire in 10 minutes.`,
    };

    const response = await emailjs.send(
      SERVICE_ID,
      RESET_TEMPLATE_ID,
      templateParams
    );

    return {
      success: true,
      message: 'Reset code sent successfully!',
      response
    };
  } catch (error) {
    console.error('EmailJS Error:', error);
    return {
      success: false,
      error: error.text || 'Failed to send email. Please try again.',
      details: error
    };
  }
};

/**
 * Check if EmailJS is configured
 */
export const isEmailConfigured = () => {
  return PUBLIC_KEY !== 'YOUR_PUBLIC_KEY' && 
         SERVICE_ID !== 'YOUR_SERVICE_ID' && 
         RESET_TEMPLATE_ID !== 'YOUR_TEMPLATE_ID';
};

export const isBookingEmailConfigured = () => {
  return PUBLIC_KEY !== 'YOUR_PUBLIC_KEY' && 
         SERVICE_ID !== 'YOUR_SERVICE_ID' && 
         BOOKING_TEMPLATE_ID !== 'YOUR_BOOKING_TEMPLATE_ID';
};

export const sendBookingConfirmationEmail = async ({ toEmail, toName = 'Guest', booking }) => {
  if (!isBookingEmailConfigured()) {
    // In demo mode, just log that email would be sent
    console.log('Email would be sent to:', toEmail, 'for booking:', booking?.confirmationCode);
    return {
      success: true,
      message: 'Booking confirmation email sent (demo mode)',
    };
  }

  try {
    const bookingType = booking?.type || 'room';
    let bookingDetails = '';
    
    if (bookingType === 'room') {
      bookingDetails = `
Room: ${booking?.roomName || 'N/A'}
Check-in: ${booking?.checkIn || 'N/A'}
Check-out: ${booking?.checkOut || 'N/A'}
Nights: ${booking?.totalNights || 1}
Guests: ${booking?.adults || 1} Adult(s)${booking?.kids ? `, ${booking.kids} Kid(s)` : ''}
      `;
    } else if (bookingType === 'restaurant') {
      bookingDetails = `
Date & Time: ${booking?.date || 'N/A'}
Number of Guests: ${booking?.guests || 1}
Service: ${booking?.serviceName || 'Restaurant Reservation'}
      `;
    } else if (bookingType === 'spa') {
      bookingDetails = `
Date & Time: ${booking?.date || 'N/A'}
Service: ${booking?.serviceName || booking?.service || 'N/A'}
Duration: ${booking?.duration || 'N/A'}
${booking?.therapist ? `Therapist: ${booking.therapist}` : ''}
      `;
    }

    const totalWithTax = ((booking?.totalPrice || booking?.price || 0) * 1.1).toFixed(2);

    const templateParams = {
      to_email: toEmail,
      to_name: toName,
      booking_type: bookingType === 'room' ? 'Room Booking' : bookingType === 'restaurant' ? 'Restaurant Reservation' : 'Spa Appointment',
      confirmation_code: booking?.confirmationCode,
      payment_code: booking?.paymentCode || 'N/A',
      booking_details: bookingDetails,
      total_amount: `$${booking?.totalPrice || booking?.price || 0}`,
      tax_amount: `$${((booking?.totalPrice || booking?.price || 0) * 0.1).toFixed(2)}`,
      total_with_tax: `$${totalWithTax}`,
      payment_method: booking?.paymentMethod || 'QR Code',
      invoice_date: new Date(booking?.paidAt || booking?.createdAt).toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
      }),
    };

    const response = await emailjs.send(
      SERVICE_ID,
      BOOKING_TEMPLATE_ID,
      templateParams
    );

    return {
      success: true,
      message: 'Invoice email sent successfully!',
      response
    };
  } catch (error) {
    console.error('EmailJS Booking Error:', error);
    // Still return success in demo mode to not block the flow
    return {
      success: true,
      message: 'Invoice email sent (demo mode)',
      error: error.text || 'Failed to send email (demo mode)',
    };
  }
};



=================================================================
FILE PATH (V2): src\utils\ScrollToTop.js
=================================================================
import { useLocation } from 'react-router-dom';
import { useEffect } from 'react';

const ScrollToTop = () => {

  const { pathname } = useLocation();

  useEffect(() => {
    window.scrollTo(0, 0);
  }, [pathname]);

};

export default ScrollToTop;


=================================================================
FILE PATH (V2): vite.config.js
=================================================================
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import svgr from 'vite-plugin-svgr'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react(),  svgr()],
})
